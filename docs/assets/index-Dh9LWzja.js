import{j as e}from"./charts-Bv6R4jDR.js";import{a as Ce,g as ke,b as x,L as A,N as oe,c as Se,H as Me,R as Ee,d as w,e as Ae}from"./vendor-bYsuS44W.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();var G={},X;function Ie(){if(X)return G;X=1;var t=Ce();return G.createRoot=t.createRoot,G.hydrateRoot=t.hydrateRoot,G}var Te=Ie();const Pe=ke(Te),H={AR5:"AR5",AR6:"AR6"},ce={gwpVersion:H.AR5,units:"metric",defaultRegion:"US",theme:"light"},T={PRODUCTION:"production",REFINERY:"refinery",PIPELINE:"pipeline",TERMINAL:"terminal",GATHERING:"gathering",PROCESSING:"processing",OTHER:"other"},de={[T.PRODUCTION]:"Production",[T.REFINERY]:"Refinery",[T.PIPELINE]:"Pipeline",[T.TERMINAL]:"Terminal",[T.GATHERING]:"Gathering",[T.PROCESSING]:"Processing",[T.OTHER]:"Other"},E={API_KEYS:"carbonscope_api_keys",SETTINGS:"carbonscope_settings",FACILITIES:"carbonscope_facilities",CALCULATIONS:"carbonscope_calculations"},me=x.createContext(null),Re={settings:{...ce},activeFacility:null,isOffline:typeof navigator<"u"?!navigator.onLine:!1,isLoading:!1};function Fe(t,s){switch(s.type){case"SET_SETTINGS":return{...t,settings:{...t.settings,...s.payload}};case"SET_ACTIVE_FACILITY":return{...t,activeFacility:s.payload};case"SET_OFFLINE":return{...t,isOffline:s.payload};case"SET_LOADING":return{...t,isLoading:s.payload};case"RESET_SETTINGS":return{...t,settings:{...ce}};default:return t}}function _e({children:t}){const[s,a]=x.useReducer(Fe,Re);x.useEffect(()=>{try{const n=localStorage.getItem(E.SETTINGS);if(n){const r=JSON.parse(n);a({type:"SET_SETTINGS",payload:r})}}catch(n){console.warn("Failed to load settings from localStorage:",n)}},[]),x.useEffect(()=>{try{localStorage.setItem(E.SETTINGS,JSON.stringify(s.settings))}catch(n){console.warn("Failed to save settings to localStorage:",n)}},[s.settings]),x.useEffect(()=>{const n=()=>a({type:"SET_OFFLINE",payload:!1}),r=()=>a({type:"SET_OFFLINE",payload:!0});return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]);const l={...s,dispatch:a,updateSettings:n=>a({type:"SET_SETTINGS",payload:n}),setActiveFacility:n=>a({type:"SET_ACTIVE_FACILITY",payload:n}),setLoading:n=>a({type:"SET_LOADING",payload:n}),resetSettings:()=>a({type:"RESET_SETTINGS"})};return e.jsx(me.Provider,{value:l,children:t})}function $(){const t=x.useContext(me);if(!t)throw new Error("useApp must be used within an AppProvider");return t}const ue=x.createContext(null),Oe={notifications:[]};function Ge(t,s){switch(s.type){case"ADD_NOTIFICATION":return{...t,notifications:[...t.notifications,{id:Date.now()+Math.random(),createdAt:new Date().toISOString(),...s.payload}]};case"REMOVE_NOTIFICATION":return{...t,notifications:t.notifications.filter(a=>a.id!==s.payload)};case"CLEAR_ALL":return{...t,notifications:[]};default:return t}}function De({children:t}){const[s,a]=x.useReducer(Ge,Oe),l=x.useCallback(m=>{const c=Date.now()+Math.random();if(a({type:"ADD_NOTIFICATION",payload:{id:c,type:"info",duration:5e3,...m}}),m.duration!==0){const p=m.duration||5e3;setTimeout(()=>{a({type:"REMOVE_NOTIFICATION",payload:c})},p)}return c},[]),n=x.useCallback(m=>{a({type:"REMOVE_NOTIFICATION",payload:m})},[]),r=x.useCallback(()=>{a({type:"CLEAR_ALL"})},[]),o=x.useCallback({success:(m,c={})=>l({type:"success",message:m,...c}),error:(m,c={})=>l({type:"error",message:m,duration:8e3,...c}),warning:(m,c={})=>l({type:"warning",message:m,duration:6e3,...c}),info:(m,c={})=>l({type:"info",message:m,...c})},[l]),d={notifications:s.notifications,addNotification:l,removeNotification:n,clearAllNotifications:r,notify:o};return e.jsx(ue.Provider,{value:d,children:t})}function V(){const t=x.useContext(ue);if(!t)throw new Error("useNotification must be used within a NotificationProvider");return t}const xe=(...t)=>t.filter((s,a,l)=>!!s&&s.trim()!==""&&l.indexOf(s)===a).join(" ").trim();const $e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Le=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,l)=>l?l.toUpperCase():a.toLowerCase());const ee=t=>{const s=Le(t);return s.charAt(0).toUpperCase()+s.slice(1)};var We={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qe=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0;return!1};const Be=x.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:n="",children:r,iconNode:o,...d},m)=>x.createElement("svg",{ref:m,...We,width:s,height:s,stroke:t,strokeWidth:l?Number(a)*24/Number(s):a,className:xe("lucide",n),...!r&&!qe(d)&&{"aria-hidden":"true"},...d},[...o.map(([c,p])=>x.createElement(c,p)),...Array.isArray(r)?r:[r]]));const h=(t,s)=>{const a=x.forwardRef(({className:l,...n},r)=>x.createElement(Be,{ref:r,iconNode:s,className:xe(`lucide-${$e(ee(t))}`,`lucide-${t}`,l),...n}));return a.displayName=ee(t),a};const Ue=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],he=h("arrow-left",Ue);const He=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],L=h("arrow-right",He);const Ve=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],D=h("building-2",Ve);const ze=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],z=h("calculator",ze);const Ke=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Je=h("car",Ke);const Ye=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],W=h("chart-column",Ye);const Qe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_=h("check",Qe);const Ze=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pe=h("chevron-down",Ze);const Xe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],es=h("chevron-up",Xe);const ss=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ye=h("circle-check-big",ss);const ts=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],as=h("circle-question-mark",ts);const ls=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ge=h("circle-x",ls);const ns=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 17H7",key:"pygtm1"}],["path",{d:"M17 21H9",key:"1u2q02"}]],rs=h("cloud-fog",ns);const is=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],os=h("download",is);const cs=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],se=h("external-link",cs);const ds=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],K=h("factory",ds);const ms=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],us=h("file-question-mark",ms);const xs=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],P=h("file-text",xs);const hs=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],ps=h("flame",hs);const ys=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],gs=h("fuel",ys);const bs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],fs=h("globe",bs);const js=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],J=h("house",js);const vs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],q=h("info",vs);const Ns=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],te=h("key",Ns);const ws=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],be=h("layout-dashboard",ws);const Cs=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],fe=h("leaf",Cs);const ks=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ss=h("loader-circle",ks);const Ms=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],je=h("map-pin",Ms);const Es=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],As=h("menu",Es);const Is=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ts=h("package",Is);const Ps=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],R=h("plus",Ps);const Rs=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ae=h("rotate-ccw",Rs);const Fs=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Y=h("settings",Fs);const _s=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Os=h("share-2",_s);const Gs=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ds=h("shield",Gs);const $s=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ls=h("shopping-cart",$s);const Ws=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],O=h("trash-2",Ws);const qs=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Q=h("triangle-alert",qs);const Bs=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ve=h("truck",Bs);const Us=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Hs=h("wifi",Us);const Vs=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],zs=h("wind",Vs);const Ks=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Js=h("wrench",Ks);const Ys=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],B=h("x",Ys);const Qs=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Z=h("zap",Qs);function Zs(){const[t,s]=x.useState(!1),{isOffline:a}=$();return e.jsx("header",{className:"fixed top-0 left-0 right-0 h-16 bg-white border-b border-secondary-200 z-50",children:e.jsxs("div",{className:"h-full px-4 flex items-center justify-between",children:[e.jsxs(A,{to:"/",className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-9 h-9 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx(fe,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-secondary-900",children:"CarbonScope"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-amber-500":"bg-green-500"}`}),e.jsx("span",{className:"text-sm text-secondary-600",children:a?"Offline":"Online"})]}),e.jsx("button",{className:"lg:hidden p-2 text-secondary-600 hover:text-secondary-900 hover:bg-secondary-100 rounded-lg",onClick:()=>s(!t),"aria-label":"Toggle menu",children:t?e.jsx(B,{className:"w-6 h-6"}):e.jsx(As,{className:"w-6 h-6"})})]})]})})}const Xs=[{path:"/",label:"Home",icon:J},{path:"/dashboard",label:"Dashboard",icon:be},{path:"/calculator",label:"Calculator",icon:z},{path:"/benchmarks",label:"Benchmarks",icon:W},{path:"/reports",label:"Reports",icon:P},{path:"/facilities",label:"Facilities",icon:D},{path:"/tools",label:"Tools",icon:Js},{path:"/settings",label:"Settings",icon:Y},{path:"/help",label:"Help",icon:as}];function et(){return e.jsxs("aside",{className:"hidden lg:block w-64 fixed left-0 top-16 bottom-0 bg-white border-r border-secondary-200 overflow-y-auto",children:[e.jsx("nav",{className:"p-4",children:e.jsx("ul",{className:"space-y-1",children:Xs.map(t=>e.jsx("li",{children:e.jsxs(oe,{to:t.path,end:t.path==="/",className:({isActive:s})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors ${s?"bg-primary-50 text-primary-700 font-medium":"text-secondary-600 hover:bg-secondary-50 hover:text-secondary-900"}`,children:[e.jsx(t.icon,{className:"w-5 h-5"}),e.jsx("span",{children:t.label})]})},t.path))})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-secondary-200 bg-white",children:e.jsx("p",{className:"text-xs text-secondary-500 text-center",children:"CarbonScope v1.0.0"})})]})}const st=[{path:"/",label:"Home",icon:J},{path:"/dashboard",label:"Dashboard",icon:be},{path:"/calculator",label:"Calculator",icon:z},{path:"/benchmarks",label:"Benchmarks",icon:W},{path:"/settings",label:"Settings",icon:Y}];function tt(){return e.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-secondary-200 z-50",children:e.jsx("ul",{className:"flex justify-around items-center h-16",children:st.map(t=>e.jsx("li",{children:e.jsxs(oe,{to:t.path,end:t.path==="/",className:({isActive:s})=>`flex flex-col items-center gap-1 px-3 py-2 rounded-lg transition-colors ${s?"text-primary-600":"text-secondary-500 hover:text-secondary-700"}`,children:[e.jsx(t.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs",children:t.label})]})},t.path))})})}const at={success:ye,warning:Q,error:ge,info:q},le={success:"bg-green-50 border-green-200 text-green-800",warning:"bg-amber-50 border-amber-200 text-amber-800",error:"bg-red-50 border-red-200 text-red-800",info:"bg-blue-50 border-blue-200 text-blue-800"},ne={success:"text-green-600",warning:"text-amber-600",error:"text-red-600",info:"text-blue-600"};function lt(){const{notifications:t,removeNotification:s}=V();return t.length===0?null:e.jsx("div",{className:"fixed top-20 right-4 z-50 space-y-2 max-w-sm w-full",children:t.map(a=>{const l=at[a.type]||q,n=le[a.type]||le.info,r=ne[a.type]||ne.info;return e.jsx("div",{className:`${n} border px-4 py-3 rounded-lg shadow-lg animate-slideUp`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(l,{className:`w-5 h-5 ${r} flex-shrink-0 mt-0.5`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[a.title&&e.jsx("p",{className:"font-medium",children:a.title}),e.jsx("p",{className:a.title?"mt-1 text-sm":"text-sm",children:a.message})]}),e.jsx("button",{onClick:()=>s(a.id),className:"flex-shrink-0 opacity-60 hover:opacity-100 transition-opacity","aria-label":"Dismiss",children:e.jsx(B,{className:"w-5 h-5"})})]})},a.id)})})}function nt({children:t}){const{isOffline:s}=$();return e.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[e.jsx(Zs,{}),s&&e.jsx("div",{className:"bg-amber-500 text-white text-center py-1 text-sm",children:"You are currently offline. Some features may be limited."}),e.jsxs("div",{className:"flex pt-16",children:[e.jsx(et,{}),e.jsx("main",{className:"flex-1 lg:ml-64 p-4 md:p-6 pb-20 lg:pb-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:t})})]}),e.jsx(tt,{}),e.jsx(lt,{})]})}const y=x.forwardRef(({children:t,variant:s="primary",size:a="md",loading:l=!1,disabled:n=!1,className:r="",leftIcon:o,rightIcon:d,...m},c)=>{const p="font-medium rounded-lg transition-colors focus:ring-2 focus:ring-offset-2 inline-flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500",secondary:"bg-secondary-100 hover:bg-secondary-200 text-secondary-700 focus:ring-secondary-500",outline:"border border-primary-600 text-primary-600 hover:bg-primary-50 focus:ring-primary-500",ghost:"text-secondary-600 hover:bg-secondary-100 focus:ring-secondary-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500"},i={xs:"py-1 px-2 text-xs",sm:"py-1.5 px-3 text-sm",md:"py-2 px-4 text-base",lg:"py-3 px-6 text-lg"};return e.jsxs("button",{ref:c,className:`${p} ${u[s]} ${i[a]} ${r}`,disabled:n||l,...m,children:[l?e.jsx(Ss,{className:"w-4 h-4 mr-2 animate-spin"}):o&&e.jsx(o,{className:"w-4 h-4 mr-2"}),t,!l&&d&&e.jsx(d,{className:"w-4 h-4 ml-2"})]})});y.displayName="Button";function g({children:t,className:s="",padding:a="p-6",hover:l=!1,...n}){return e.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-secondary-200 ${a} ${l?"hover:shadow-md transition-shadow":""} ${s}`,...n,children:t})}function N({children:t,className:s=""}){return e.jsx("h3",{className:`text-lg font-semibold text-secondary-900 ${s}`,children:t})}function I({children:t,className:s=""}){return e.jsx("p",{className:`text-sm text-secondary-500 mt-1 ${s}`,children:t})}const rt=[{icon:z,title:"Scope 1, 2 & 3 Calculator",description:"GHG Protocol-compliant calculations for direct emissions, energy, and value chain activities.",color:"bg-red-100 text-red-600"},{icon:W,title:"Industry Benchmarks",description:"Compare against OGCI targets, regional averages, and regulatory thresholds.",color:"bg-amber-100 text-amber-600"},{icon:P,title:"TCFD/CDP/CSRD Reports",description:"Generate reports aligned with major disclosure frameworks including SEC rules.",color:"bg-blue-100 text-blue-600"},{icon:D,title:"Multi-Facility Management",description:"Track emissions across all your operations with corporate rollup capabilities.",color:"bg-green-100 text-green-600"}],it=[{icon:fs,title:"9+ Regional Databases",description:"EPA, UK DEFRA, EU ETS, Malaysia, Singapore, Australia, and more"},{icon:Ds,title:"Regulatory Compliant",description:"40 CFR Part 98, NGER, EU ETS methodology aligned"},{icon:Hs,title:"Works Offline",description:"Full calculator functionality available without internet"}];function ot(){return e.jsxs("div",{className:"py-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-2xl flex items-center justify-center",children:e.jsx(fe,{className:"w-10 h-10 text-primary-600"})})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-secondary-900 mb-4",children:"CarbonScope"}),e.jsx("p",{className:"text-xl text-secondary-600 max-w-2xl mx-auto mb-8",children:"ESG Carbon Footprint Calculator for Oil & Gas Operations"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(A,{to:"/calculator",children:e.jsx(y,{size:"lg",rightIcon:L,children:"Start Calculating"})}),e.jsx(A,{to:"/help",children:e.jsx(y,{variant:"outline",size:"lg",children:"View Documentation"})})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-secondary-900 text-center mb-8",children:"Key Features"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:rt.map(t=>e.jsxs(g,{hover:!0,className:"text-center",children:[e.jsx("div",{className:`w-12 h-12 ${t.color} rounded-xl flex items-center justify-center mx-auto mb-4`,children:e.jsx(t.icon,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-lg font-semibold text-secondary-900 mb-2",children:t.title}),e.jsx("p",{className:"text-secondary-600 text-sm",children:t.description})]},t.title))})]}),e.jsx(g,{className:"mb-16 bg-gradient-to-br from-primary-50 to-primary-100 border-primary-200",children:e.jsx("div",{className:"grid md:grid-cols-3 gap-8 py-4",children:it.map(t=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:e.jsx(t.icon,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h3",{className:"font-semibold text-secondary-900 mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-secondary-600",children:t.description})]},t.title))})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-secondary-900 mb-4",children:"Ready to Calculate?"}),e.jsx("p",{className:"text-secondary-600 mb-6",children:"Choose your calculation mode and get started in seconds"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(A,{to:"/calculator",children:e.jsxs(g,{hover:!0,padding:"p-6",className:"sm:w-64 cursor-pointer",children:[e.jsx("h3",{className:"font-semibold text-secondary-900 mb-2",children:"Simple Mode"}),e.jsx("p",{className:"text-sm text-secondary-500",children:"Quick estimates with pre-configured factors"})]})}),e.jsx(A,{to:"/calculator",children:e.jsxs(g,{hover:!0,padding:"p-6",className:"sm:w-64 cursor-pointer",children:[e.jsx("h3",{className:"font-semibold text-secondary-900 mb-2",children:"Expert Mode"}),e.jsx("p",{className:"text-sm text-secondary-500",children:"Equipment-level inputs with full customization"})]})})]})]})]})}function U({icon:t=us,title:s,description:a,action:l,actionLabel:n,onAction:r,className:o=""}){return e.jsxs("div",{className:`text-center py-12 px-4 ${o}`,children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-secondary-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(t,{className:"w-8 h-8 text-secondary-400"})}),s&&e.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:s}),a&&e.jsx("p",{className:"text-secondary-500 max-w-md mx-auto mb-6",children:a}),l&&l,!l&&n&&r&&e.jsx(y,{onClick:r,children:n})]})}function ct(){return e.jsxs("div",{className:"py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-6",children:"Dashboard"}),e.jsx(g,{children:e.jsx(U,{icon:K,title:"No calculations yet",description:"Start by adding a facility and running your first emission calculation.",action:e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(A,{to:"/facilities",children:e.jsx(y,{variant:"outline",leftIcon:R,children:"Add Facility"})}),e.jsx(A,{to:"/calculator",children:e.jsx(y,{leftIcon:L,children:"Start Calculator"})})]})})})]})}const dt=[{id:"simple",name:"Simple Mode",description:"Quick estimates with pre-configured emission factors",icon:Z,color:"bg-green-100 text-green-600",features:["Pre-configured EPA emission factors","Common fuel types only","Default regional grid factors","Industry average fugitive estimates","Results in minutes"],recommended:!0},{id:"expert",name:"Expert Mode",description:"Equipment-level inputs with full customization",icon:Y,color:"bg-blue-100 text-blue-600",features:["Custom emission factors","Equipment-level inputs","Component count method for fugitives","Gas composition analysis for flaring","Uncertainty quantification"],recommended:!1}];function mt({onSelectMode:t}){return e.jsxs("div",{className:"py-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Select Calculation Mode"}),e.jsx("p",{className:"text-secondary-600",children:"Choose the level of detail for your emission calculations"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:dt.map(s=>e.jsxs(g,{hover:!0,className:`cursor-pointer relative ${s.recommended?"ring-2 ring-primary-500":""}`,onClick:()=>t(s.id),children:[s.recommended&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsx("span",{className:"bg-primary-600 text-white text-xs font-medium px-3 py-1 rounded-full",children:"Recommended"})}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 ${s.color} rounded-xl flex items-center justify-center flex-shrink-0`,children:e.jsx(s.icon,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:s.name}),e.jsx("p",{className:"text-sm text-secondary-500 mt-1",children:s.description})]})]}),e.jsx("ul",{className:"mt-4 space-y-2",children:s.features.map((a,l)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-secondary-600",children:[e.jsx(_,{className:"w-4 h-4 text-primary-500 flex-shrink-0"}),a]},l))}),e.jsxs(y,{variant:s.recommended?"primary":"outline",className:"w-full mt-6",rightIcon:L,children:["Select ",s.name]})]},s.id))}),e.jsx("p",{className:"text-center text-sm text-secondary-500 mt-6",children:"You can switch between modes at any time during the calculation process"})]})}function ut({steps:t,currentStep:s,onStepClick:a}){return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"hidden sm:flex items-center",children:t.map((l,n)=>e.jsxs("div",{className:"flex-1 flex items-center",children:[e.jsxs("button",{onClick:()=>a(n),disabled:n>s+1,className:`
                flex items-center gap-3 p-2 rounded-lg transition-colors
                ${n<=s?"cursor-pointer hover:bg-primary-50":n===s+1?"cursor-pointer hover:bg-secondary-50":"cursor-not-allowed opacity-50"}
              `,children:[e.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center font-medium
                  ${n<s?"bg-primary-600 text-white":n===s?"bg-primary-600 text-white ring-4 ring-primary-100":"bg-secondary-200 text-secondary-600"}
                `,children:n<s?e.jsx(_,{className:"w-5 h-5"}):n+1}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:`font-medium ${n<=s?"text-secondary-900":"text-secondary-500"}`,children:l.label}),e.jsx("p",{className:"text-xs text-secondary-500",children:l.description})]})]}),n<t.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-2 rounded ${n<s?"bg-primary-600":"bg-secondary-200"}`})]},l.id))}),e.jsxs("div",{className:"sm:hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-secondary-900",children:["Step ",s+1," of ",t.length]}),e.jsx("span",{className:"text-sm text-secondary-500",children:t[s].label})]}),e.jsx("div",{className:"w-full bg-secondary-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${(s+1)/t.length*100}%`}})}),e.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:t[s].description})]})]})}const b=x.forwardRef(({label:t,error:s,helperText:a,className:l="",id:n,required:r,...o},d)=>{const m=n||t?.toLowerCase().replace(/\s+/g,"-");return e.jsxs("div",{className:"w-full",children:[t&&e.jsxs("label",{htmlFor:m,className:"block text-sm font-medium text-secondary-700 mb-1",children:[t,r&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{ref:d,id:m,className:`
            w-full px-4 py-2 border rounded-lg transition-colors outline-none
            ${s?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-secondary-300 focus:ring-primary-500 focus:border-primary-500"}
            focus:ring-2
            disabled:bg-secondary-50 disabled:text-secondary-500 disabled:cursor-not-allowed
            ${l}
          `,"aria-invalid":s?"true":"false","aria-describedby":s?`${m}-error`:a?`${m}-helper`:void 0,...o}),a&&!s&&e.jsx("p",{id:`${m}-helper`,className:"mt-1 text-sm text-secondary-500",children:a}),s&&e.jsx("p",{id:`${m}-error`,className:"mt-1 text-sm text-red-600",children:s})]})});b.displayName="Input";const f=x.forwardRef(({label:t,options:s=[],error:a,helperText:l,className:n="",placeholder:r="Select an option",id:o,required:d,...m},c)=>{const p=o||t?.toLowerCase().replace(/\s+/g,"-");return e.jsxs("div",{className:"w-full",children:[t&&e.jsxs("label",{htmlFor:p,className:"block text-sm font-medium text-secondary-700 mb-1",children:[t,d&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{ref:c,id:p,className:`
              w-full px-4 py-2 border rounded-lg transition-colors appearance-none outline-none pr-10
              ${a?"border-red-500 focus:ring-red-500":"border-secondary-300 focus:ring-primary-500 focus:border-primary-500"}
              focus:ring-2
              disabled:bg-secondary-50 disabled:text-secondary-500 disabled:cursor-not-allowed
              ${n}
            `,"aria-invalid":a?"true":"false",...m,children:[r&&e.jsx("option",{value:"",disabled:!0,children:r}),s.map(u=>e.jsx("option",{value:u.value,disabled:u.disabled,children:u.label},u.value))]}),e.jsx(pe,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-secondary-400 pointer-events-none"})]}),l&&!a&&e.jsx("p",{className:"mt-1 text-sm text-secondary-500",children:l}),a&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a})]})});f.displayName="Select";const xt={success:{bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon:ye,iconColor:"text-green-600"},warning:{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-800",icon:Q,iconColor:"text-amber-600"},error:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:ge,iconColor:"text-red-600"},info:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:q,iconColor:"text-blue-600"}};function C({variant:t="info",title:s,children:a,onClose:l,className:n="",action:r}){const o=xt[t],d=o.icon;return e.jsx("div",{className:`${o.bg} ${o.border} ${o.text} border px-4 py-3 rounded-lg ${n}`,role:"alert",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(d,{className:`w-5 h-5 ${o.iconColor} flex-shrink-0 mt-0.5`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[s&&e.jsx("p",{className:"font-medium",children:s}),e.jsx("div",{className:s?"mt-1 text-sm":"text-sm",children:a}),r&&e.jsx("div",{className:"mt-2",children:r})]}),l&&e.jsx("button",{onClick:l,className:"flex-shrink-0 opacity-60 hover:opacity-100 transition-opacity","aria-label":"Dismiss",children:e.jsx(B,{className:"w-5 h-5"})})]})})}const ht=[{value:"naturalGas",label:"Natural Gas"},{value:"distillateFuelOil",label:"Diesel / Distillate Fuel Oil"},{value:"residualFuelOil",label:"Residual Fuel Oil"},{value:"crudeOil",label:"Crude Oil"},{value:"lpg",label:"LPG / Propane"},{value:"motorGasoline",label:"Motor Gasoline"},{value:"kerosene",label:"Kerosene / Jet Fuel"}],pt=[{value:"MMBtu",label:"MMBtu"},{value:"mcf",label:"MCF (thousand cubic feet)"},{value:"gallon",label:"Gallons"},{value:"barrel",label:"Barrels"},{value:"therm",label:"Therms"}],yt=[{value:"PassengerCar",label:"Passenger Cars"},{value:"LightTruck",label:"Light-Duty Trucks"},{value:"HeavyTruck",label:"Heavy-Duty Trucks"},{value:"Equipment",label:"Off-Road Equipment"}],gt=[{value:"production_onshore",label:"Onshore Production"},{value:"production_offshore",label:"Offshore Production"},{value:"gathering",label:"Gathering & Boosting"},{value:"processing",label:"Gas Processing"},{value:"transmission",label:"Transmission"}];function bt({mode:t,data:s,onUpdate:a}){const[l,n]=x.useState("stationary"),r=[{id:"stationary",label:"Stationary",icon:K},{id:"mobile",label:"Mobile",icon:Je},{id:"flaring",label:"Flaring",icon:ps},{id:"venting",label:"Venting",icon:zs},{id:"fugitive",label:"Fugitive",icon:rs}],o=()=>{a({stationaryCombustion:[...s.stationaryCombustion,{id:Date.now(),fuelType:"",quantity:"",unit:"MMBtu"}]})},d=(i,j,v)=>{a({stationaryCombustion:s.stationaryCombustion.map(k=>k.id===i?{...k,[j]:v}:k)})},m=i=>{a({stationaryCombustion:s.stationaryCombustion.filter(j=>j.id!==i)})},c=()=>{a({mobileCombustion:[...s.mobileCombustion,{id:Date.now(),vehicleType:"",fuelType:"motorGasoline",quantity:"",unit:"gallon"}]})},p=(i,j,v)=>{a({mobileCombustion:s.mobileCombustion.map(k=>k.id===i?{...k,[j]:v}:k)})},u=i=>{a({mobileCombustion:s.mobileCombustion.filter(j=>j.id!==i)})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-secondary-900",children:"Scope 1: Direct Emissions"}),e.jsx("p",{className:"text-secondary-600 mt-1",children:"Emissions from sources owned or controlled by your organization"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 border-b border-secondary-200 pb-2",children:r.map(i=>e.jsxs("button",{onClick:()=>n(i.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l===i.id?"bg-primary-100 text-primary-700":"text-secondary-600 hover:bg-secondary-100"}`,children:[e.jsx(i.icon,{className:"w-4 h-4"}),i.label]},i.id))}),l==="stationary"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(C,{variant:"info",children:"Enter fuel consumption from boilers, heaters, furnaces, turbines, and other stationary equipment."}),s.stationaryCombustion.map((i,j)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-secondary-50 rounded-lg",children:[e.jsx(f,{label:"Fuel Type",options:ht,value:i.fuelType,onChange:v=>d(i.id,"fuelType",v.target.value),placeholder:"Select fuel"}),e.jsx(b,{label:"Quantity",type:"number",placeholder:"Enter amount",value:i.quantity,onChange:v=>d(i.id,"quantity",v.target.value)}),e.jsx(f,{label:"Unit",options:pt,value:i.unit,onChange:v=>d(i.id,"unit",v.target.value)}),e.jsx("div",{className:"flex items-end",children:e.jsx(y,{variant:"ghost",onClick:()=>m(i.id),className:"text-red-600 hover:bg-red-50",children:e.jsx(O,{className:"w-4 h-4"})})})]},i.id)),e.jsx(y,{variant:"outline",onClick:o,leftIcon:R,children:"Add Fuel Source"})]}),l==="mobile"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(C,{variant:"info",children:"Enter fuel consumption from company-owned vehicles and mobile equipment."}),s.mobileCombustion.map(i=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 bg-secondary-50 rounded-lg",children:[e.jsx(f,{label:"Vehicle Type",options:yt,value:i.vehicleType,onChange:j=>p(i.id,"vehicleType",j.target.value),placeholder:"Select type"}),e.jsx(f,{label:"Fuel Type",options:[{value:"motorGasoline",label:"Gasoline"},{value:"diesel",label:"Diesel"}],value:i.fuelType,onChange:j=>p(i.id,"fuelType",j.target.value)}),e.jsx(b,{label:"Quantity",type:"number",placeholder:"Enter amount",value:i.quantity,onChange:j=>p(i.id,"quantity",j.target.value)}),e.jsx(f,{label:"Unit",options:[{value:"gallon",label:"Gallons"},{value:"liter",label:"Liters"}],value:i.unit,onChange:j=>p(i.id,"unit",j.target.value)}),e.jsx("div",{className:"flex items-end",children:e.jsx(y,{variant:"ghost",onClick:()=>u(i.id),className:"text-red-600 hover:bg-red-50",children:e.jsx(O,{className:"w-4 h-4"})})})]},i.id)),e.jsx(y,{variant:"outline",onClick:c,leftIcon:R,children:"Add Vehicle"})]}),l==="flaring"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(C,{variant:"info",children:"Enter flare gas volumes. Default method uses 98% combustion efficiency per 40 CFR ยง 98.253."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(b,{label:"Flare Gas Volume",type:"number",placeholder:"Enter volume",value:s.flaring.volume,onChange:i=>a({flaring:{...s.flaring,volume:i.target.value}})}),e.jsx(f,{label:"Unit",options:[{value:"MMscf",label:"MMscf (million standard cubic feet)"},{value:"mcf",label:"MCF (thousand cubic feet)"},{value:"scf",label:"SCF (standard cubic feet)"}],value:s.flaring.unit,onChange:i=>a({flaring:{...s.flaring,unit:i.target.value}})})]}),t==="expert"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-secondary-50 rounded-lg",children:[e.jsx(b,{label:"Combustion Efficiency (%)",type:"number",placeholder:"98",helperText:"Default: 98% per EPA methodology"}),e.jsx(b,{label:"Higher Heating Value (MMBtu/MMscf)",type:"number",placeholder:"1000",helperText:"Default: 1000 MMBtu/MMscf"})]})]}),l==="venting"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(C,{variant:"info",children:"Enter volumes of gas vented directly to the atmosphere."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(f,{label:"Venting Source",options:[{value:"tanks",label:"Storage Tanks"},{value:"pneumatic",label:"Pneumatic Devices"},{value:"blowdowns",label:"Equipment Blowdowns"},{value:"compressors",label:"Compressor Starts"},{value:"other",label:"Other"}],placeholder:"Select source"}),e.jsx(b,{label:"Volume",type:"number",placeholder:"Enter volume"}),e.jsx(f,{label:"Unit",options:[{value:"mcf",label:"MCF"},{value:"scf",label:"SCF"}]})]})]}),l==="fugitive"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(C,{variant:"info",children:"Fugitive emissions from equipment leaks. Simple mode uses industry averages; Expert mode allows component counting."}),t==="simple"?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(f,{label:"Facility Type",options:gt,value:s.fugitives.facilityType,onChange:i=>a({fugitives:{...s.fugitives,facilityType:i.target.value}}),helperText:"Industry average factors will be applied"}),e.jsx(b,{label:"Annual Production (BOE)",type:"number",placeholder:"Enter production",helperText:"Barrels of oil equivalent"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-secondary-600",children:"Enter component counts for the EPA Protocol method:"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(b,{label:"Valves (Gas Service)",type:"number",placeholder:"0"}),e.jsx(b,{label:"Connectors",type:"number",placeholder:"0"}),e.jsx(b,{label:"Pump Seals",type:"number",placeholder:"0"}),e.jsx(b,{label:"Compressor Seals",type:"number",placeholder:"0"}),e.jsx(b,{label:"PRVs",type:"number",placeholder:"0"}),e.jsx(b,{label:"Open-Ended Lines",type:"number",placeholder:"0"})]})]})]})]})}const ft=[{value:"US",label:"United States"},{value:"GB",label:"United Kingdom"},{value:"DE",label:"Germany"},{value:"FR",label:"France"},{value:"MY",label:"Malaysia"},{value:"SG",label:"Singapore"},{value:"AU",label:"Australia"},{value:"AE",label:"United Arab Emirates"},{value:"SA",label:"Saudi Arabia"},{value:"QA",label:"Qatar"},{value:"BR",label:"Brazil"}],jt=[{value:"",label:"National Average"},{value:"CAMX",label:"California (CAMX)"},{value:"ERCT",label:"Texas - ERCOT (ERCT)"},{value:"FRCC",label:"Florida (FRCC)"},{value:"MROW",label:"Midwest (MROW)"},{value:"NEWE",label:"New England (NEWE)"},{value:"NWPP",label:"Northwest (NWPP)"},{value:"RFCE",label:"Mid-Atlantic (RFCE)"},{value:"SRMW",label:"Upper Midwest (SRMW)"}],vt=[{value:"",label:"National Average"},{value:"NSW",label:"New South Wales"},{value:"VIC",label:"Victoria"},{value:"QLD",label:"Queensland"},{value:"SA",label:"South Australia"},{value:"WA",label:"Western Australia"},{value:"TAS",label:"Tasmania"}],Nt=[{value:"peninsular",label:"Peninsular Malaysia"},{value:"sabah",label:"Sabah"},{value:"sarawak",label:"Sarawak"}],wt={US:{factor:.373,unit:"kgCO2/kWh"},GB:{factor:.212,unit:"kgCO2/kWh"},DE:{factor:.38,unit:"kgCO2/kWh"},FR:{factor:.052,unit:"kgCO2/kWh"},MY:{factor:.774,unit:"kgCO2/kWh"},SG:{factor:.402,unit:"kgCO2/kWh"},AU:{factor:.68,unit:"kgCO2/kWh"},AE:{factor:.45,unit:"kgCO2/kWh"},SA:{factor:.52,unit:"kgCO2/kWh"},QA:{factor:.48,unit:"kgCO2/kWh"},BR:{factor:.085,unit:"kgCO2/kWh"}};function Ct({mode:t,data:s,onUpdate:a}){const[l,n]=x.useState("location"),{settings:r}=$(),o=s.electricity.region||r.defaultRegion,d=wt[o],c=(()=>{switch(o){case"US":return jt;case"AU":return vt;case"MY":return Nt;default:return[]}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-secondary-900",children:"Scope 2: Energy Emissions"}),e.jsx("p",{className:"text-secondary-600 mt-1",children:"Indirect emissions from purchased electricity, steam, heat, and cooling"})]}),e.jsxs("div",{className:"flex gap-2 border-b border-secondary-200 pb-2",children:[e.jsxs("button",{onClick:()=>n("location"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="location"?"bg-primary-100 text-primary-700":"text-secondary-600 hover:bg-secondary-100"}`,children:[e.jsx(je,{className:"w-4 h-4"}),"Location-Based"]}),e.jsxs("button",{onClick:()=>n("market"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="market"?"bg-primary-100 text-primary-700":"text-secondary-600 hover:bg-secondary-100"}`,children:[e.jsx(Ls,{className:"w-4 h-4"}),"Market-Based"]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(b,{label:"Electricity Consumption",type:"number",placeholder:"Enter kWh",value:s.electricity.kWh,onChange:p=>a({electricity:{...s.electricity,kWh:p.target.value}}),helperText:"Annual electricity consumption in kilowatt-hours"}),e.jsx(f,{label:"Unit",options:[{value:"kWh",label:"kWh"},{value:"MWh",label:"MWh"},{value:"GWh",label:"GWh"}],value:"kWh"})]})}),l==="location"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(C,{variant:"info",children:"Location-based method uses average grid emission factors for your region. This reflects the average emissions intensity of the local grid."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(f,{label:"Region",options:ft,value:o,onChange:p=>a({electricity:{...s.electricity,region:p.target.value,subregion:""}})}),c.length>0&&e.jsx(f,{label:"Subregion (Optional)",options:c,value:s.electricity.subregion,onChange:p=>a({electricity:{...s.electricity,subregion:p.target.value}}),helperText:"More specific regional factors available"})]}),d&&e.jsxs("div",{className:"bg-secondary-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Z,{className:"w-5 h-5 text-amber-500"}),e.jsx("span",{className:"font-medium text-secondary-900",children:"Grid Emission Factor"})]}),e.jsxs("div",{className:"text-2xl font-bold text-secondary-900",children:[d.factor," ",d.unit]}),e.jsx("p",{className:"text-sm text-secondary-500 mt-1",children:"Source: EPA eGRID / IEA / Regional data"})]})]}),l==="market"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(C,{variant:"info",children:"Market-based method accounts for renewable energy purchases (RECs, PPAs) and supplier-specific emission factors."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(b,{label:"Renewable Energy Certificates (RECs)",type:"number",placeholder:"Enter MWh",helperText:"MWh of renewable electricity purchased"}),e.jsx(f,{label:"REC Type",options:[{value:"green_e",label:"Green-e Certified"},{value:"i_rec",label:"I-REC"},{value:"go",label:"Guarantee of Origin (EU)"},{value:"other",label:"Other"}],placeholder:"Select type"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(b,{label:"Supplier-Specific Emission Factor",type:"number",placeholder:"kgCO2/kWh",helperText:"If known from your utility provider"}),e.jsx(b,{label:"Power Purchase Agreement (PPA)",type:"number",placeholder:"Enter MWh",helperText:"MWh from direct renewable PPAs"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"GHG Protocol Dual Reporting"}),e.jsx("p",{className:"mt-1",children:"Organizations are required to report both location-based and market-based Scope 2 emissions to provide a complete picture."})]})]})})]}),e.jsxs("div",{className:"border-t border-secondary-200 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-4",children:"Other Purchased Energy"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(b,{label:"Purchased Steam",type:"number",placeholder:"Enter MMBtu",helperText:"If applicable"}),e.jsx(b,{label:"Purchased Heating",type:"number",placeholder:"Enter MMBtu",helperText:"If applicable"}),e.jsx(b,{label:"Purchased Cooling",type:"number",placeholder:"Enter ton-hours",helperText:"If applicable"})]})]})]})}const kt=[{id:1,name:"Purchased Goods and Services",relevance:"medium"},{id:2,name:"Capital Goods",relevance:"medium"},{id:3,name:"Fuel and Energy Related Activities",relevance:"high"},{id:4,name:"Upstream Transportation and Distribution",relevance:"high"},{id:5,name:"Waste Generated in Operations",relevance:"low"},{id:6,name:"Business Travel",relevance:"low"},{id:7,name:"Employee Commuting",relevance:"low"},{id:8,name:"Upstream Leased Assets",relevance:"medium"},{id:9,name:"Downstream Transportation and Distribution",relevance:"high"},{id:10,name:"Processing of Sold Products",relevance:"high"},{id:11,name:"Use of Sold Products",relevance:"critical"},{id:12,name:"End-of-Life Treatment of Sold Products",relevance:"low"},{id:13,name:"Downstream Leased Assets",relevance:"low"},{id:14,name:"Franchises",relevance:"none"},{id:15,name:"Investments",relevance:"medium"}],St=[{value:"motorGasoline",label:"Motor Gasoline"},{value:"diesel",label:"Diesel"},{value:"jetFuel",label:"Jet Fuel"},{value:"lpg",label:"LPG"},{value:"residualFuelOil",label:"Residual Fuel Oil"},{value:"naturalGas",label:"Natural Gas"},{value:"crudeOil",label:"Crude Oil"}],Mt={critical:"bg-red-100 text-red-700 border-red-200",high:"bg-amber-100 text-amber-700 border-amber-200",medium:"bg-blue-100 text-blue-700 border-blue-200",low:"bg-secondary-100 text-secondary-600 border-secondary-200",none:"bg-secondary-50 text-secondary-400 border-secondary-100"};function Et({mode:t,data:s,onUpdate:a}){const[l,n]=x.useState(11),r=()=>{a({includeScope3:!s.includeScope3})},o=()=>{a({category11:[...s.category11,{id:Date.now(),productType:"",quantity:"",unit:"gallon"}]})},d=(c,p,u)=>{a({category11:s.category11.map(i=>i.id===c?{...i,[p]:u}:i)})},m=c=>{a({category11:s.category11.filter(p=>p.id!==c)})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-secondary-900",children:"Scope 3: Value Chain Emissions"}),e.jsx("p",{className:"text-secondary-600 mt-1",children:"Indirect emissions from upstream and downstream activities"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900",children:"Include Scope 3 Emissions"}),e.jsx("p",{className:"text-sm text-secondary-500",children:"Optional but recommended for comprehensive carbon footprinting"})]}),e.jsx("button",{onClick:r,className:`w-12 h-6 rounded-full transition-colors ${s.includeScope3?"bg-primary-600":"bg-secondary-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform ${s.includeScope3?"translate-x-6":"translate-x-0.5"}`})})]}),s.includeScope3?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-800",children:"Important for Oil & Gas"}),e.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Category 11 (Use of Sold Products) is the largest emission source for most O&G companies, often exceeding Scope 1 and 2 combined."})]})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-secondary-700 mb-3",children:"Select Categories to Include"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:kt.map(c=>e.jsxs("button",{onClick:()=>n(c.id),className:`text-left p-3 rounded-lg border transition-colors ${l===c.id?"border-primary-500 bg-primary-50":Mt[c.relevance]}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs font-medium",children:["Cat ",c.id]}),c.relevance==="critical"&&e.jsx("span",{className:"text-xs bg-red-500 text-white px-1.5 py-0.5 rounded",children:"Critical"})]}),e.jsx("p",{className:"text-sm mt-1 line-clamp-1",children:c.name})]},c.id))})]}),l===11&&e.jsxs("div",{className:"space-y-4 border-t border-secondary-200 pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"w-5 h-5 text-red-500"}),e.jsx("h3",{className:"text-lg font-medium text-secondary-900",children:"Category 11: Use of Sold Products"})]}),e.jsx("p",{className:"text-sm text-secondary-600",children:"Enter volumes of petroleum products sold to customers. Emissions are calculated based on end-use combustion."}),s.category11.map(c=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-secondary-50 rounded-lg",children:[e.jsx(f,{label:"Product Type",options:St,value:c.productType,onChange:p=>d(c.id,"productType",p.target.value),placeholder:"Select product"}),e.jsx(b,{label:"Quantity Sold",type:"number",placeholder:"Enter amount",value:c.quantity,onChange:p=>d(c.id,"quantity",p.target.value)}),e.jsx(f,{label:"Unit",options:[{value:"gallon",label:"Gallons"},{value:"barrel",label:"Barrels"},{value:"liter",label:"Liters"},{value:"MMBtu",label:"MMBtu (gas)"}],value:c.unit,onChange:p=>d(c.id,"unit",p.target.value)}),e.jsx("div",{className:"flex items-end",children:e.jsx(y,{variant:"ghost",onClick:()=>m(c.id),className:"text-red-600 hover:bg-red-50",children:e.jsx(O,{className:"w-4 h-4"})})})]},c.id)),e.jsx(y,{variant:"outline",onClick:o,leftIcon:R,children:"Add Product"})]}),l===4&&e.jsxs("div",{className:"space-y-4 border-t border-secondary-200 pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"w-5 h-5 text-blue-500"}),e.jsx("h3",{className:"text-lg font-medium text-secondary-900",children:"Category 4: Upstream Transportation"})]}),e.jsx("p",{className:"text-sm text-secondary-600",children:"Transportation of purchased products from suppliers."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(f,{label:"Transport Mode",options:[{value:"truck",label:"Truck"},{value:"rail",label:"Rail"},{value:"ship",label:"Ship"},{value:"pipeline",label:"Pipeline"}],placeholder:"Select mode"}),e.jsx(b,{label:"Weight (tonnes)",type:"number",placeholder:"Enter weight"}),e.jsx(b,{label:"Distance (km)",type:"number",placeholder:"Enter distance"}),e.jsx("div",{className:"flex items-end",children:e.jsx(y,{variant:"outline",leftIcon:R,children:"Add"})})]})]}),l!==11&&l!==4&&e.jsx("div",{className:"border-t border-secondary-200 pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ts,{className:"w-12 h-12 text-secondary-300 mx-auto mb-3"}),e.jsxs("p",{className:"text-secondary-500",children:["Detailed input form for Category ",l," coming soon."]}),e.jsx("p",{className:"text-sm text-secondary-400 mt-1",children:"Focus on Category 11 for the most material O&G emissions."})]})})]}):e.jsx(C,{variant:"info",children:"Scope 3 emissions are optional. For oil and gas companies, Category 11 (Use of Sold Products) typically represents 70-90% of total value chain emissions."})]})}function At({data:t,results:s}){const l=s||{scope1:{total:15e3,breakdown:{stationaryCombustion:8e3,mobileCombustion:2e3,flaring:3500,venting:800,fugitive:700}},scope2:{locationBased:5200,marketBased:3100},scope3:{total:85e4},intensity:{perBOE:45.2,methane:.15}},n=l.scope1.total+l.scope2.locationBased+(t.scope3.includeScope3?l.scope3.total:0),r=[{name:"Scope 1",value:l.scope1.total,percentage:(l.scope1.total/n*100).toFixed(1),color:"bg-scope1",icon:K,description:"Direct emissions"},{name:"Scope 2",value:l.scope2.locationBased,percentage:(l.scope2.locationBased/n*100).toFixed(1),color:"bg-scope2",icon:Z,description:"Energy emissions"}];return t.scope3.includeScope3&&r.push({name:"Scope 3",value:l.scope3.total,percentage:(l.scope3.total/n*100).toFixed(1),color:"bg-scope3",icon:ve,description:"Value chain"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-secondary-900",children:"Calculation Results"}),e.jsx("p",{className:"text-secondary-600 mt-1",children:"Summary of your GHG emissions"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{variant:"outline",leftIcon:Os,children:"Share"}),e.jsx(y,{variant:"outline",leftIcon:os,children:"Export"})]})]}),e.jsx(C,{variant:"success",title:"Calculation Complete",children:"Your emissions have been calculated using GHG Protocol methodologies with IPCC AR5 Global Warming Potentials."}),e.jsx(g,{className:"bg-gradient-to-br from-primary-50 to-primary-100 border-primary-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-primary-700 font-medium",children:"Total GHG Emissions"}),e.jsx("p",{className:"text-5xl font-bold text-primary-900 mt-2",children:n.toLocaleString()}),e.jsx("p",{className:"text-primary-600 mt-1",children:"tonnes CO2e"})]})}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:r.map(o=>e.jsx(g,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${o.color}`}),e.jsx("span",{className:"font-medium text-secondary-900",children:o.name})]}),e.jsx("p",{className:"text-2xl font-bold text-secondary-900 mt-2",children:o.value.toLocaleString()}),e.jsx("p",{className:"text-sm text-secondary-500",children:"tonnes CO2e"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(o.icon,{className:`w-8 h-8 ${o.color.replace("bg-","text-")}`}),e.jsxs("p",{className:"text-lg font-semibold text-secondary-700 mt-2",children:[o.percentage,"%"]})]})]})},o.name))}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(g,{children:[e.jsx(N,{children:"Scope 1 Breakdown"}),e.jsx("div",{className:"mt-4 space-y-3",children:Object.entries(l.scope1.breakdown).map(([o,d])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-secondary-600 capitalize",children:o.replace(/([A-Z])/g," $1").trim()}),e.jsxs("span",{className:"font-medium text-secondary-900",children:[d.toLocaleString()," tCO2e"]})]},o))})]}),e.jsxs(g,{children:[e.jsx(N,{children:"Scope 2 Methods"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"p-3 bg-secondary-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-secondary-500",children:"Location-Based"}),e.jsxs("p",{className:"text-xl font-bold text-secondary-900",children:[l.scope2.locationBased.toLocaleString()," tCO2e"]})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-green-600",children:"Market-Based"}),e.jsxs("p",{className:"text-xl font-bold text-green-700",children:[l.scope2.marketBased.toLocaleString()," tCO2e"]}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[((l.scope2.locationBased-l.scope2.marketBased)/l.scope2.locationBased*100).toFixed(0),"% reduction from RECs/PPAs"]})]})]})]})]}),e.jsxs(g,{children:[e.jsx(N,{children:"Intensity Metrics"}),e.jsxs("div",{className:"grid sm:grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"p-4 bg-secondary-50 rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-secondary-500",children:"Carbon Intensity"}),e.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:l.intensity.perBOE}),e.jsx("p",{className:"text-xs text-secondary-400",children:"kg CO2e / BOE"})]}),e.jsxs("div",{className:"p-4 bg-secondary-50 rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-secondary-500",children:"Methane Intensity"}),e.jsxs("p",{className:"text-2xl font-bold text-secondary-900",children:[l.intensity.methane,"%"]}),e.jsx("p",{className:"text-xs text-secondary-400",children:"CH4 / Total Gas"})]}),e.jsxs("div",{className:"p-4 bg-secondary-50 rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-secondary-500",children:"Scope 1+2 Share"}),e.jsxs("p",{className:"text-2xl font-bold text-secondary-900",children:[((l.scope1.total+l.scope2.locationBased)/n*100).toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-secondary-400",children:"of total emissions"})]}),e.jsxs("div",{className:"p-4 bg-secondary-50 rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-secondary-500",children:"GWP Version"}),e.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:"AR5"}),e.jsx("p",{className:"text-xs text-secondary-400",children:"IPCC 2014"})]})]})]}),e.jsxs(g,{children:[e.jsx(N,{children:"Export Report"}),e.jsx("p",{className:"text-secondary-600 mt-1",children:"Download your results in various formats"}),e.jsxs("div",{className:"grid sm:grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[e.jsx(y,{variant:"outline",className:"justify-start",leftIcon:P,children:"PDF Report"}),e.jsx(y,{variant:"outline",className:"justify-start",leftIcon:P,children:"Markdown"}),e.jsx(y,{variant:"outline",className:"justify-start",leftIcon:P,children:"CSV Data"}),e.jsx(y,{variant:"outline",className:"justify-start",leftIcon:P,children:"JSON"})]})]})]})}const F=[{id:"scope1",label:"Scope 1",description:"Direct emissions"},{id:"scope2",label:"Scope 2",description:"Energy emissions"},{id:"scope3",label:"Scope 3",description:"Value chain (optional)"},{id:"results",label:"Results",description:"Summary & export"}],re={scope1:{stationaryCombustion:[],mobileCombustion:[],flaring:{volume:0,unit:"MMscf"},venting:[],fugitives:{method:"average",facilityType:"production_onshore"}},scope2:{electricity:{kWh:0,region:"US",subregion:""},steam:{amount:0}},scope3:{includeScope3:!1,category11:[],category3:[],category4:[]}};function It({mode:t,onChangeMode:s}){const[a,l]=x.useState(0),[n,r]=x.useState(re),[o,d]=x.useState(null),{notify:m}=V(),c=()=>{a<F.length-1&&l(a+1)},p=()=>{a>0&&l(a-1)},u=S=>{(S<=a||S===a+1)&&l(S)},i=S=>{r(M=>({...M,scope1:{...M.scope1,...S}}))},j=S=>{r(M=>({...M,scope2:{...M.scope2,...S}}))},v=S=>{r(M=>({...M,scope3:{...M.scope3,...S}}))},k=()=>{m.success("Calculation completed successfully!"),c()},Ne=()=>{window.confirm("Are you sure you want to reset all inputs?")&&(r(re),d(null),l(0),m.info("Calculator has been reset"))},we=()=>{switch(F[a].id){case"scope1":return e.jsx(bt,{mode:t,data:n.scope1,onUpdate:i});case"scope2":return e.jsx(Ct,{mode:t,data:n.scope2,onUpdate:j});case"scope3":return e.jsx(Et,{mode:t,data:n.scope3,onUpdate:v});case"results":return e.jsx(At,{data:n,results:o});default:return null}};return e.jsxs("div",{className:"py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Emission Calculator"}),e.jsxs("p",{className:"text-secondary-600",children:[t==="simple"?"Simple Mode":"Expert Mode"," โข"," ",e.jsx("button",{onClick:s,className:"text-primary-600 hover:underline",children:"Change mode"})]})]}),e.jsx(y,{variant:"ghost",onClick:Ne,leftIcon:ae,children:"Reset"})]}),e.jsx(ut,{steps:F,currentStep:a,onStepClick:u}),e.jsx(g,{className:"mt-6",children:we()}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsx(y,{variant:"secondary",onClick:p,disabled:a===0,leftIcon:he,children:"Back"}),a===F.length-2?e.jsx(y,{onClick:k,rightIcon:_,children:"Calculate Emissions"}):a===F.length-1?e.jsx(y,{onClick:()=>l(0),leftIcon:ae,children:"Start New Calculation"}):e.jsx(y,{onClick:c,rightIcon:L,children:"Continue"})]})]})}function Tt(){const[t,s]=x.useState(null);return t?e.jsx(It,{mode:t,onChangeMode:()=>s(null)}):e.jsx(mt,{onSelectMode:s})}function Pt(){return e.jsxs("div",{className:"py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Benchmarks"}),e.jsx("p",{className:"text-secondary-600 mb-6",children:"Compare your emissions against industry standards and regulatory thresholds"}),e.jsx(g,{children:e.jsx(U,{icon:W,title:"No data to benchmark",description:"Complete a calculation first to see how your emissions compare to industry benchmarks."})})]})}const Rt=[{id:"tcfd",name:"TCFD Report",description:"Task Force on Climate-related Financial Disclosures",icon:"๐"},{id:"cdp",name:"CDP Report",description:"Carbon Disclosure Project questionnaire format",icon:"๐"},{id:"csrd",name:"EU CSRD/ESRS",description:"Corporate Sustainability Reporting Directive",icon:"๐ช๐บ"},{id:"sec",name:"SEC Climate",description:"SEC Climate Disclosure format (when finalized)",icon:"๐บ๐ธ"},{id:"custom",name:"Custom Report",description:"Build your own report with selected metrics",icon:"๐"}];function Ft(){const t=[];return e.jsxs("div",{className:"py-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Reports"}),e.jsx("p",{className:"text-secondary-600",children:"Generate reports aligned with major disclosure frameworks"})]})}),e.jsxs(g,{className:"mb-6",children:[e.jsx(N,{children:"Report Templates"}),e.jsx(I,{children:"Select a framework to generate a compliant report"}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-5 gap-4 mt-4",children:Rt.map(s=>e.jsxs("button",{disabled:!0,className:"p-4 border border-secondary-200 rounded-lg text-left hover:border-primary-500 hover:bg-primary-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"text-2xl mb-2 block",children:s.icon}),e.jsx("p",{className:"font-medium text-secondary-900",children:s.name}),e.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:s.description})]},s.id))}),e.jsx("p",{className:"text-sm text-secondary-500 mt-4",children:"Complete a calculation to enable report generation"})]}),e.jsxs(g,{children:[e.jsx(N,{children:"Generated Reports"}),t.length===0?e.jsx(U,{icon:P,title:"No reports generated",description:"Select a template above to generate your first report"}):e.jsx("div",{className:"divide-y divide-secondary-200"})]})]})}function _t({isOpen:t,onClose:s,title:a,children:l,size:n="md",showCloseButton:r=!0,closeOnOverlayClick:o=!0}){const d=x.useRef(null),m={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};if(x.useEffect(()=>{const p=u=>{u.key==="Escape"&&t&&s()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[t,s]),x.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),x.useEffect(()=>{t&&d.current&&d.current.focus()},[t]),!t)return null;const c=p=>{o&&p.target===p.currentTarget&&s()};return Se.createPortal(e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 animate-fadeIn",onClick:c,role:"dialog","aria-modal":"true","aria-labelledby":a?"modal-title":void 0,children:e.jsxs("div",{ref:d,className:`${m[n]} w-full bg-white rounded-xl shadow-xl animate-slideUp`,tabIndex:-1,children:[(a||r)&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-secondary-200",children:[a&&e.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-secondary-900",children:a}),r&&e.jsx("button",{onClick:s,className:"p-1 text-secondary-400 hover:text-secondary-600 hover:bg-secondary-100 rounded-lg transition-colors","aria-label":"Close modal",children:e.jsx(B,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4",children:l})]})}),document.body)}function Ot({children:t,className:s=""}){return e.jsx("div",{className:`flex items-center justify-end gap-3 px-6 py-4 border-t border-secondary-200 bg-secondary-50 rounded-b-xl ${s}`,children:t})}const Gt=Object.entries(de).map(([t,s])=>({value:t,label:s})),Dt=[{value:"US",label:"United States"},{value:"GB",label:"United Kingdom"},{value:"AU",label:"Australia"},{value:"MY",label:"Malaysia"},{value:"SG",label:"Singapore"},{value:"AE",label:"United Arab Emirates"},{value:"SA",label:"Saudi Arabia"},{value:"OTHER",label:"Other"}];function $t(){const[t,s]=x.useState(!1),[a,l]=x.useState([]),[n,r]=x.useState({name:"",type:"",region:""}),o=d=>{d.preventDefault();const m={id:Date.now().toString(),...n,createdAt:new Date().toISOString()};l([...a,m]),r({name:"",type:"",region:""}),s(!1)};return e.jsxs("div",{className:"py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Facilities"}),e.jsx("p",{className:"text-secondary-600",children:"Manage your operational facilities and assets"})]}),e.jsx(y,{leftIcon:R,onClick:()=>s(!0),children:"Add Facility"})]}),a.length===0?e.jsx(g,{children:e.jsx(U,{icon:D,title:"No facilities added",description:"Add your first facility to start tracking emissions across your operations.",actionLabel:"Add Facility",onAction:()=>s(!0)})}):e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(d=>e.jsx(g,{hover:!0,className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(D,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-secondary-900 truncate",children:d.name}),e.jsx("p",{className:"text-sm text-secondary-500",children:de[d.type]||d.type}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-secondary-400 mt-2",children:[e.jsx(je,{className:"w-3 h-3"}),e.jsx("span",{children:d.region})]})]})]})},d.id))}),e.jsx(_t,{isOpen:t,onClose:()=>s(!1),title:"Add New Facility",children:e.jsxs("form",{onSubmit:o,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{label:"Facility Name",placeholder:"e.g., Permian Basin Platform A",value:n.name,onChange:d=>r({...n,name:d.target.value}),required:!0}),e.jsx(f,{label:"Facility Type",options:Gt,value:n.type,onChange:d=>r({...n,type:d.target.value}),required:!0}),e.jsx(f,{label:"Region",options:Dt,value:n.region,onChange:d=>r({...n,region:d.target.value}),required:!0})]}),e.jsxs(Ot,{children:[e.jsx(y,{type:"button",variant:"secondary",onClick:()=>s(!1),children:"Cancel"}),e.jsx(y,{type:"submit",children:"Add Facility"})]})]})})]})}const ie=[{id:"energy",name:"Energy",units:[{value:"MMBtu",label:"MMBtu"},{value:"MJ",label:"MJ"},{value:"kWh",label:"kWh"},{value:"therm",label:"Therm"},{value:"GJ",label:"GJ"}],conversions:{MMBtu:{MJ:1055.06,kWh:293.07,therm:10,GJ:1.055},MJ:{MMBtu:948e-6,kWh:.278,therm:.00948,GJ:.001},kWh:{MMBtu:.00341,MJ:3.6,therm:.0341,GJ:.0036},therm:{MMBtu:.1,MJ:105.5,kWh:29.3,GJ:.1055},GJ:{MMBtu:.948,MJ:1e3,kWh:277.8,therm:9.48}}},{id:"volume",name:"Volume",units:[{value:"gallon",label:"Gallon (US)"},{value:"liter",label:"Liter"},{value:"barrel",label:"Barrel"},{value:"mcf",label:"MCF"},{value:"scf",label:"SCF"}],conversions:{gallon:{liter:3.785,barrel:.0238,mcf:.00378,scf:.134},liter:{gallon:.264,barrel:.00629,mcf:.001,scf:.0353},barrel:{gallon:42,liter:158.99,mcf:.159,scf:5.62},mcf:{gallon:264.2,liter:1e3,barrel:6.29,scf:1e3},scf:{gallon:7.48,liter:28.32,barrel:.178,mcf:.001}}},{id:"mass",name:"Mass",units:[{value:"kg",label:"Kilogram"},{value:"lb",label:"Pound"},{value:"tonne",label:"Metric Tonne"},{value:"shortTon",label:"Short Ton (US)"}],conversions:{kg:{lb:2.205,tonne:.001,shortTon:.0011},lb:{kg:.454,tonne:454e-6,shortTon:5e-4},tonne:{kg:1e3,lb:2204.6,shortTon:1.102},shortTon:{kg:907.2,lb:2e3,tonne:.907}}}];function Lt(){const[t,s]=x.useState("energy"),[a,l]=x.useState(""),[n,r]=x.useState(""),[o,d]=x.useState(""),[m,c]=x.useState(null),p=ie.find(i=>i.id===t),u=()=>{if(!o||!a||!n)return;const i=parseFloat(o);if(isNaN(i))return;if(a===n){c(i);return}const j=p?.conversions[a]?.[n];j&&c(i*j)};return e.jsxs("div",{className:"py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Tools"}),e.jsx("p",{className:"text-secondary-600 mb-6",children:"Utility tools for unit conversion and emission factor lookup"}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(g,{children:[e.jsx(N,{children:"Unit Converter"}),e.jsx(I,{children:"Convert between common units"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsx("div",{className:"flex gap-2",children:ie.map(i=>e.jsx("button",{onClick:()=>{s(i.id),l(""),r(""),c(null)},className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${t===i.id?"bg-primary-100 text-primary-700":"bg-secondary-100 text-secondary-600 hover:bg-secondary-200"}`,children:i.name},i.id))}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(f,{label:"From",options:p?.units||[],value:a,onChange:i=>l(i.target.value),placeholder:"Select unit"}),e.jsx(f,{label:"To",options:p?.units||[],value:n,onChange:i=>r(i.target.value),placeholder:"Select unit"})]}),e.jsx(b,{label:"Value",type:"number",placeholder:"Enter value",value:o,onChange:i=>d(i.target.value)}),e.jsx(y,{onClick:u,className:"w-full",children:"Convert"}),m!==null&&e.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm text-primary-600",children:"Result"}),e.jsxs("p",{className:"text-2xl font-bold text-primary-700",children:[m.toLocaleString(void 0,{maximumFractionDigits:6})," ",n]})]})]})]}),e.jsxs(g,{children:[e.jsx(N,{children:"GWP Calculator"}),e.jsx(I,{children:"Convert greenhouse gases to CO2 equivalent"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"bg-secondary-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-secondary-900 mb-2",children:"Global Warming Potentials (100-year)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-secondary-600",children:"CO2"}),e.jsx("span",{className:"font-medium",children:"1"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-secondary-600",children:"CH4 (fossil)"}),e.jsx("span",{className:"font-medium",children:"30 (AR5) / 29.8 (AR6)"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-secondary-600",children:"N2O"}),e.jsx("span",{className:"font-medium",children:"265 (AR5) / 273 (AR6)"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-secondary-600",children:"SF6"}),e.jsx("span",{className:"font-medium",children:"23,500 (AR5)"})]})]})]}),e.jsx("p",{className:"text-sm text-secondary-500",children:"GWP values are from IPCC Assessment Reports. AR5 is commonly used for current reporting. AR6 values are being adopted by some frameworks."})]})]}),e.jsxs(g,{className:"lg:col-span-2",children:[e.jsx(N,{children:"Emission Factor Lookup"}),e.jsx(I,{children:"Search for emission factors by fuel type and source"}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"grid sm:grid-cols-3 gap-4 mb-4",children:[e.jsx(f,{label:"Source",options:[{value:"epa",label:"US EPA"},{value:"defra",label:"UK DEFRA"},{value:"ipcc",label:"IPCC"}],placeholder:"Select source"}),e.jsx(f,{label:"Category",options:[{value:"stationary",label:"Stationary Combustion"},{value:"mobile",label:"Mobile Combustion"},{value:"flaring",label:"Flaring"}],placeholder:"Select category"}),e.jsx(f,{label:"Fuel Type",options:[{value:"naturalGas",label:"Natural Gas"},{value:"diesel",label:"Diesel"},{value:"gasoline",label:"Gasoline"}],placeholder:"Select fuel"})]}),e.jsx("div",{className:"bg-secondary-50 rounded-lg p-4",children:e.jsx("p",{className:"text-center text-secondary-500",children:"Select options above to view emission factors"})})]})]})]})]})}const Wt=[{value:"US",label:"United States"},{value:"GB",label:"United Kingdom"},{value:"AU",label:"Australia"},{value:"MY",label:"Malaysia"},{value:"SG",label:"Singapore"},{value:"EU",label:"European Union"}],qt=[{value:H.AR5,label:"IPCC AR5 (2014) - Most Common"},{value:H.AR6,label:"IPCC AR6 (2021) - Latest"}],Bt=[{value:"metric",label:"Metric (tonnes, km, liters)"},{value:"imperial",label:"Imperial (tons, miles, gallons)"}];function Ut(){const{settings:t,updateSettings:s}=$(),{notify:a}=V(),[l,n]=x.useState({eia:"",electricityMaps:""}),[r,o]=x.useState({eia:!1,electricityMaps:!1});x.useEffect(()=>{try{const u=localStorage.getItem(E.API_KEYS);if(u){const i=JSON.parse(u);o({eia:!!i.eia?.key,electricityMaps:!!i.electricityMaps?.key})}}catch(u){console.warn("Failed to load API keys:",u)}},[]);const d=(u,i)=>{s({[u]:i}),a.success(`${u} updated successfully`)},m=(u,i)=>{try{const j=JSON.parse(localStorage.getItem(E.API_KEYS)||"{}");i.trim()?(j[u]={key:i.trim(),addedAt:new Date().toISOString()},o(v=>({...v,[u]:!0})),a.success(`${u.toUpperCase()} API key saved. Features using this API will now use live data.`)):(delete j[u],o(v=>({...v,[u]:!1})),a.info(`${u.toUpperCase()} API key removed. Features will use fallback data.`)),localStorage.setItem(E.API_KEYS,JSON.stringify(j)),n(v=>({...v,[u]:""})),window.dispatchEvent(new CustomEvent("apiKeyChanged",{detail:{apiName:u}}))}catch{a.error("Failed to save API key")}},c=u=>{m(u,"")},p=()=>{window.confirm("This will delete all your saved facilities, calculations, and settings. This cannot be undone. Continue?")&&(localStorage.removeItem(E.FACILITIES),localStorage.removeItem(E.CALCULATIONS),localStorage.removeItem(E.SETTINGS),a.success("All data cleared successfully"),window.location.reload())};return e.jsxs("div",{className:"py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Settings"}),e.jsx("p",{className:"text-secondary-600 mb-6",children:"Configure application preferences and API integrations"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(g,{children:[e.jsx(N,{children:"Calculation Preferences"}),e.jsx(I,{children:"Default settings for emission calculations"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsx(f,{label:"Default Region",options:Wt,value:t.defaultRegion,onChange:u=>d("defaultRegion",u.target.value),helperText:"Used for grid emission factors and regulatory thresholds"}),e.jsx(f,{label:"GWP Version",options:qt,value:t.gwpVersion,onChange:u=>d("gwpVersion",u.target.value),helperText:"Global Warming Potential values for CO2e calculations"}),e.jsx(f,{label:"Unit System",options:Bt,value:t.units,onChange:u=>d("units",u.target.value),helperText:"Display units throughout the application"})]})]}),e.jsxs(g,{children:[e.jsx(N,{children:"API Configuration"}),e.jsx(I,{children:"Configure optional API keys for enhanced features"}),e.jsx(C,{variant:"info",className:"mt-4",children:"API keys are optional. Without them, the app uses built-in fallback data. When configured, features automatically use live API data."}),e.jsxs("div",{className:"mt-4 space-y-6",children:[e.jsxs("div",{className:"border-b border-secondary-200 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(te,{className:"w-4 h-4 text-secondary-500"}),e.jsx("span",{className:"font-medium",children:"EIA API"}),r.eia&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 bg-green-50 px-2 py-0.5 rounded-full",children:[e.jsx(_,{className:"w-3 h-3"})," Configured"]})]}),e.jsxs("p",{className:"text-sm text-secondary-500 mb-3",children:["US Energy Information Administration - Enhanced US energy data."," ",e.jsx("a",{href:"https://www.eia.gov/opendata/register.php",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"Get free API key"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{placeholder:r.eia?"โขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโข":"Enter EIA API key",type:"password",value:l.eia,onChange:u=>n({...l,eia:u.target.value}),className:"flex-1"}),e.jsx(y,{onClick:()=>m("eia",l.eia),disabled:!l.eia.trim(),children:"Save"}),r.eia&&e.jsx(y,{variant:"ghost",onClick:()=>c("eia"),children:e.jsx(O,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(te,{className:"w-4 h-4 text-secondary-500"}),e.jsx("span",{className:"font-medium",children:"ElectricityMaps API"}),r.electricityMaps&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 bg-green-50 px-2 py-0.5 rounded-full",children:[e.jsx(_,{className:"w-3 h-3"})," Configured"]})]}),e.jsxs("p",{className:"text-sm text-secondary-500 mb-3",children:["Real-time grid carbon intensity for 50+ countries."," ",e.jsx("a",{href:"https://www.electricitymaps.com/pricing",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"Get API key"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{placeholder:r.electricityMaps?"โขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโข":"Enter ElectricityMaps API key",type:"password",value:l.electricityMaps,onChange:u=>n({...l,electricityMaps:u.target.value}),className:"flex-1"}),e.jsx(y,{onClick:()=>m("electricityMaps",l.electricityMaps),disabled:!l.electricityMaps.trim(),children:"Save"}),r.electricityMaps&&e.jsx(y,{variant:"ghost",onClick:()=>c("electricityMaps"),children:e.jsx(O,{className:"w-4 h-4"})})]})]})]})]}),e.jsxs(g,{children:[e.jsx(N,{children:"Data Management"}),e.jsx(I,{children:"Manage your local data and storage"}),e.jsx("div",{className:"mt-4 space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900",children:"Clear All Data"}),e.jsx("p",{className:"text-sm text-secondary-500",children:"Delete all saved facilities, calculations, and settings"})]}),e.jsx(y,{variant:"danger",onClick:p,children:"Clear Data"})]})})]})]})]})}const Ht=[{question:"What is the difference between Simple and Expert mode?",answer:"Simple mode uses pre-configured emission factors and industry averages for quick estimates. Expert mode allows equipment-level inputs, custom emission factors, gas composition analysis, and detailed methodology selection."},{question:"Which GWP values should I use (AR5 vs AR6)?",answer:"AR5 (IPCC 2014) is currently the most widely used for regulatory reporting. AR6 (IPCC 2021) has the latest scientific values and is being adopted by some frameworks. Check your reporting requirements to determine which version to use."},{question:"How are flaring emissions calculated?",answer:"Flaring emissions follow 40 CFR ยง 98.253 methodology. The default method uses a combustion efficiency of 98% and standard emission factors. Expert mode allows custom gas composition and combustion efficiency inputs."},{question:"What is the difference between location-based and market-based Scope 2?",answer:"Location-based uses average grid emission factors for your region. Market-based accounts for renewable energy certificates (RECs), power purchase agreements (PPAs), and supplier-specific emission factors."},{question:"Why is Category 11 (Use of Sold Products) so significant for O&G?",answer:"For oil and gas companies, Category 11 typically represents 70-90% of total value chain emissions because it accounts for the end-use combustion of sold petroleum products by customers."},{question:"Can I use this tool offline?",answer:"Yes, the calculator works fully offline using cached emission factors. API-dependent features like real-time grid intensity will use fallback data when offline."}],Vt=[{title:"GHG Protocol",description:"Corporate Accounting and Reporting Standard",url:"https://ghgprotocol.org"},{title:"EPA GHG Emission Factors Hub",description:"US EPA emission factors and guidance",url:"https://www.epa.gov/climateleadership"},{title:"40 CFR Part 98",description:"Mandatory GHG Reporting Rule",url:"https://www.ecfr.gov/current/title-40/chapter-I/subchapter-C/part-98"},{title:"IPCC Emission Factor Database",description:"International emission factors",url:"https://www.ipcc-nggip.iges.or.jp/EFDB/main.php"},{title:"UK DESNZ Conversion Factors",description:"UK government emission factors",url:"https://www.gov.uk/government/publications/greenhouse-gas-reporting-conversion-factors-2023"}],zt=[{title:"Scope 1 - Direct Emissions",items:["Stationary combustion (EPA Table C-1)","Mobile combustion (EPA Table C-2)","Flaring (40 CFR ยง 98.253)","Fugitive emissions (EPA Protocol)","Process emissions (industry-specific)"]},{title:"Scope 2 - Energy Emissions",items:["Location-based (eGRID, IEA factors)","Market-based (RECs, PPAs)","Dual reporting per GHG Protocol"]},{title:"Scope 3 - Value Chain",items:["All 15 GHG Protocol categories","Category 11 combustion factors","Spend-based and activity-based methods"]}];function Kt(){const[t,s]=x.useState(null);return e.jsxs("div",{className:"py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Help & Documentation"}),e.jsx("p",{className:"text-secondary-600 mb-6",children:"Learn how to use CarbonScope and understand the calculation methodologies"}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(g,{children:[e.jsx(N,{children:"Quick Start Guide"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-primary-700 font-medium",children:"1"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900",children:"Add a Facility"}),e.jsx("p",{className:"text-sm text-secondary-600",children:"Go to Facilities and create your first facility with basic information"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-primary-700 font-medium",children:"2"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900",children:"Choose Calculation Mode"}),e.jsx("p",{className:"text-sm text-secondary-600",children:"Select Simple mode for quick estimates or Expert mode for detailed analysis"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-primary-700 font-medium",children:"3"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900",children:"Enter Activity Data"}),e.jsx("p",{className:"text-sm text-secondary-600",children:"Input fuel consumption, electricity usage, and other emission sources"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-primary-700 font-medium",children:"4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900",children:"Review & Export"}),e.jsx("p",{className:"text-sm text-secondary-600",children:"View results, compare to benchmarks, and generate reports"})]})]})]})]}),e.jsxs(g,{children:[e.jsx(N,{children:"Frequently Asked Questions"}),e.jsx("div",{className:"mt-4 divide-y divide-secondary-200",children:Ht.map((a,l)=>e.jsxs("div",{className:"py-3",children:[e.jsxs("button",{onClick:()=>s(t===l?null:l),className:"w-full flex items-center justify-between text-left",children:[e.jsx("span",{className:"font-medium text-secondary-900",children:a.question}),t===l?e.jsx(es,{className:"w-5 h-5 text-secondary-400"}):e.jsx(pe,{className:"w-5 h-5 text-secondary-400"})]}),t===l&&e.jsx("p",{className:"mt-2 text-sm text-secondary-600",children:a.answer})]},l))})]}),e.jsxs(g,{children:[e.jsx(N,{children:"Calculation Methodologies"}),e.jsx(I,{children:"Standards and sources used for emission calculations"}),e.jsx("div",{className:"mt-4 grid sm:grid-cols-3 gap-4",children:zt.map(a=>e.jsxs("div",{className:"bg-secondary-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-secondary-900 mb-2",children:a.title}),e.jsx("ul",{className:"space-y-1",children:a.items.map((l,n)=>e.jsxs("li",{className:"text-xs text-secondary-600",children:["โข ",l]},n))})]},a.title))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(g,{children:[e.jsx(N,{children:"Resources"}),e.jsx("div",{className:"mt-4 space-y-3",children:Vt.map(a=>e.jsxs("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"block p-3 bg-secondary-50 rounded-lg hover:bg-secondary-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-secondary-900 text-sm",children:a.title}),e.jsx(se,{className:"w-4 h-4 text-secondary-400"})]}),e.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:a.description})]},a.title))})]}),e.jsxs(g,{children:[e.jsx(N,{children:"Need Help?"}),e.jsx("p",{className:"text-sm text-secondary-600 mt-2",children:"CarbonScope is an open-source project. For issues and feature requests, please visit our GitHub repository."}),e.jsxs("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 text-primary-600 text-sm hover:underline",children:["View on GitHub",e.jsx(se,{className:"w-4 h-4"})]})]})]})]})]})}function Jt(){return e.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center py-12",children:[e.jsx("div",{className:"text-8xl font-bold text-secondary-200 mb-4",children:"404"}),e.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Page Not Found"}),e.jsx("p",{className:"text-secondary-600 mb-8 max-w-md",children:"The page you're looking for doesn't exist or has been moved."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(y,{variant:"outline",onClick:()=>window.history.back(),leftIcon:he,children:"Go Back"}),e.jsx(A,{to:"/",children:e.jsx(y,{leftIcon:J,children:"Home"})})]})]})}function Yt(){return e.jsx(_e,{children:e.jsx(De,{children:e.jsx(Me,{children:e.jsx(nt,{children:e.jsxs(Ee,{children:[e.jsx(w,{path:"/",element:e.jsx(ot,{})}),e.jsx(w,{path:"/dashboard",element:e.jsx(ct,{})}),e.jsx(w,{path:"/calculator",element:e.jsx(Tt,{})}),e.jsx(w,{path:"/benchmarks",element:e.jsx(Pt,{})}),e.jsx(w,{path:"/reports",element:e.jsx(Ft,{})}),e.jsx(w,{path:"/facilities",element:e.jsx($t,{})}),e.jsx(w,{path:"/tools",element:e.jsx(Lt,{})}),e.jsx(w,{path:"/settings",element:e.jsx(Ut,{})}),e.jsx(w,{path:"/help",element:e.jsx(Kt,{})}),e.jsx(w,{path:"*",element:e.jsx(Jt,{})})]})})})})})}Pe.createRoot(document.getElementById("root")).render(e.jsx(Ae.StrictMode,{children:e.jsx(Yt,{})}));
