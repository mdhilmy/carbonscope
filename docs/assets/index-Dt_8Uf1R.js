const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-xRC-1UMm.js","assets/vendor-WEpAvcqr.js","assets/utils-Dvim95pL.js"])))=>i.map(i=>d[i]);
import{j as u}from"./charts-CEJMobIx.js";import{a as id,g as sd,b as Ie,L as Bi,N as uh,c as ad,H as od,R as ld,d as Mi,e as cd}from"./vendor-WEpAvcqr.js";import{_ as Ft}from"./utils-Dvim95pL.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var za={},Tc;function ud(){if(Tc)return za;Tc=1;var n=id();return za.createRoot=n.createRoot,za.hydrateRoot=n.hydrateRoot,za}var hd=ud();const fd=sd(hd),Al={AR5:"AR5",AR6:"AR6"},hh={gwpVersion:Al.AR5,units:"metric",defaultRegion:"US",theme:"light"},Oi={PRODUCTION:"production",REFINERY:"refinery",PIPELINE:"pipeline",TERMINAL:"terminal",GATHERING:"gathering",PROCESSING:"processing",OTHER:"other"},Qs={[Oi.PRODUCTION]:"Production",[Oi.REFINERY]:"Refinery",[Oi.PIPELINE]:"Pipeline",[Oi.TERMINAL]:"Terminal",[Oi.GATHERING]:"Gathering",[Oi.PROCESSING]:"Processing",[Oi.OTHER]:"Other"},fi={API_KEYS:"carbonscope_api_keys",SETTINGS:"carbonscope_settings",FACILITIES:"carbonscope_facilities",CALCULATIONS:"carbonscope_calculations"},fh=Ie.createContext(null),dd={settings:{...hh},activeFacility:null,isOffline:typeof navigator<"u"?!navigator.onLine:!1,isLoading:!1};function pd(n,e){switch(e.type){case"SET_SETTINGS":return{...n,settings:{...n.settings,...e.payload}};case"SET_ACTIVE_FACILITY":return{...n,activeFacility:e.payload};case"SET_OFFLINE":return{...n,isOffline:e.payload};case"SET_LOADING":return{...n,isLoading:e.payload};case"RESET_SETTINGS":return{...n,settings:{...hh}};default:return n}}function md({children:n}){const[e,t]=Ie.useReducer(pd,dd);Ie.useEffect(()=>{try{const a=localStorage.getItem(fi.SETTINGS);if(a){const i=JSON.parse(a);t({type:"SET_SETTINGS",payload:i})}}catch(a){console.warn("Failed to load settings from localStorage:",a)}},[]),Ie.useEffect(()=>{try{localStorage.setItem(fi.SETTINGS,JSON.stringify(e.settings))}catch(a){console.warn("Failed to save settings to localStorage:",a)}},[e.settings]),Ie.useEffect(()=>{const a=()=>t({type:"SET_OFFLINE",payload:!1}),i=()=>t({type:"SET_OFFLINE",payload:!0});return window.addEventListener("online",a),window.addEventListener("offline",i),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",i)}},[]);const r={...e,dispatch:t,updateSettings:a=>t({type:"SET_SETTINGS",payload:a}),setActiveFacility:a=>t({type:"SET_ACTIVE_FACILITY",payload:a}),setLoading:a=>t({type:"SET_LOADING",payload:a}),resetSettings:()=>t({type:"RESET_SETTINGS"})};return u.jsx(fh.Provider,{value:r,children:n})}function ra(){const n=Ie.useContext(fh);if(!n)throw new Error("useApp must be used within an AppProvider");return n}const dh=Ie.createContext(null),gd={notifications:[]};function bd(n,e){switch(e.type){case"ADD_NOTIFICATION":return{...n,notifications:[...n.notifications,{id:Date.now()+Math.random(),createdAt:new Date().toISOString(),...e.payload}]};case"REMOVE_NOTIFICATION":return{...n,notifications:n.notifications.filter(t=>t.id!==e.payload)};case"CLEAR_ALL":return{...n,notifications:[]};default:return n}}function yd({children:n}){const[e,t]=Ie.useReducer(bd,gd),r=Ie.useCallback(h=>{const d=Date.now()+Math.random();if(t({type:"ADD_NOTIFICATION",payload:{id:d,type:"info",duration:5e3,...h}}),h.duration!==0){const g=h.duration||5e3;setTimeout(()=>{t({type:"REMOVE_NOTIFICATION",payload:d})},g)}return d},[]),a=Ie.useCallback(h=>{t({type:"REMOVE_NOTIFICATION",payload:h})},[]),i=Ie.useCallback(()=>{t({type:"CLEAR_ALL"})},[]),l=Ie.useCallback({success:(h,d={})=>r({type:"success",message:h,...d}),error:(h,d={})=>r({type:"error",message:h,duration:8e3,...d}),warning:(h,d={})=>r({type:"warning",message:h,duration:6e3,...d}),info:(h,d={})=>r({type:"info",message:h,...d})},[r]),c={notifications:e.notifications,addNotification:r,removeNotification:a,clearAllNotifications:i,notify:l};return u.jsx(dh.Provider,{value:c,children:n})}function ia(){const n=Ie.useContext(dh);if(!n)throw new Error("useNotification must be used within a NotificationProvider");return n}const ph=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const vd=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const xd=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const Bc=n=>{const e=xd(n);return e.charAt(0).toUpperCase()+e.slice(1)};var wd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Nd=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const _d=Ie.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:l,...c},h)=>Ie.createElement("svg",{ref:h,...wd,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:ph("lucide",a),...!i&&!Nd(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,g])=>Ie.createElement(d,g)),...Array.isArray(i)?i:[i]]));const Ke=(n,e)=>{const t=Ie.forwardRef(({className:r,...a},i)=>Ie.createElement(_d,{ref:i,iconNode:e,className:ph(`lucide-${vd(Bc(n))}`,`lucide-${n}`,r),...a}));return t.displayName=Bc(n),t};const Ad=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],kd=Ke("arrow-left-right",Ad);const Sd=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mh=Ke("arrow-left",Sd);const Cd=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Dl=Ke("arrow-right",Cd);const jd=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],kl=Ke("building-2",jd);const Ld=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],ql=Ke("calculator",Ld);const Pd=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Ed=Ke("car",Pd);const Fd=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Sl=Ke("chart-column",Fd);const Id=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ea=Ke("check",Id);const Md=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ul=Ke("chevron-down",Md);const Od=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Rd=Ke("chevron-up",Od);const Td=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gl=Ke("circle-check-big",Td);const Bd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Dd=Ke("circle-question-mark",Bd);const qd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gh=Ke("circle-x",qd);const Ud=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gd=Ke("circle",Ud);const zd=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Dc=Ke("clipboard-check",zd);const Hd=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 17H7",key:"pygtm1"}],["path",{d:"M17 21H9",key:"1u2q02"}]],Wd=Ke("cloud-fog",Hd);const $d=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vd=Ke("download",$d);const Yd=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],qc=Ke("external-link",Yd);const Jd=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],zl=Ke("factory",Jd);const Kd=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],Xd=Ke("file-question-mark",Kd);const Zd=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hl=Ke("file-text",Zd);const Qd=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],e1=Ke("flame",Qd);const t1=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],n1=Ke("fuel",t1);const r1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],i1=Ke("globe",r1);const s1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Wl=Ke("house",s1);const a1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],uo=Ke("info",a1);const o1=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Uc=Ke("key",o1);const l1=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],bh=Ke("layout-dashboard",l1);const c1=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],yh=Ke("leaf",c1);const u1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],h1=Ke("loader-circle",u1);const f1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vh=Ke("map-pin",f1);const d1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],p1=Ke("menu",d1);const m1=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],g1=Ke("package",m1);const b1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ui=Ke("plus",b1);const y1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Gc=Ke("rotate-ccw",y1);const v1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zc=Ke("save",v1);const x1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],w1=Ke("search",x1);const N1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$l=Ke("settings",N1);const _1=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],A1=Ke("share-2",_1);const k1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],S1=Ke("shield",k1);const C1=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],j1=Ke("shopping-cart",C1);const L1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gs=Ke("trash-2",L1);const P1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vl=Ke("triangle-alert",P1);const E1=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Yl=Ke("truck",E1);const F1=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],I1=Ke("wifi",F1);const M1=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],O1=Ke("wind",M1);const R1=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],xh=Ke("wrench",R1);const T1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bs=Ke("x",T1);const B1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ho=Ke("zap",B1);function D1(){const[n,e]=Ie.useState(!1),{isOffline:t}=ra();return u.jsx("header",{className:"fixed top-0 left-0 right-0 h-16 bg-white border-b border-secondary-200 z-50",children:u.jsxs("div",{className:"h-full px-4 flex items-center justify-between",children:[u.jsxs(Bi,{to:"/",className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-9 h-9 bg-primary-600 rounded-lg flex items-center justify-center",children:u.jsx(yh,{className:"w-5 h-5 text-white"})}),u.jsx("span",{className:"text-xl font-bold text-secondary-900",children:"CarbonScope"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${t?"bg-amber-500":"bg-green-500"}`}),u.jsx("span",{className:"text-sm text-secondary-600",children:t?"Offline":"Online"})]}),u.jsx("button",{className:"lg:hidden p-2 text-secondary-600 hover:text-secondary-900 hover:bg-secondary-100 rounded-lg",onClick:()=>e(!n),"aria-label":"Toggle menu",children:n?u.jsx(bs,{className:"w-6 h-6"}):u.jsx(p1,{className:"w-6 h-6"})})]})]})})}const q1=[{path:"/",label:"Home",icon:Wl},{path:"/dashboard",label:"Dashboard",icon:bh},{path:"/calculator",label:"Calculator",icon:ql},{path:"/tools",label:"Tools",icon:xh},{path:"/settings",label:"Settings",icon:$l},{path:"/help",label:"Help",icon:Dd}];function U1(){return u.jsxs("aside",{className:"hidden lg:block w-64 fixed left-0 top-16 bottom-0 bg-white border-r border-secondary-200 overflow-y-auto",children:[u.jsx("nav",{className:"p-4",children:u.jsx("ul",{className:"space-y-1",children:q1.map(n=>u.jsx("li",{children:u.jsxs(uh,{to:n.path,end:n.path==="/",className:({isActive:e})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors ${e?"bg-primary-50 text-primary-700 font-medium":"text-secondary-600 hover:bg-secondary-50 hover:text-secondary-900"}`,children:[u.jsx(n.icon,{className:"w-5 h-5"}),u.jsx("span",{children:n.label})]})},n.path))})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-secondary-200 bg-white",children:u.jsx("p",{className:"text-xs text-secondary-500 text-center",children:"CarbonScope v2.0.0"})})]})}const G1=[{path:"/",label:"Home",icon:Wl},{path:"/dashboard",label:"Dashboard",icon:bh},{path:"/calculator",label:"Calculator",icon:ql},{path:"/tools",label:"Tools",icon:xh},{path:"/settings",label:"Settings",icon:$l}];function z1(){return u.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-secondary-200 z-50",children:u.jsx("ul",{className:"flex justify-around items-center h-16",children:G1.map(n=>u.jsx("li",{children:u.jsxs(uh,{to:n.path,end:n.path==="/",className:({isActive:e})=>`flex flex-col items-center gap-1 px-3 py-2 rounded-lg transition-colors ${e?"text-primary-600":"text-secondary-500 hover:text-secondary-700"}`,children:[u.jsx(n.icon,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs",children:n.label})]})},n.path))})})}const H1={success:Gl,warning:Vl,error:gh,info:uo},Hc={success:"bg-green-50 border-green-200 text-green-800",warning:"bg-amber-50 border-amber-200 text-amber-800",error:"bg-red-50 border-red-200 text-red-800",info:"bg-blue-50 border-blue-200 text-blue-800"},Wc={success:"text-green-600",warning:"text-amber-600",error:"text-red-600",info:"text-blue-600"};function W1(){const{notifications:n,removeNotification:e}=ia();return n.length===0?null:u.jsx("div",{className:"fixed top-20 right-4 z-50 space-y-2 max-w-sm w-full",children:n.map(t=>{const r=H1[t.type]||uo,a=Hc[t.type]||Hc.info,i=Wc[t.type]||Wc.info;return u.jsx("div",{className:`${a} border px-4 py-3 rounded-lg shadow-lg animate-slideUp`,children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(r,{className:`w-5 h-5 ${i} flex-shrink-0 mt-0.5`}),u.jsxs("div",{className:"flex-1 min-w-0",children:[t.title&&u.jsx("p",{className:"font-medium",children:t.title}),u.jsx("p",{className:t.title?"mt-1 text-sm":"text-sm",children:t.message})]}),u.jsx("button",{onClick:()=>e(t.id),className:"flex-shrink-0 opacity-60 hover:opacity-100 transition-opacity","aria-label":"Dismiss",children:u.jsx(bs,{className:"w-5 h-5"})})]})},t.id)})})}function $1({children:n}){const{isOffline:e}=ra();return u.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[u.jsx(D1,{}),e&&u.jsx("div",{className:"bg-amber-500 text-white text-center py-1 text-sm",children:"You are currently offline. Some features may be limited."}),u.jsxs("div",{className:"flex pt-16",children:[u.jsx(U1,{}),u.jsx("main",{className:"flex-1 lg:ml-64 p-4 md:p-6 pb-20 lg:pb-6",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:n})})]}),u.jsx(z1,{}),u.jsx(W1,{})]})}const ht=Ie.forwardRef(({children:n,variant:e="primary",size:t="md",loading:r=!1,disabled:a=!1,className:i="",leftIcon:l,rightIcon:c,...h},d)=>{const g="font-medium rounded-lg transition-colors focus:ring-2 focus:ring-offset-2 inline-flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",y={primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500",secondary:"bg-secondary-100 hover:bg-secondary-200 text-secondary-700 focus:ring-secondary-500",outline:"border border-primary-600 text-primary-600 hover:bg-primary-50 focus:ring-primary-500",ghost:"text-secondary-600 hover:bg-secondary-100 focus:ring-secondary-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500"},w={xs:"py-1 px-2 text-xs",sm:"py-1.5 px-3 text-sm",md:"py-2 px-4 text-base",lg:"py-3 px-6 text-lg"};return u.jsxs("button",{ref:d,className:`${g} ${y[e]} ${w[t]} ${i}`,disabled:a||r,...h,children:[r?u.jsx(h1,{className:"w-4 h-4 mr-2 animate-spin"}):l&&u.jsx(l,{className:"w-4 h-4 mr-2"}),n,!r&&c&&u.jsx(c,{className:"w-4 h-4 ml-2"})]})});ht.displayName="Button";function Ct({children:n,className:e="",padding:t="p-6",hover:r=!1,...a}){return u.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-secondary-200 ${t} ${r?"hover:shadow-md transition-shadow":""} ${e}`,...a,children:n})}function un({children:n,className:e=""}){return u.jsx("h3",{className:`text-lg font-semibold text-secondary-900 ${e}`,children:n})}function Di({children:n,className:e=""}){return u.jsx("p",{className:`text-sm text-secondary-500 mt-1 ${e}`,children:n})}const V1=[{icon:ql,title:"Scope 1, 2 & 3 Calculator",description:"GHG Protocol-compliant calculations for direct emissions, energy, and value chain activities.",color:"bg-red-100 text-red-600"},{icon:Sl,title:"Industry Benchmarks",description:"Compare against OGCI targets, regional averages, and regulatory thresholds.",color:"bg-amber-100 text-amber-600"},{icon:Hl,title:"TCFD/CDP/CSRD Reports",description:"Generate reports aligned with major disclosure frameworks including SEC rules.",color:"bg-blue-100 text-blue-600"},{icon:kl,title:"Multi-Facility Management",description:"Track emissions across all your operations with corporate rollup capabilities.",color:"bg-green-100 text-green-600"}],Y1=[{icon:i1,title:"9+ Regional Databases",description:"EPA, UK DEFRA, EU ETS, Malaysia, Singapore, Australia, and more"},{icon:S1,title:"Regulatory Compliant",description:"40 CFR Part 98, NGER, EU ETS methodology aligned"},{icon:I1,title:"Works Offline",description:"Full calculator functionality available without internet"}];function J1(){return u.jsxs("div",{className:"py-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-2xl flex items-center justify-center",children:u.jsx(yh,{className:"w-10 h-10 text-primary-600"})})}),u.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-secondary-900 mb-4",children:"CarbonScope"}),u.jsx("p",{className:"text-xl text-secondary-600 max-w-2xl mx-auto mb-8",children:"ESG Carbon Footprint Calculator for Oil & Gas Operations"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx(Bi,{to:"/calculator",children:u.jsx(ht,{size:"lg",rightIcon:Dl,children:"Start Calculating"})}),u.jsx(Bi,{to:"/help",children:u.jsx(ht,{variant:"outline",size:"lg",children:"View Documentation"})})]})]}),u.jsxs("div",{className:"mb-16",children:[u.jsx("h2",{className:"text-2xl font-bold text-secondary-900 text-center mb-8",children:"Key Features"}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:V1.map(n=>u.jsxs(Ct,{hover:!0,className:"text-center",children:[u.jsx("div",{className:`w-12 h-12 ${n.color} rounded-xl flex items-center justify-center mx-auto mb-4`,children:u.jsx(n.icon,{className:"w-6 h-6"})}),u.jsx("h3",{className:"text-lg font-semibold text-secondary-900 mb-2",children:n.title}),u.jsx("p",{className:"text-secondary-600 text-sm",children:n.description})]},n.title))})]}),u.jsx(Ct,{className:"mb-16 bg-gradient-to-br from-primary-50 to-primary-100 border-primary-200",children:u.jsx("div",{className:"grid md:grid-cols-3 gap-8 py-4",children:Y1.map(n=>u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:u.jsx(n.icon,{className:"w-6 h-6 text-primary-600"})}),u.jsx("h3",{className:"font-semibold text-secondary-900 mb-1",children:n.title}),u.jsx("p",{className:"text-sm text-secondary-600",children:n.description})]},n.title))})}),u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-secondary-900 mb-4",children:"Ready to Calculate?"}),u.jsx("p",{className:"text-secondary-600 mb-6",children:"Choose your calculation mode and get started in seconds"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx(Bi,{to:"/calculator",children:u.jsxs(Ct,{hover:!0,padding:"p-6",className:"sm:w-64 cursor-pointer",children:[u.jsx("h3",{className:"font-semibold text-secondary-900 mb-2",children:"Simple Mode"}),u.jsx("p",{className:"text-sm text-secondary-500",children:"Quick estimates with pre-configured factors"})]})}),u.jsx(Bi,{to:"/calculator",children:u.jsxs(Ct,{hover:!0,padding:"p-6",className:"sm:w-64 cursor-pointer",children:[u.jsx("h3",{className:"font-semibold text-secondary-900 mb-2",children:"Expert Mode"}),u.jsx("p",{className:"text-sm text-secondary-500",children:"Equipment-level inputs with full customization"})]})})]})]})]})}function K1({isOpen:n,onClose:e,title:t,children:r,size:a="md",showCloseButton:i=!0,closeOnOverlayClick:l=!0}){const c=Ie.useRef(null),h={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};if(Ie.useEffect(()=>{const g=y=>{y.key==="Escape"&&n&&e()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n,e]),Ie.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]),Ie.useEffect(()=>{n&&c.current&&c.current.focus()},[n]),!n)return null;const d=g=>{l&&g.target===g.currentTarget&&e()};return ad.createPortal(u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 animate-fadeIn",onClick:d,role:"dialog","aria-modal":"true","aria-labelledby":t?"modal-title":void 0,children:u.jsxs("div",{ref:c,className:`${h[a]} w-full bg-white rounded-xl shadow-xl animate-slideUp`,tabIndex:-1,children:[(t||i)&&u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-secondary-200",children:[t&&u.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-secondary-900",children:t}),i&&u.jsx("button",{onClick:e,className:"p-1 text-secondary-400 hover:text-secondary-600 hover:bg-secondary-100 rounded-lg transition-colors","aria-label":"Close modal",children:u.jsx(bs,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"px-6 py-4",children:r})]})}),document.body)}const St=Ie.forwardRef(({label:n,error:e,helperText:t,className:r="",id:a,required:i,...l},c)=>{const h=a||n?.toLowerCase().replace(/\s+/g,"-");return u.jsxs("div",{className:"w-full",children:[n&&u.jsxs("label",{htmlFor:h,className:"block text-sm font-medium text-secondary-700 mb-1",children:[n,i&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u.jsx("input",{ref:c,id:h,className:`
            w-full px-4 py-2 border rounded-lg transition-colors outline-none
            ${e?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-secondary-300 focus:ring-primary-500 focus:border-primary-500"}
            focus:ring-2
            disabled:bg-secondary-50 disabled:text-secondary-500 disabled:cursor-not-allowed
            ${r}
          `,"aria-invalid":e?"true":"false","aria-describedby":e?`${h}-error`:t?`${h}-helper`:void 0,...l}),t&&!e&&u.jsx("p",{id:`${h}-helper`,className:"mt-1 text-sm text-secondary-500",children:t}),e&&u.jsx("p",{id:`${h}-error`,className:"mt-1 text-sm text-red-600",children:e})]})});St.displayName="Input";const Et=Ie.forwardRef(({label:n,options:e=[],error:t,helperText:r,className:a="",placeholder:i="Select an option",id:l,required:c,...h},d)=>{const g=l||n?.toLowerCase().replace(/\s+/g,"-");return u.jsxs("div",{className:"w-full",children:[n&&u.jsxs("label",{htmlFor:g,className:"block text-sm font-medium text-secondary-700 mb-1",children:[n,c&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{ref:d,id:g,className:`
              w-full px-4 py-2 border rounded-lg transition-colors appearance-none outline-none pr-10
              ${t?"border-red-500 focus:ring-red-500":"border-secondary-300 focus:ring-primary-500 focus:border-primary-500"}
              focus:ring-2
              disabled:bg-secondary-50 disabled:text-secondary-500 disabled:cursor-not-allowed
              ${a}
            `,"aria-invalid":t?"true":"false",...h,children:[i&&u.jsx("option",{value:"",disabled:!0,children:i}),e.map(y=>u.jsx("option",{value:y.value,disabled:y.disabled,children:y.label},y.value))]}),u.jsx(Ul,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-secondary-400 pointer-events-none"})]}),r&&!t&&u.jsx("p",{className:"mt-1 text-sm text-secondary-500",children:r}),t&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})});Et.displayName="Select";const X1={success:{bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon:Gl,iconColor:"text-green-600"},warning:{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-800",icon:Vl,iconColor:"text-amber-600"},error:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:gh,iconColor:"text-red-600"},info:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:uo,iconColor:"text-blue-600"}};function cr({variant:n="info",title:e,children:t,onClose:r,className:a="",action:i}){const l=X1[n],c=l.icon;return u.jsx("div",{className:`${l.bg} ${l.border} ${l.text} border px-4 py-3 rounded-lg ${a}`,role:"alert",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(c,{className:`w-5 h-5 ${l.iconColor} flex-shrink-0 mt-0.5`}),u.jsxs("div",{className:"flex-1 min-w-0",children:[e&&u.jsx("p",{className:"font-medium",children:e}),u.jsx("div",{className:e?"mt-1 text-sm":"text-sm",children:t}),i&&u.jsx("div",{className:"mt-2",children:i})]}),r&&u.jsx("button",{onClick:r,className:"flex-shrink-0 opacity-60 hover:opacity-100 transition-opacity","aria-label":"Dismiss",children:u.jsx(bs,{className:"w-5 h-5"})})]})})}function Z1({icon:n=Xd,title:e,description:t,action:r,actionLabel:a,onAction:i,className:l=""}){return u.jsxs("div",{className:`text-center py-12 px-4 ${l}`,children:[u.jsx("div",{className:"mx-auto w-16 h-16 bg-secondary-100 rounded-full flex items-center justify-center mb-4",children:u.jsx(n,{className:"w-8 h-8 text-secondary-400"})}),e&&u.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:e}),t&&u.jsx("p",{className:"text-secondary-500 max-w-md mx-auto mb-6",children:t}),r&&r,!r&&a&&i&&u.jsx(ht,{onClick:i,children:a})]})}const wh="carbonscope_facilities";function sa(){try{const n=localStorage.getItem(wh);return n?JSON.parse(n):[]}catch{return[]}}function fo(n){localStorage.setItem(wh,JSON.stringify(n))}function Cl(){return sa()}function Nh({name:n,type:e,region:t}){const r=sa(),a={id:`facility_${Date.now()}`,name:n,type:e||"other",region:t||"US",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),calculations:null,benchmarks:null};return r.push(a),fo(r),a}function Q1(n){const e=sa().filter(t=>t.id!==n);fo(e)}function $c(n,e){const t=sa(),r=t.findIndex(a=>a.id===n);return r===-1?null:(t[r].calculations={...e,savedAt:new Date().toISOString()},t[r].benchmarks=null,t[r].updatedAt=new Date().toISOString(),fo(t),t[r])}function e0(n,e){const t=sa(),r=t.findIndex(a=>a.id===n);return r===-1?null:(t[r].benchmarks={...e,savedAt:new Date().toISOString()},t[r].updatedAt=new Date().toISOString(),fo(t),t[r])}function Vc(n){return!!(n&&n.calculations)}const t0="modulepreload",n0=function(n){return"/carbonscope/"+n},Yc={},Xo=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let h=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=h(t.map(d=>{if(d=n0(d),d in Yc)return;Yc[d]=!0;const g=d.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":t0,g||(w.as="script"),w.crossOrigin="",w.href=d,c&&w.setAttribute("nonce",c),document.head.appendChild(w),g)return new Promise((m,L)=>{w.addEventListener("load",m),w.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};var ur=Uint8Array,zn=Uint16Array,Jl=Int32Array,Kl=new ur([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xl=new ur([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Jc=new ur([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_h=function(n,e){for(var t=new zn(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new Jl(t[30]),r=1;r<30;++r)for(var i=t[r];i<t[r+1];++i)a[i]=i-t[r]<<5|r;return{b:t,r:a}},Ah=_h(Kl,2),r0=Ah.b,jl=Ah.r;r0[28]=258,jl[258]=28;var i0=_h(Xl,0),Kc=i0.r,Ll=new zn(32768);for(var Tt=0;Tt<32768;++Tt){var ci=(Tt&43690)>>1|(Tt&21845)<<1;ci=(ci&52428)>>2|(ci&13107)<<2,ci=(ci&61680)>>4|(ci&3855)<<4,Ll[Tt]=((ci&65280)>>8|(ci&255)<<8)>>1}var Xs=(function(n,e,t){for(var r=n.length,a=0,i=new zn(e);a<r;++a)n[a]&&++i[n[a]-1];var l=new zn(e);for(a=1;a<e;++a)l[a]=l[a-1]+i[a-1]<<1;var c;if(t){c=new zn(1<<e);var h=15-e;for(a=0;a<r;++a)if(n[a])for(var d=a<<4|n[a],g=e-n[a],y=l[n[a]-1]++<<g,w=y|(1<<g)-1;y<=w;++y)c[Ll[y]>>h]=d}else for(c=new zn(r),a=0;a<r;++a)n[a]&&(c[a]=Ll[l[n[a]-1]++]>>15-n[a]);return c}),Gi=new ur(288);for(var Tt=0;Tt<144;++Tt)Gi[Tt]=8;for(var Tt=144;Tt<256;++Tt)Gi[Tt]=9;for(var Tt=256;Tt<280;++Tt)Gi[Tt]=7;for(var Tt=280;Tt<288;++Tt)Gi[Tt]=8;var so=new ur(32);for(var Tt=0;Tt<32;++Tt)so[Tt]=5;var s0=Xs(Gi,9,0),a0=Xs(so,5,0),kh=function(n){return(n+7)/8|0},o0=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new ur(n.subarray(e,t))},Hr=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Vs=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Zo=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,i=t.slice();if(!a)return{t:Ch,l:0};if(a==1){var l=new ur(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(se,ne){return se.f-ne.f}),t.push({s:-1,f:25001});var c=t[0],h=t[1],d=0,g=1,y=2;for(t[0]={s:-1,f:c.f+h.f,l:c,r:h};g!=a-1;)c=t[t[d].f<t[y].f?d++:y++],h=t[d!=g&&t[d].f<t[y].f?d++:y++],t[g++]={s:-1,f:c.f+h.f,l:c,r:h};for(var w=i[0].s,r=1;r<a;++r)i[r].s>w&&(w=i[r].s);var m=new zn(w+1),L=Pl(t[g-1],m,0);if(L>e){var r=0,E=0,F=L-e,C=1<<F;for(i.sort(function(ne,ae){return m[ae.s]-m[ne.s]||ne.f-ae.f});r<a;++r){var G=i[r].s;if(m[G]>e)E+=C-(1<<L-m[G]),m[G]=e;else break}for(E>>=F;E>0;){var W=i[r].s;m[W]<e?E-=1<<e-m[W]++-1:++r}for(;r>=0&&E;--r){var D=i[r].s;m[D]==e&&(--m[D],++E)}L=e}return{t:new ur(m),l:L}},Pl=function(n,e,t){return n.s==-1?Math.max(Pl(n.l,e,t+1),Pl(n.r,e,t+1)):e[n.s]=t},Xc=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new zn(++e),r=0,a=n[0],i=1,l=function(h){t[r++]=h},c=1;c<=e;++c)if(n[c]==a&&c!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=n[c]}return{c:t.subarray(0,r),n:e}},Ys=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Sh=function(n,e,t){var r=t.length,a=kh(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var i=0;i<r;++i)n[a+i+4]=t[i];return(a+4+r)*8},Zc=function(n,e,t,r,a,i,l,c,h,d,g){Hr(e,g++,t),++a[256];for(var y=Zo(a,15),w=y.t,m=y.l,L=Zo(i,15),E=L.t,F=L.l,C=Xc(w),G=C.c,W=C.n,D=Xc(E),se=D.c,ne=D.n,ae=new zn(19),Y=0;Y<G.length;++Y)++ae[G[Y]&31];for(var Y=0;Y<se.length;++Y)++ae[se[Y]&31];for(var B=Zo(ae,7),Q=B.t,S=B.l,_=19;_>4&&!Q[Jc[_-1]];--_);var U=d+5<<3,z=Ys(a,Gi)+Ys(i,so)+l,oe=Ys(a,w)+Ys(i,E)+l+14+3*_+Ys(ae,Q)+2*ae[16]+3*ae[17]+7*ae[18];if(h>=0&&U<=z&&U<=oe)return Sh(e,g,n.subarray(h,h+d));var ue,fe,ie,pe;if(Hr(e,g,1+(oe<z)),g+=2,oe<z){ue=Xs(w,m,0),fe=w,ie=Xs(E,F,0),pe=E;var Ae=Xs(Q,S,0);Hr(e,g,W-257),Hr(e,g+5,ne-1),Hr(e,g+10,_-4),g+=14;for(var Y=0;Y<_;++Y)Hr(e,g+3*Y,Q[Jc[Y]]);g+=3*_;for(var xe=[G,se],k=0;k<2;++k)for(var T=xe[k],Y=0;Y<T.length;++Y){var q=T[Y]&31;Hr(e,g,Ae[q]),g+=Q[q],q>15&&(Hr(e,g,T[Y]>>5&127),g+=T[Y]>>12)}}else ue=s0,fe=Gi,ie=a0,pe=so;for(var Y=0;Y<c;++Y){var $=r[Y];if($>255){var q=$>>18&31;Vs(e,g,ue[q+257]),g+=fe[q+257],q>7&&(Hr(e,g,$>>23&31),g+=Kl[q]);var K=$&31;Vs(e,g,ie[K]),g+=pe[K],K>3&&(Vs(e,g,$>>5&8191),g+=Xl[K])}else Vs(e,g,ue[$]),g+=fe[$]}return Vs(e,g,ue[256]),g+fe[256]},l0=new Jl([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ch=new ur(0),c0=function(n,e,t,r,a,i){var l=i.z||n.length,c=new ur(r+l+5*(1+Math.ceil(l/7e3))+a),h=c.subarray(r,c.length-a),d=i.l,g=(i.r||0)&7;if(e){g&&(h[0]=i.r>>3);for(var y=l0[e-1],w=y>>13,m=y&8191,L=(1<<t)-1,E=i.p||new zn(32768),F=i.h||new zn(L+1),C=Math.ceil(t/3),G=2*C,W=function(Ue){return(n[Ue]^n[Ue+1]<<C^n[Ue+2]<<G)&L},D=new Jl(25e3),se=new zn(288),ne=new zn(32),ae=0,Y=0,B=i.i||0,Q=0,S=i.w||0,_=0;B+2<l;++B){var U=W(B),z=B&32767,oe=F[U];if(E[z]=oe,F[U]=z,S<=B){var ue=l-B;if((ae>7e3||Q>24576)&&(ue>423||!d)){g=Zc(n,h,0,D,se,ne,Y,Q,_,B-_,g),Q=ae=Y=0,_=B;for(var fe=0;fe<286;++fe)se[fe]=0;for(var fe=0;fe<30;++fe)ne[fe]=0}var ie=2,pe=0,Ae=m,xe=z-oe&32767;if(ue>2&&U==W(B-xe))for(var k=Math.min(w,ue)-1,T=Math.min(32767,B),q=Math.min(258,ue);xe<=T&&--Ae&&z!=oe;){if(n[B+ie]==n[B+ie-xe]){for(var $=0;$<q&&n[B+$]==n[B+$-xe];++$);if($>ie){if(ie=$,pe=xe,$>k)break;for(var K=Math.min(xe,$-2),ee=0,fe=0;fe<K;++fe){var le=B-xe+fe&32767,ce=E[le],be=le-ce&32767;be>ee&&(ee=be,oe=le)}}}z=oe,oe=E[z],xe+=z-oe&32767}if(pe){D[Q++]=268435456|jl[ie]<<18|Kc[pe];var _e=jl[ie]&31,je=Kc[pe]&31;Y+=Kl[_e]+Xl[je],++se[257+_e],++ne[je],S=B+ie,++ae}else D[Q++]=n[B],++se[n[B]]}}for(B=Math.max(B,S);B<l;++B)D[Q++]=n[B],++se[n[B]];g=Zc(n,h,d,D,se,ne,Y,Q,_,B-_,g),d||(i.r=g&7|h[g/8|0]<<3,g-=7,i.h=F,i.p=E,i.i=B,i.w=S)}else{for(var B=i.w||0;B<l+d;B+=65535){var Ce=B+65535;Ce>=l&&(h[g/8|0]=d,Ce=l),g=Sh(h,g+1,n.subarray(B,Ce))}i.i=l}return o0(c,0,r+kh(g)+a)},jh=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,i=t.length|0,l=0;l!=i;){for(var c=Math.min(l+2655,i);l<c;++l)a+=r+=t[l];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},u0=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),l=new ur(i.length+n.length);l.set(i),l.set(n,i.length),n=l,a.w=i.length}return c0(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},Lh=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},h0=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=jh();a.p(e.dictionary),Lh(n,2,a.d())}};function El(n,e){e||(e={});var t=jh();t.p(n);var r=u0(n,e,e.dictionary?6:2,4);return h0(r,e),Lh(r,r.length-4,t.d()),r}var f0=typeof TextDecoder<"u"&&new TextDecoder,d0=0;try{f0.decode(Ch,{stream:!0}),d0=1}catch{}function p0(n){if(Array.isArray(n))return n}function m0(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,i,l,c=[],h=!0,d=!1;try{if(i=(t=t.call(n)).next,e!==0)for(;!(h=(r=i.call(t)).done)&&(c.push(r.value),c.length!==e);h=!0);}catch(g){d=!0,a=g}finally{try{if(!h&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(d)throw a}}return c}}function Qc(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function g0(n,e){if(n){if(typeof n=="string")return Qc(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Qc(n,e):void 0}}function b0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eu(n,e){return p0(n)||m0(n,e)||g0(n,e)||b0()}function tu(n,e="utf8"){return new TextDecoder(e).decode(n)}const y0=new TextEncoder;function v0(n){return y0.encode(n)}const x0=1024*8,w0=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Qo={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Zl{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=x0,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,i=e.byteLength-a;let l=a;(ArrayBuffer.isView(e)||e instanceof Zl)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=Qo[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+r);if(this.littleEndian===w0&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+r));c.reverse();const h=new Qo[t](c.buffer);return this.offset+=r,h.reverse(),h}const l=new Qo[t](i);return this.offset+=r,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return tu(this.readBytes(e))}decodeText(e=1,t="utf8"){return tu(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(v0(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ys(n){let e=n.length;for(;--e>=0;)n[e]=0}const N0=3,_0=258,Ph=29,A0=256,k0=A0+1+Ph,Eh=30,S0=512,C0=new Array((k0+2)*2);ys(C0);const j0=new Array(Eh*2);ys(j0);const L0=new Array(S0);ys(L0);const P0=new Array(_0-N0+1);ys(P0);const E0=new Array(Ph);ys(E0);const F0=new Array(Eh);ys(F0);const I0=(n,e,t,r)=>{let a=n&65535|0,i=n>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do a=a+e[r++]|0,i=i+a|0;while(--l);a%=65521,i%=65521}return a|i<<16|0};var Fl=I0;const M0=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},O0=new Uint32Array(M0()),R0=(n,e,t,r)=>{const a=O0,i=r+t;n^=-1;for(let l=r;l<i;l++)n=n>>>8^a[(n^e[l])&255];return n^-1};var Nr=R0,Il={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Fh={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const T0=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var B0=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)T0(t,r)&&(n[r]=t[r])}}return n},D0=n=>{let e=0;for(let r=0,a=n.length;r<a;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,a=0,i=n.length;r<i;r++){let l=n[r];t.set(l,a),a+=l.length}return t},Ih={assign:B0,flattenChunks:D0};let Mh=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Mh=!1}const ta=new Uint8Array(256);for(let n=0;n<256;n++)ta[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;ta[254]=ta[254]=1;var q0=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,a,i,l=n.length,c=0;for(a=0;a<l;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<l&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),i=0,a=0;i<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<l&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[i++]=t:t<2048?(e[i++]=192|t>>>6,e[i++]=128|t&63):t<65536?(e[i++]=224|t>>>12,e[i++]=128|t>>>6&63,e[i++]=128|t&63):(e[i++]=240|t>>>18,e[i++]=128|t>>>12&63,e[i++]=128|t>>>6&63,e[i++]=128|t&63);return e};const U0=(n,e)=>{if(e<65534&&n.subarray&&Mh)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var G0=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,a;const i=new Array(t*2);for(a=0,r=0;r<t;){let l=n[r++];if(l<128){i[a++]=l;continue}let c=ta[l];if(c>4){i[a++]=65533,r+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&r<t;)l=l<<6|n[r++]&63,c--;if(c>1){i[a++]=65533;continue}l<65536?i[a++]=l:(l-=65536,i[a++]=55296|l>>10&1023,i[a++]=56320|l&1023)}return U0(i,a)},z0=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+ta[n[t]]>e?t:e},Ml={string2buf:q0,buf2string:G0,utf8border:z0};function H0(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var W0=H0;const Ha=16209,$0=16191;var V0=function(e,t){let r,a,i,l,c,h,d,g,y,w,m,L,E,F,C,G,W,D,se,ne,ae,Y,B,Q;const S=e.state;r=e.next_in,B=e.input,a=r+(e.avail_in-5),i=e.next_out,Q=e.output,l=i-(t-e.avail_out),c=i+(e.avail_out-257),h=S.dmax,d=S.wsize,g=S.whave,y=S.wnext,w=S.window,m=S.hold,L=S.bits,E=S.lencode,F=S.distcode,C=(1<<S.lenbits)-1,G=(1<<S.distbits)-1;e:do{L<15&&(m+=B[r++]<<L,L+=8,m+=B[r++]<<L,L+=8),W=E[m&C];t:for(;;){if(D=W>>>24,m>>>=D,L-=D,D=W>>>16&255,D===0)Q[i++]=W&65535;else if(D&16){se=W&65535,D&=15,D&&(L<D&&(m+=B[r++]<<L,L+=8),se+=m&(1<<D)-1,m>>>=D,L-=D),L<15&&(m+=B[r++]<<L,L+=8,m+=B[r++]<<L,L+=8),W=F[m&G];n:for(;;){if(D=W>>>24,m>>>=D,L-=D,D=W>>>16&255,D&16){if(ne=W&65535,D&=15,L<D&&(m+=B[r++]<<L,L+=8,L<D&&(m+=B[r++]<<L,L+=8)),ne+=m&(1<<D)-1,ne>h){e.msg="invalid distance too far back",S.mode=Ha;break e}if(m>>>=D,L-=D,D=i-l,ne>D){if(D=ne-D,D>g&&S.sane){e.msg="invalid distance too far back",S.mode=Ha;break e}if(ae=0,Y=w,y===0){if(ae+=d-D,D<se){se-=D;do Q[i++]=w[ae++];while(--D);ae=i-ne,Y=Q}}else if(y<D){if(ae+=d+y-D,D-=y,D<se){se-=D;do Q[i++]=w[ae++];while(--D);if(ae=0,y<se){D=y,se-=D;do Q[i++]=w[ae++];while(--D);ae=i-ne,Y=Q}}}else if(ae+=y-D,D<se){se-=D;do Q[i++]=w[ae++];while(--D);ae=i-ne,Y=Q}for(;se>2;)Q[i++]=Y[ae++],Q[i++]=Y[ae++],Q[i++]=Y[ae++],se-=3;se&&(Q[i++]=Y[ae++],se>1&&(Q[i++]=Y[ae++]))}else{ae=i-ne;do Q[i++]=Q[ae++],Q[i++]=Q[ae++],Q[i++]=Q[ae++],se-=3;while(se>2);se&&(Q[i++]=Q[ae++],se>1&&(Q[i++]=Q[ae++]))}}else if((D&64)===0){W=F[(W&65535)+(m&(1<<D)-1)];continue n}else{e.msg="invalid distance code",S.mode=Ha;break e}break}}else if((D&64)===0){W=E[(W&65535)+(m&(1<<D)-1)];continue t}else if(D&32){S.mode=$0;break e}else{e.msg="invalid literal/length code",S.mode=Ha;break e}break}}while(r<a&&i<c);se=L>>3,r-=se,L-=se<<3,m&=(1<<L)-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=i<c?257+(c-i):257-(i-c),S.hold=m,S.bits=L};const ss=15,nu=852,ru=592,iu=0,el=1,su=2,Y0=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),J0=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),K0=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),X0=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Z0=(n,e,t,r,a,i,l,c)=>{const h=c.bits;let d=0,g=0,y=0,w=0,m=0,L=0,E=0,F=0,C=0,G=0,W,D,se,ne,ae,Y=null,B;const Q=new Uint16Array(ss+1),S=new Uint16Array(ss+1);let _=null,U,z,oe;for(d=0;d<=ss;d++)Q[d]=0;for(g=0;g<r;g++)Q[e[t+g]]++;for(m=h,w=ss;w>=1&&Q[w]===0;w--);if(m>w&&(m=w),w===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,c.bits=1,0;for(y=1;y<w&&Q[y]===0;y++);for(m<y&&(m=y),F=1,d=1;d<=ss;d++)if(F<<=1,F-=Q[d],F<0)return-1;if(F>0&&(n===iu||w!==1))return-1;for(S[1]=0,d=1;d<ss;d++)S[d+1]=S[d]+Q[d];for(g=0;g<r;g++)e[t+g]!==0&&(l[S[e[t+g]]++]=g);if(n===iu?(Y=_=l,B=20):n===el?(Y=Y0,_=J0,B=257):(Y=K0,_=X0,B=0),G=0,g=0,d=y,ae=i,L=m,E=0,se=-1,C=1<<m,ne=C-1,n===el&&C>nu||n===su&&C>ru)return 1;for(;;){U=d-E,l[g]+1<B?(z=0,oe=l[g]):l[g]>=B?(z=_[l[g]-B],oe=Y[l[g]-B]):(z=96,oe=0),W=1<<d-E,D=1<<L,y=D;do D-=W,a[ae+(G>>E)+D]=U<<24|z<<16|oe|0;while(D!==0);for(W=1<<d-1;G&W;)W>>=1;if(W!==0?(G&=W-1,G+=W):G=0,g++,--Q[d]===0){if(d===w)break;d=e[t+l[g]]}if(d>m&&(G&ne)!==se){for(E===0&&(E=m),ae+=y,L=d-E,F=1<<L;L+E<w&&(F-=Q[L+E],!(F<=0));)L++,F<<=1;if(C+=1<<L,n===el&&C>nu||n===su&&C>ru)return 1;se=G&ne,a[se]=m<<24|L<<16|ae-i|0}}return G!==0&&(a[ae+G]=d-E<<24|64<<16|0),c.bits=m,0};var Zs=Z0;const Q0=0,Oh=1,Rh=2,{Z_FINISH:au,Z_BLOCK:e2,Z_TREES:Wa,Z_OK:zi,Z_STREAM_END:t2,Z_NEED_DICT:n2,Z_STREAM_ERROR:Qn,Z_DATA_ERROR:Th,Z_MEM_ERROR:Bh,Z_BUF_ERROR:r2,Z_DEFLATED:ou}=Fh,po=16180,lu=16181,cu=16182,uu=16183,hu=16184,fu=16185,du=16186,pu=16187,mu=16188,gu=16189,ao=16190,Wr=16191,tl=16192,bu=16193,nl=16194,yu=16195,vu=16196,xu=16197,wu=16198,$a=16199,Va=16200,Nu=16201,_u=16202,Au=16203,ku=16204,Su=16205,rl=16206,Cu=16207,ju=16208,qt=16209,Dh=16210,qh=16211,i2=852,s2=592,a2=15,o2=a2,Lu=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function l2(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Hi=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<po||e.mode>qh?1:0},Uh=n=>{if(Hi(n))return Qn;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=po,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(i2),e.distcode=e.distdyn=new Int32Array(s2),e.sane=1,e.back=-1,zi},Gh=n=>{if(Hi(n))return Qn;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Uh(n)},zh=(n,e)=>{let t;if(Hi(n))return Qn;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qn:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,Gh(n))},Hh=(n,e)=>{if(!n)return Qn;const t=new l2;n.state=t,t.strm=n,t.window=null,t.mode=po;const r=zh(n,e);return r!==zi&&(n.state=null),r},c2=n=>Hh(n,o2);let Pu=!0,il,sl;const u2=n=>{if(Pu){il=new Int32Array(512),sl=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Zs(Oh,n.lens,0,288,il,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Zs(Rh,n.lens,0,32,sl,0,n.work,{bits:5}),Pu=!1}n.lencode=il,n.lenbits=9,n.distcode=sl,n.distbits=5},Wh=(n,e,t,r)=>{let a;const i=n.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(e.subarray(t-r,t-r+a),i.wnext),r-=a,r?(i.window.set(e.subarray(t-r,t),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},h2=(n,e)=>{let t,r,a,i,l,c,h,d,g,y,w,m,L,E,F=0,C,G,W,D,se,ne,ae,Y;const B=new Uint8Array(4);let Q,S;const _=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hi(n)||!n.output||!n.input&&n.avail_in!==0)return Qn;t=n.state,t.mode===Wr&&(t.mode=tl),l=n.next_out,a=n.output,h=n.avail_out,i=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,y=c,w=h,Y=zi;e:for(;;)switch(t.mode){case po:if(t.wrap===0){t.mode=tl;break}for(;g<16;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,B[0]=d&255,B[1]=d>>>8&255,t.check=Nr(t.check,B,2,0),d=0,g=0,t.mode=lu;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=qt;break}if((d&15)!==ou){n.msg="unknown compression method",t.mode=qt;break}if(d>>>=4,g-=4,ae=(d&15)+8,t.wbits===0&&(t.wbits=ae),ae>15||ae>t.wbits){n.msg="invalid window size",t.mode=qt;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?gu:Wr,d=0,g=0;break;case lu:for(;g<16;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}if(t.flags=d,(t.flags&255)!==ou){n.msg="unknown compression method",t.mode=qt;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=qt;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=Nr(t.check,B,2,0)),d=0,g=0,t.mode=cu;case cu:for(;g<32;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,B[2]=d>>>16&255,B[3]=d>>>24&255,t.check=Nr(t.check,B,4,0)),d=0,g=0,t.mode=uu;case uu:for(;g<16;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=Nr(t.check,B,2,0)),d=0,g=0,t.mode=hu;case hu:if(t.flags&1024){for(;g<16;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=Nr(t.check,B,2,0)),d=0,g=0}else t.head&&(t.head.extra=null);t.mode=fu;case fu:if(t.flags&1024&&(m=t.length,m>c&&(m=c),m&&(t.head&&(ae=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(i,i+m),ae)),t.flags&512&&t.wrap&4&&(t.check=Nr(t.check,r,m,i)),c-=m,i+=m,t.length-=m),t.length))break e;t.length=0,t.mode=du;case du:if(t.flags&2048){if(c===0)break e;m=0;do ae=r[i+m++],t.head&&ae&&t.length<65536&&(t.head.name+=String.fromCharCode(ae));while(ae&&m<c);if(t.flags&512&&t.wrap&4&&(t.check=Nr(t.check,r,m,i)),c-=m,i+=m,ae)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=pu;case pu:if(t.flags&4096){if(c===0)break e;m=0;do ae=r[i+m++],t.head&&ae&&t.length<65536&&(t.head.comment+=String.fromCharCode(ae));while(ae&&m<c);if(t.flags&512&&t.wrap&4&&(t.check=Nr(t.check,r,m,i)),c-=m,i+=m,ae)break e}else t.head&&(t.head.comment=null);t.mode=mu;case mu:if(t.flags&512){for(;g<16;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=qt;break}d=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Wr;break;case gu:for(;g<32;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}n.adler=t.check=Lu(d),d=0,g=0,t.mode=ao;case ao:if(t.havedict===0)return n.next_out=l,n.avail_out=h,n.next_in=i,n.avail_in=c,t.hold=d,t.bits=g,n2;n.adler=t.check=1,t.mode=Wr;case Wr:if(e===e2||e===Wa)break e;case tl:if(t.last){d>>>=g&7,g-=g&7,t.mode=rl;break}for(;g<3;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}switch(t.last=d&1,d>>>=1,g-=1,d&3){case 0:t.mode=bu;break;case 1:if(u2(t),t.mode=$a,e===Wa){d>>>=2,g-=2;break e}break;case 2:t.mode=vu;break;case 3:n.msg="invalid block type",t.mode=qt}d>>>=2,g-=2;break;case bu:for(d>>>=g&7,g-=g&7;g<32;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=qt;break}if(t.length=d&65535,d=0,g=0,t.mode=nl,e===Wa)break e;case nl:t.mode=yu;case yu:if(m=t.length,m){if(m>c&&(m=c),m>h&&(m=h),m===0)break e;a.set(r.subarray(i,i+m),l),c-=m,i+=m,h-=m,l+=m,t.length-=m;break}t.mode=Wr;break;case vu:for(;g<14;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}if(t.nlen=(d&31)+257,d>>>=5,g-=5,t.ndist=(d&31)+1,d>>>=5,g-=5,t.ncode=(d&15)+4,d>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=qt;break}t.have=0,t.mode=xu;case xu:for(;t.have<t.ncode;){for(;g<3;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}t.lens[_[t.have++]]=d&7,d>>>=3,g-=3}for(;t.have<19;)t.lens[_[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Q={bits:t.lenbits},Y=Zs(Q0,t.lens,0,19,t.lencode,0,t.work,Q),t.lenbits=Q.bits,Y){n.msg="invalid code lengths set",t.mode=qt;break}t.have=0,t.mode=wu;case wu:for(;t.have<t.nlen+t.ndist;){for(;F=t.lencode[d&(1<<t.lenbits)-1],C=F>>>24,G=F>>>16&255,W=F&65535,!(C<=g);){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}if(W<16)d>>>=C,g-=C,t.lens[t.have++]=W;else{if(W===16){for(S=C+2;g<S;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}if(d>>>=C,g-=C,t.have===0){n.msg="invalid bit length repeat",t.mode=qt;break}ae=t.lens[t.have-1],m=3+(d&3),d>>>=2,g-=2}else if(W===17){for(S=C+3;g<S;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}d>>>=C,g-=C,ae=0,m=3+(d&7),d>>>=3,g-=3}else{for(S=C+7;g<S;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}d>>>=C,g-=C,ae=0,m=11+(d&127),d>>>=7,g-=7}if(t.have+m>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=qt;break}for(;m--;)t.lens[t.have++]=ae}}if(t.mode===qt)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=qt;break}if(t.lenbits=9,Q={bits:t.lenbits},Y=Zs(Oh,t.lens,0,t.nlen,t.lencode,0,t.work,Q),t.lenbits=Q.bits,Y){n.msg="invalid literal/lengths set",t.mode=qt;break}if(t.distbits=6,t.distcode=t.distdyn,Q={bits:t.distbits},Y=Zs(Rh,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Q),t.distbits=Q.bits,Y){n.msg="invalid distances set",t.mode=qt;break}if(t.mode=$a,e===Wa)break e;case $a:t.mode=Va;case Va:if(c>=6&&h>=258){n.next_out=l,n.avail_out=h,n.next_in=i,n.avail_in=c,t.hold=d,t.bits=g,V0(n,w),l=n.next_out,a=n.output,h=n.avail_out,i=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,t.mode===Wr&&(t.back=-1);break}for(t.back=0;F=t.lencode[d&(1<<t.lenbits)-1],C=F>>>24,G=F>>>16&255,W=F&65535,!(C<=g);){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}if(G&&(G&240)===0){for(D=C,se=G,ne=W;F=t.lencode[ne+((d&(1<<D+se)-1)>>D)],C=F>>>24,G=F>>>16&255,W=F&65535,!(D+C<=g);){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}d>>>=D,g-=D,t.back+=D}if(d>>>=C,g-=C,t.back+=C,t.length=W,G===0){t.mode=Su;break}if(G&32){t.back=-1,t.mode=Wr;break}if(G&64){n.msg="invalid literal/length code",t.mode=qt;break}t.extra=G&15,t.mode=Nu;case Nu:if(t.extra){for(S=t.extra;g<S;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=_u;case _u:for(;F=t.distcode[d&(1<<t.distbits)-1],C=F>>>24,G=F>>>16&255,W=F&65535,!(C<=g);){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}if((G&240)===0){for(D=C,se=G,ne=W;F=t.distcode[ne+((d&(1<<D+se)-1)>>D)],C=F>>>24,G=F>>>16&255,W=F&65535,!(D+C<=g);){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}d>>>=D,g-=D,t.back+=D}if(d>>>=C,g-=C,t.back+=C,G&64){n.msg="invalid distance code",t.mode=qt;break}t.offset=W,t.extra=G&15,t.mode=Au;case Au:if(t.extra){for(S=t.extra;g<S;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=qt;break}t.mode=ku;case ku:if(h===0)break e;if(m=w-h,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=qt;break}m>t.wnext?(m-=t.wnext,L=t.wsize-m):L=t.wnext-m,m>t.length&&(m=t.length),E=t.window}else E=a,L=l-t.offset,m=t.length;m>h&&(m=h),h-=m,t.length-=m;do a[l++]=E[L++];while(--m);t.length===0&&(t.mode=Va);break;case Su:if(h===0)break e;a[l++]=t.length,h--,t.mode=Va;break;case rl:if(t.wrap){for(;g<32;){if(c===0)break e;c--,d|=r[i++]<<g,g+=8}if(w-=h,n.total_out+=w,t.total+=w,t.wrap&4&&w&&(n.adler=t.check=t.flags?Nr(t.check,a,w,l-w):Fl(t.check,a,w,l-w)),w=h,t.wrap&4&&(t.flags?d:Lu(d))!==t.check){n.msg="incorrect data check",t.mode=qt;break}d=0,g=0}t.mode=Cu;case Cu:if(t.wrap&&t.flags){for(;g<32;){if(c===0)break e;c--,d+=r[i++]<<g,g+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=qt;break}d=0,g=0}t.mode=ju;case ju:Y=t2;break e;case qt:Y=Th;break e;case Dh:return Bh;case qh:default:return Qn}return n.next_out=l,n.avail_out=h,n.next_in=i,n.avail_in=c,t.hold=d,t.bits=g,(t.wsize||w!==n.avail_out&&t.mode<qt&&(t.mode<rl||e!==au))&&Wh(n,n.output,n.next_out,w-n.avail_out),y-=n.avail_in,w-=n.avail_out,n.total_in+=y,n.total_out+=w,t.total+=w,t.wrap&4&&w&&(n.adler=t.check=t.flags?Nr(t.check,a,w,n.next_out-w):Fl(t.check,a,w,n.next_out-w)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Wr?128:0)+(t.mode===$a||t.mode===nl?256:0),(y===0&&w===0||e===au)&&Y===zi&&(Y=r2),Y},f2=n=>{if(Hi(n))return Qn;let e=n.state;return e.window&&(e.window=null),n.state=null,zi},d2=(n,e)=>{if(Hi(n))return Qn;const t=n.state;return(t.wrap&2)===0?Qn:(t.head=e,e.done=!1,zi)},p2=(n,e)=>{const t=e.length;let r,a,i;return Hi(n)||(r=n.state,r.wrap!==0&&r.mode!==ao)?Qn:r.mode===ao&&(a=1,a=Fl(a,e,t,0),a!==r.check)?Th:(i=Wh(n,e,t,t),i?(r.mode=Dh,Bh):(r.havedict=1,zi))};var m2=Gh,g2=zh,b2=Uh,y2=c2,v2=Hh,x2=h2,w2=f2,N2=d2,_2=p2,A2="pako inflate (from Nodeca project)",$r={inflateReset:m2,inflateReset2:g2,inflateResetKeep:b2,inflateInit:y2,inflateInit2:v2,inflate:x2,inflateEnd:w2,inflateGetHeader:N2,inflateSetDictionary:_2,inflateInfo:A2};function k2(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var S2=k2;const $h=Object.prototype.toString,{Z_NO_FLUSH:C2,Z_FINISH:j2,Z_OK:na,Z_STREAM_END:al,Z_NEED_DICT:ol,Z_STREAM_ERROR:L2,Z_DATA_ERROR:Eu,Z_MEM_ERROR:P2}=Fh;function aa(n){this.options=Ih.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new W0,this.strm.avail_out=0;let t=$r.inflateInit2(this.strm,e.windowBits);if(t!==na)throw new Error(Il[t]);if(this.header=new S2,$r.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Ml.string2buf(e.dictionary):$h.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=$r.inflateSetDictionary(this.strm,e.dictionary),t!==na)))throw new Error(Il[t])}aa.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?j2:C2,$h.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),i=$r.inflate(t,l),i===ol&&a&&(i=$r.inflateSetDictionary(t,a),i===na?i=$r.inflate(t,l):i===Eu&&(i=ol));t.avail_in>0&&i===al&&t.state.wrap>0&&n[t.next_in]!==0;)$r.inflateReset(t),i=$r.inflate(t,l);switch(i){case L2:case Eu:case ol:case P2:return this.onEnd(i),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||i===al))if(this.options.to==="string"){let h=Ml.utf8border(t.output,t.next_out),d=t.next_out-h,g=Ml.buf2string(t.output,h);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(h,h+d),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===na&&c===0)){if(i===al)return i=$r.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};aa.prototype.onData=function(n){this.chunks.push(n)};aa.prototype.onEnd=function(n){n===na&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ih.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function E2(n,e){const t=new aa(e);if(t.push(n),t.err)throw t.msg||Il[t.err];return t.result}var F2=aa,I2=E2,M2={Inflate:F2,inflate:I2};const{Inflate:O2,inflate:R2}=M2;var Fu=O2,T2=R2;const Vh=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Vh[n]=e}const Iu=4294967295;function B2(n,e,t){let r=n;for(let a=0;a<t;a++)r=Vh[(r^e[a])&255]^r>>>8;return r}function D2(n,e){return(B2(Iu,n,e)^Iu)>>>0}function Mu(n,e,t){const r=n.readUint32(),a=D2(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function Yh(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function Jh(n,e,t,r){let a=0;for(;a<r;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-r]&255}function Kh(n,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=n[a];else for(;a<r;a++)e[a]=n[a]+t[a]&255}function Xh(n,e,t,r,a){let i=0;if(t.length===0){for(;i<a;i++)e[i]=n[i];for(;i<r;i++)e[i]=n[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=n[i]+(t[i]>>1)&255;for(;i<r;i++)e[i]=n[i]+(e[i-a]+t[i]>>1)&255}}function Zh(n,e,t,r,a){let i=0;if(t.length===0){for(;i<a;i++)e[i]=n[i];for(;i<r;i++)e[i]=n[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=n[i]+t[i]&255;for(;i<r;i++)e[i]=n[i]+q2(e[i-a],t[i],t[i-a])&255}}function q2(n,e,t){const r=n+e-t,a=Math.abs(r-n),i=Math.abs(r-e),l=Math.abs(r-t);return a<=i&&a<=l?n:i<=l?e:t}function U2(n,e,t,r,a,i){switch(n){case 0:Yh(e,t,a);break;case 1:Jh(e,t,a,i);break;case 2:Kh(e,t,r,a);break;case 3:Xh(e,t,r,a,i);break;case 4:Zh(e,t,r,a,i);break;default:throw new Error(`Unsupported filter: ${n}`)}}const G2=new Uint16Array([255]),z2=new Uint8Array(G2.buffer),H2=z2[0]===255;function W2(n){const{data:e,width:t,height:r,channels:a,depth:i}=n,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(i/8)*a,h=new Uint8Array(r*t*c);let d=0;for(let g=0;g<7;g++){const y=l[g],w=Math.ceil((t-y.x)/y.xStep),m=Math.ceil((r-y.y)/y.yStep);if(w<=0||m<=0)continue;const L=w*c,E=new Uint8Array(L);for(let F=0;F<m;F++){const C=e[d++],G=e.subarray(d,d+L);d+=L;const W=new Uint8Array(L);U2(C,G,W,E,L,c),E.set(W);for(let D=0;D<w;D++){const se=y.x+D*y.xStep,ne=y.y+F*y.yStep;if(!(se>=t||ne>=r))for(let ae=0;ae<c;ae++)h[(ne*t+se)*c+ae]=W[D*c+ae]}}}if(i===16){const g=new Uint16Array(h.buffer);if(H2)for(let y=0;y<g.length;y++)g[y]=$2(g[y]);return g}else return h}function $2(n){return(n&255)<<8|n>>8&255}const V2=new Uint16Array([255]),Y2=new Uint8Array(V2.buffer),J2=Y2[0]===255,K2=new Uint8Array(0);function Ou(n){const{data:e,width:t,height:r,channels:a,depth:i}=n,l=Math.ceil(i/8)*a,c=Math.ceil(i/8*a*t),h=new Uint8Array(r*c);let d=K2,g=0,y,w;for(let m=0;m<r;m++){switch(y=e.subarray(g+1,g+1+c),w=h.subarray(m*c,(m+1)*c),e[g]){case 0:Yh(y,w,c);break;case 1:Jh(y,w,c,l);break;case 2:Kh(y,w,d,c);break;case 3:Xh(y,w,d,c,l);break;case 4:Zh(y,w,d,c,l);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}d=w,g+=c+1}if(i===16){const m=new Uint16Array(h.buffer);if(J2)for(let L=0;L<m.length;L++)m[L]=X2(m[L]);return m}else return h}function X2(n){return(n&255)<<8|n>>8&255}const Qa=Uint8Array.of(137,80,78,71,13,10,26,10);function Ru(n){if(!Z2(n.readBytes(Qa.length)))throw new Error("wrong PNG signature")}function Z2(n){if(n.length<Qa.length)return!1;for(let e=0;e<Qa.length;e++)if(n[e]!==Qa[e])return!1;return!0}const Q2="tEXt",ep=0,Qh=new TextDecoder("latin1");function tp(n){if(rp(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const np=/^[\u0000-\u00FF]*$/;function rp(n){if(!np.test(n))throw new Error("invalid latin1 text")}function ip(n,e,t){const r=ef(e);n[r]=sp(e,t-r.length-1)}function ef(n){for(n.mark();n.readByte()!==ep;);const e=n.offset;n.reset();const t=Qh.decode(n.readBytes(e-n.offset-1));return n.skip(1),tp(t),t}function sp(n,e){return Qh.decode(n.readBytes(e))}const Gn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ll={UNKNOWN:-1,DEFLATE:0},Tu={UNKNOWN:-1,ADAPTIVE:0},cl={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ya={NONE:0,BACKGROUND:1,PREVIOUS:2},ul={SOURCE:0,OVER:1};class ap extends Zl{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new Fu,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ll.UNKNOWN,this._filterMethod=Tu.UNKNOWN,this._interlaceMethod=cl.UNKNOWN,this._colorType=Gn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Ru(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Ru(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Q2:ip(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Mu(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Mu(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=op(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Gn.GREYSCALE:r=1;break;case Gn.TRUECOLOUR:r=3;break;case Gn.INDEXED_COLOUR:r=1;break;case Gn.GREYSCALE_ALPHA:r=2;break;case Gn.TRUECOLOUR_ALPHA:r=4;break;case Gn.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==ll.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Gn.GREYSCALE:case Gn.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Gn.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Gn.UNKNOWN:case Gn.GREYSCALE_ALPHA:case Gn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=ef(this),r=this.readUint8();if(r!==ll.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:T2(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=Ou({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case Ya.NONE:break;case Ya.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const l=(a*e.width+i)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[l+c]=0}break;case Ya.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(i,l)=>{const c=((i+t.yOffset)*this._png.width+t.xOffset+l)*this._png.channels,h=(i*t.width+l)*this._png.channels;return{index:c,frameIndex:h}};switch(t.blendOp){case ul.SOURCE:for(let i=0;i<t.height;i++)for(let l=0;l<t.width;l++){const{index:c,frameIndex:h}=a(i,l);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[h+d]}break;case ul.OVER:for(let i=0;i<t.height;i++)for(let l=0;l<t.width;l++){const{index:c,frameIndex:h}=a(i,l);for(let d=0;d<this._png.channels;d++){const g=t.data[h+this._png.channels-1]/r,y=d%(this._png.channels-1)===0?1:t.data[h+d],w=Math.floor(g*y+(1-g)*e.data[c+d]);e.data[c+d]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Tu.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===cl.NO_INTERLACE)this._png.data=Ou({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===cl.ADAM7)this._png.data=W2({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ya.NONE,blendOp:ul.SOURCE,data:e}),this._inflator=new Fu,this._writingDataChunks=!1}}function op(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Bu;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Bu||(Bu={}));function lp(n,e){return new ap(n,e).decode()}var Xe=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function hl(){Xe.console&&typeof Xe.console.log=="function"&&Xe.console.log.apply(Xe.console,arguments)}var Pt={log:hl,warn:function(n){Xe.console&&(typeof Xe.console.warn=="function"?Xe.console.warn.apply(Xe.console,arguments):hl.call(null,arguments))},error:function(n){Xe.console&&(typeof Xe.console.error=="function"?Xe.console.error.apply(Xe.console,arguments):hl(n))}};function fl(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ri(r.response,e,t)},r.onerror=function(){Pt.error("could not download file")},r.send()}function Du(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ja(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Ri=Xe.saveAs||((typeof window>"u"?"undefined":Ft(window))!=="object"||window!==Xe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Xe.URL||Xe.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?Du(a.href)?fl(n,e,t):Ja(a,a.target="_blank"):Ja(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Ja(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Du(n))fl(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Ja(r)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Ft(i)!=="object"&&(Pt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return fl(n,e,t);var a=n.type==="application/octet-stream",i=/constructor/i.test(Xe.HTMLElement)||Xe.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&i)&&(typeof FileReader>"u"?"undefined":Ft(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=l?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},c.readAsDataURL(n)}else{var h=Xe.URL||Xe.webkitURL,d=h.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});function tf(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,i=t[r].process,l=a.exec(n);l&&(e=i(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),d.length==1&&(d="0"+d),"#"+c+h+d}}var eo=Xe.atob.bind(Xe),qu=Xe.btoa.bind(Xe);function dl(n,e){var t=n[0],r=n[1],a=n[2],i=n[3];t=wn(t,r,a,i,e[0],7,-680876936),i=wn(i,t,r,a,e[1],12,-389564586),a=wn(a,i,t,r,e[2],17,606105819),r=wn(r,a,i,t,e[3],22,-1044525330),t=wn(t,r,a,i,e[4],7,-176418897),i=wn(i,t,r,a,e[5],12,1200080426),a=wn(a,i,t,r,e[6],17,-1473231341),r=wn(r,a,i,t,e[7],22,-45705983),t=wn(t,r,a,i,e[8],7,1770035416),i=wn(i,t,r,a,e[9],12,-1958414417),a=wn(a,i,t,r,e[10],17,-42063),r=wn(r,a,i,t,e[11],22,-1990404162),t=wn(t,r,a,i,e[12],7,1804603682),i=wn(i,t,r,a,e[13],12,-40341101),a=wn(a,i,t,r,e[14],17,-1502002290),t=Nn(t,r=wn(r,a,i,t,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Nn(i,t,r,a,e[6],9,-1069501632),a=Nn(a,i,t,r,e[11],14,643717713),r=Nn(r,a,i,t,e[0],20,-373897302),t=Nn(t,r,a,i,e[5],5,-701558691),i=Nn(i,t,r,a,e[10],9,38016083),a=Nn(a,i,t,r,e[15],14,-660478335),r=Nn(r,a,i,t,e[4],20,-405537848),t=Nn(t,r,a,i,e[9],5,568446438),i=Nn(i,t,r,a,e[14],9,-1019803690),a=Nn(a,i,t,r,e[3],14,-187363961),r=Nn(r,a,i,t,e[8],20,1163531501),t=Nn(t,r,a,i,e[13],5,-1444681467),i=Nn(i,t,r,a,e[2],9,-51403784),a=Nn(a,i,t,r,e[7],14,1735328473),t=_n(t,r=Nn(r,a,i,t,e[12],20,-1926607734),a,i,e[5],4,-378558),i=_n(i,t,r,a,e[8],11,-2022574463),a=_n(a,i,t,r,e[11],16,1839030562),r=_n(r,a,i,t,e[14],23,-35309556),t=_n(t,r,a,i,e[1],4,-1530992060),i=_n(i,t,r,a,e[4],11,1272893353),a=_n(a,i,t,r,e[7],16,-155497632),r=_n(r,a,i,t,e[10],23,-1094730640),t=_n(t,r,a,i,e[13],4,681279174),i=_n(i,t,r,a,e[0],11,-358537222),a=_n(a,i,t,r,e[3],16,-722521979),r=_n(r,a,i,t,e[6],23,76029189),t=_n(t,r,a,i,e[9],4,-640364487),i=_n(i,t,r,a,e[12],11,-421815835),a=_n(a,i,t,r,e[15],16,530742520),t=An(t,r=_n(r,a,i,t,e[2],23,-995338651),a,i,e[0],6,-198630844),i=An(i,t,r,a,e[7],10,1126891415),a=An(a,i,t,r,e[14],15,-1416354905),r=An(r,a,i,t,e[5],21,-57434055),t=An(t,r,a,i,e[12],6,1700485571),i=An(i,t,r,a,e[3],10,-1894986606),a=An(a,i,t,r,e[10],15,-1051523),r=An(r,a,i,t,e[1],21,-2054922799),t=An(t,r,a,i,e[8],6,1873313359),i=An(i,t,r,a,e[15],10,-30611744),a=An(a,i,t,r,e[6],15,-1560198380),r=An(r,a,i,t,e[13],21,1309151649),t=An(t,r,a,i,e[4],6,-145523070),i=An(i,t,r,a,e[11],10,-1120210379),a=An(a,i,t,r,e[2],15,718787259),r=An(r,a,i,t,e[9],21,-343485551),n[0]=pi(t,n[0]),n[1]=pi(r,n[1]),n[2]=pi(a,n[2]),n[3]=pi(i,n[3])}function mo(n,e,t,r,a,i){return e=pi(pi(e,n),pi(r,i)),pi(e<<a|e>>>32-a,t)}function wn(n,e,t,r,a,i,l){return mo(e&t|~e&r,n,e,a,i,l)}function Nn(n,e,t,r,a,i,l){return mo(e&r|t&~r,n,e,a,i,l)}function _n(n,e,t,r,a,i,l){return mo(e^t^r,n,e,a,i,l)}function An(n,e,t,r,a,i,l){return mo(t^(e|~r),n,e,a,i,l)}function nf(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)dl(r,cp(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(dl(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,dl(r,a),r}function cp(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Uu="0123456789abcdef".split("");function up(n){for(var e="",t=0;t<4;t++)e+=Uu[n>>8*t+4&15]+Uu[n>>8*t&15];return e}function hp(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Ol(n){return nf(n).map(hp).join("")}var fp=(function(n){for(var e=0;e<n.length;e++)n[e]=up(n[e]);return n.join("")})(nf("hello"))!="5d41402abc4b2a76b9719d911017c592";function pi(n,e){if(fp){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Rl(n,e){var t,r,a,i;if(n!==t){for(var l=(a=n,i=1+(256/n.length|0),new Array(i+1).join(a)),c=[],h=0;h<256;h++)c[h]=h;var d=0;for(h=0;h<256;h++){var g=c[h];d=(d+g+l.charCodeAt(h))%256,c[h]=c[d],c[d]=g}t=n,r=c}else c=r;var y=e.length,w=0,m=0,L="";for(h=0;h<y;h++)m=(m+(g=c[w=(w+1)%256]))%256,c[w]=c[m],c[m]=g,l=c[(c[w]+c[m])%256],L+=String.fromCharCode(e.charCodeAt(h)^l);return L}var Gu={print:4,modify:8,copy:16,"annot-forms":32};function ls(n,e,t,r){this.v=1,this.r=2;var a=192;n.forEach(function(c){if(Gu.perm!==void 0)throw new Error("Invalid permission: "+c);a+=Gu[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^a)),this.encryptionKey=Ol(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Rl(this.encryptionKey,this.padding)}function cs(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var a=n.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return e}function zu(n){if(Ft(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[r,!!a],i},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[t]){var l=e[t][i];try{l[0].apply(n,r)}catch(c){Xe.console&&Pt.error("jsPDF PubSub Error",c.message,c)}l[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function oo(n){if(!(this instanceof oo))return new oo(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function rf(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ti(n,e,t,r,a){if(!(this instanceof Ti))return new Ti(n,e,t,r,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,rf.call(this,r,a)}function us(n,e,t,r,a){if(!(this instanceof us))return new us(n,e,t,r,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,rf.call(this,r,a)}function De(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],i=arguments[3],l=[],c=1,h=16,d="S",g=null;Ft(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,a=n.format||a,i=n.compress||n.compressPdf||i,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),d=n.defaultPathOperation||"S"),l=n.filters||(i===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,w={},m={internal:{},__private__:{}};m.__private__.PubSub=zu;var L="1.3",E=m.__private__.getPdfVersion=function(){return L};m.__private__.setPdfVersion=function(f){L=f};var F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return F};var C=m.__private__.getPageFormat=function(f){return F[f]};a=a||"a4";var G="compat",W="advanced",D=G;function se(){this.saveGraphicsState(),I(new Ye(it,0,0,-it,0,Ai()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),d="n",D=W}function ne(){this.restoreGraphicsState(),d="S",D=G}var ae=m.__private__.combineFontStyleAndFontWeight=function(f,v){if(f=="bold"&&v=="normal"||f=="bold"&&v==400||f=="normal"&&v=="italic"||f=="bold"&&v=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return v&&(f=v==400||v==="normal"?f==="italic"?"italic":"normal":v!=700&&v!=="bold"||f!=="normal"?(v==700?"bold":v)+""+f:"bold"),f};m.advancedAPI=function(f){var v=D===G;return v&&se.call(this),typeof f!="function"||(f(this),v&&ne.call(this)),this},m.compatAPI=function(f){var v=D===W;return v&&ne.call(this),typeof f!="function"||(f(this),v&&se.call(this)),this},m.isAdvancedAPI=function(){return D===W};var Y,B=function(f){if(D!==W)throw new Error(f+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=m.roundToPrecision=m.__private__.roundToPrecision=function(f,v){var R=e||v;if(isNaN(f)||isNaN(R))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return f.toFixed(R).replace(/0+$/,"")};Y=m.hpf=m.__private__.hpf=typeof h=="number"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(f,h)}:h==="smart"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(f,f>-1&&f<1?16:5)}:function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(f,16)};var S=m.f2=m.__private__.f2=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f2");return Q(f,2)},_=m.__private__.f3=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f3");return Q(f,3)},U=m.scale=m.__private__.scale=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.scale");return D===G?f*it:D===W?f:void 0},z=function(f){return U((function(v){return D===G?Ai()-v:D===W?v:void 0})(f))};m.__private__.setPrecision=m.setPrecision=function(f){typeof parseInt(f,10)=="number"&&(e=parseInt(f,10))};var oe,ue="00000000000000000000000000000000",fe=m.__private__.getFileId=function(){return ue},ie=m.__private__.setFileId=function(f){return ue=f!==void 0&&/^[a-fA-F0-9]{32}$/.test(f)?f.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(rn=new ls(g.userPermissions,g.userPassword,g.ownerPassword,ue)),ue};m.setFileId=function(f){return ie(f),this},m.getFileId=function(){return fe()};var pe=m.__private__.convertDateToPDFDate=function(f){var v=f.getTimezoneOffset(),R=v<0?"+":"-",H=Math.floor(Math.abs(v/60)),X=Math.abs(v%60),me=[R,q(H),"'",q(X),"'"].join("");return["D:",f.getFullYear(),q(f.getMonth()+1),q(f.getDate()),q(f.getHours()),q(f.getMinutes()),q(f.getSeconds()),me].join("")},Ae=m.__private__.convertPDFDateToDate=function(f){var v=parseInt(f.substr(2,4),10),R=parseInt(f.substr(6,2),10)-1,H=parseInt(f.substr(8,2),10),X=parseInt(f.substr(10,2),10),me=parseInt(f.substr(12,2),10),ye=parseInt(f.substr(14,2),10);return new Date(v,R,H,X,me,ye,0)},xe=m.__private__.setCreationDate=function(f){var v;if(f===void 0&&(f=new Date),f instanceof Date)v=pe(f);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(f))throw new Error("Invalid argument passed to jsPDF.setCreationDate");v=f}return oe=v},k=m.__private__.getCreationDate=function(f){var v=oe;return f==="jsDate"&&(v=Ae(oe)),v};m.setCreationDate=function(f){return xe(f),this},m.getCreationDate=function(f){return k(f)};var T,q=m.__private__.padd2=function(f){return("0"+parseInt(f)).slice(-2)},$=m.__private__.padd2Hex=function(f){return("00"+(f=f.toString())).substr(f.length)},K=0,ee=[],le=[],ce=0,be=[],_e=[],je=!1,Ce=le;m.__private__.setCustomOutputDestination=function(f){je=!0,Ce=f};var Ue=function(f){je||(Ce=f)};m.__private__.resetCustomOutputDestination=function(){je=!1,Ce=le};var I=m.__private__.out=function(f){return f=f.toString(),ce+=f.length+1,Ce.push(f),Ce},Se=m.__private__.write=function(f){return I(arguments.length===1?f.toString():Array.prototype.join.call(arguments," "))},lt=m.__private__.getArrayBuffer=function(f){for(var v=f.length,R=new ArrayBuffer(v),H=new Uint8Array(R);v--;)H[v]=f.charCodeAt(v);return R},We=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return We};var we=n.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(f){return we=D===W?f/it:f,this};var $e,Pe=m.__private__.getFontSize=m.getFontSize=function(){return D===G?we:we*it},He=n.R2L||!1;m.__private__.setR2L=m.setR2L=function(f){return He=f,this},m.__private__.getR2L=m.getR2L=function(){return He};var Ge,wt=m.__private__.setZoomMode=function(f){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(f))$e=f;else if(isNaN(f)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(f)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+f+'" is not recognized.');$e=f}else $e=parseInt(f,10)};m.__private__.getZoomMode=function(){return $e};var dt,tt=m.__private__.setPageMode=function(f){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(f)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+f+'" is not recognized.');Ge=f};m.__private__.getPageMode=function(){return Ge};var mt=m.__private__.setLayoutMode=function(f){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(f)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+f+'" is not recognized.');dt=f};m.__private__.getLayoutMode=function(){return dt},m.__private__.setDisplayMode=m.setDisplayMode=function(f,v,R){return wt(f),mt(v),tt(R),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(f){if(Object.keys(pt).indexOf(f)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[f]},m.__private__.getDocumentProperties=function(){return pt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(f){for(var v in pt)pt.hasOwnProperty(v)&&f[v]&&(pt[v]=f[v]);return this},m.__private__.setDocumentProperty=function(f,v){if(Object.keys(pt).indexOf(f)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[f]=v};var Re,it,qe,$t,yt,ct={},ut={},Bt=[],ze={},It={},Je={},nt={},Dt=null,ft=0,Ve=[],Nt=new zu(m),gi=n.hotfixes||[],vn={},Sr={},dr=[],Ye=function f(v,R,H,X,me,ye){if(!(this instanceof f))return new f(v,R,H,X,me,ye);isNaN(v)&&(v=1),isNaN(R)&&(R=0),isNaN(H)&&(H=0),isNaN(X)&&(X=1),isNaN(me)&&(me=0),isNaN(ye)&&(ye=0),this._matrix=[v,R,H,X,me,ye]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(f){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Y).join(f)},Ye.prototype.multiply=function(f){var v=f.sx*this.sx+f.shy*this.shx,R=f.sx*this.shy+f.shy*this.sy,H=f.shx*this.sx+f.sy*this.shx,X=f.shx*this.shy+f.sy*this.sy,me=f.tx*this.sx+f.ty*this.shx+this.tx,ye=f.tx*this.shy+f.ty*this.sy+this.ty;return new Ye(v,R,H,X,me,ye)},Ye.prototype.decompose=function(){var f=this.sx,v=this.shy,R=this.shx,H=this.sy,X=this.tx,me=this.ty,ye=Math.sqrt(f*f+v*v),Fe=(f/=ye)*R+(v/=ye)*H;R-=f*Fe,H-=v*Fe;var Te=Math.sqrt(R*R+H*H);return Fe/=Te,f*(H/=Te)<v*(R/=Te)&&(f=-f,v=-v,Fe=-Fe,ye=-ye),{scale:new Ye(ye,0,0,Te,0,0),translate:new Ye(1,0,0,1,X,me),rotate:new Ye(f,v,-v,f,0,0),skew:new Ye(1,0,Fe,1,0,0)}},Ye.prototype.toString=function(f){return this.join(" ")},Ye.prototype.inversed=function(){var f=this.sx,v=this.shy,R=this.shx,H=this.sy,X=this.tx,me=this.ty,ye=1/(f*H-v*R),Fe=H*ye,Te=-v*ye,Ze=-R*ye,st=f*ye;return new Ye(Fe,Te,Ze,st,-Fe*X-Ze*me,-Te*X-st*me)},Ye.prototype.applyToPoint=function(f){var v=f.x*this.sx+f.y*this.shx+this.tx,R=f.x*this.shy+f.y*this.sy+this.ty;return new Ir(v,R)},Ye.prototype.applyToRectangle=function(f){var v=this.applyToPoint(f),R=this.applyToPoint(new Ir(f.x+f.w,f.y+f.h));return new Cs(v.x,v.y,R.x-v.x,R.y-v.y)},Ye.prototype.clone=function(){var f=this.sx,v=this.shy,R=this.shx,H=this.sy,X=this.tx,me=this.ty;return new Ye(f,v,R,H,X,me)},m.Matrix=Ye;var Cr=m.matrixMult=function(f,v){return v.multiply(f)},jr=new Ye(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=jr;var Hn=function(f,v){if(!It[f]){var R=(v instanceof Ti?"Sh":"P")+(Object.keys(ze).length+1).toString(10);v.id=R,It[f]=R,ze[R]=v,Nt.publish("addPattern",v)}};m.ShadingPattern=Ti,m.TilingPattern=us,m.addShadingPattern=function(f,v){return B("addShadingPattern()"),Hn(f,v),this},m.beginTilingPattern=function(f){B("beginTilingPattern()"),js(f.boundingBox[0],f.boundingBox[1],f.boundingBox[2]-f.boundingBox[0],f.boundingBox[3]-f.boundingBox[1],f.matrix)},m.endTilingPattern=function(f,v){B("endTilingPattern()"),v.stream=_e[T].join(`
`),Hn(f,v),Nt.publish("endTilingPattern",v),dr.pop().restore()};var Wn,Gt=m.__private__.newObject=function(){var f=hn();return dn(f,!0),f},hn=m.__private__.newObjectDeferred=function(){return K++,ee[K]=function(){return ce},K},dn=function(f,v){return v=typeof v=="boolean"&&v,ee[f]=ce,v&&I(f+" 0 obj"),f},bi=m.__private__.newAdditionalObject=function(){var f={objId:hn(),content:""};return be.push(f),f},Vr=hn(),er=hn(),pr=m.__private__.decodeColorString=function(f){var v=f.split(" ");if(v.length!==2||v[1]!=="g"&&v[1]!=="G")v.length!==5||v[4]!=="k"&&v[4]!=="K"||(v=[(1-v[0])*(1-v[3]),(1-v[1])*(1-v[3]),(1-v[2])*(1-v[3]),"r"]);else{var R=parseFloat(v[0]);v=[R,R,R,"r"]}for(var H="#",X=0;X<3;X++)H+=("0"+Math.floor(255*parseFloat(v[X])).toString(16)).slice(-2);return H},tr=m.__private__.encodeColorString=function(f){var v;typeof f=="string"&&(f={ch1:f});var R=f.ch1,H=f.ch2,X=f.ch3,me=f.ch4,ye=f.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof R=="string"&&R.charAt(0)!=="#"){var Fe=new tf(R);if(Fe.ok)R=Fe.toHex();else if(!/^\d*\.?\d*$/.test(R))throw new Error('Invalid color "'+R+'" passed to jsPDF.encodeColorString.')}if(typeof R=="string"&&/^#[0-9A-Fa-f]{3}$/.test(R)&&(R="#"+R[1]+R[1]+R[2]+R[2]+R[3]+R[3]),typeof R=="string"&&/^#[0-9A-Fa-f]{6}$/.test(R)){var Te=parseInt(R.substr(1),16);R=Te>>16&255,H=Te>>8&255,X=255&Te}if(H===void 0||me===void 0&&R===H&&H===X)v=typeof R=="string"?R+" "+ye[0]:f.precision===2?S(R/255)+" "+ye[0]:_(R/255)+" "+ye[0];else if(me===void 0||Ft(me)==="object"){if(me&&!isNaN(me.a)&&me.a===0)return["1.","1.","1.",ye[1]].join(" ");v=typeof R=="string"?[R,H,X,ye[1]].join(" "):f.precision===2?[S(R/255),S(H/255),S(X/255),ye[1]].join(" "):[_(R/255),_(H/255),_(X/255),ye[1]].join(" ")}else v=typeof R=="string"?[R,H,X,me,ye[2]].join(" "):f.precision===2?[S(R),S(H),S(X),S(me),ye[2]].join(" "):[_(R),_(H),_(X),_(me),ye[2]].join(" ");return v},nr=m.__private__.getFilters=function(){return l},$n=m.__private__.putStream=function(f){var v=(f=f||{}).data||"",R=f.filters||nr(),H=f.alreadyAppliedFilters||[],X=f.addLength1||!1,me=v.length,ye=f.objectId,Fe=function(sn){return sn};if(g!==null&&ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(Fe=rn.encryptor(ye,0));var Te={};R===!0&&(R=["FlateEncode"]);var Ze=f.additionalKeyValues||[],st=(Te=De.API.processDataByFilters!==void 0?De.API.processDataByFilters(v,R):{data:v,reverseChain:[]}).reverseChain+(Array.isArray(H)?H.join(" "):H.toString());if(Te.data.length!==0&&(Ze.push({key:"Length",value:Te.data.length}),X===!0&&Ze.push({key:"Length1",value:me})),st.length!=0)if(st.split("/").length-1==1)Ze.push({key:"Filter",value:st});else{Ze.push({key:"Filter",value:"["+st+"]"});for(var vt=0;vt<Ze.length;vt+=1)if(Ze[vt].key==="DecodeParms"){for(var Ut=[],tn=0;tn<Te.reverseChain.split("/").length-1;tn+=1)Ut.push("null");Ut.push(Ze[vt].value),Ze[vt].value="["+Ut.join(" ")+"]"}}I("<<");for(var Mt=0;Mt<Ze.length;Mt++)I("/"+Ze[Mt].key+" "+Ze[Mt].value);I(">>"),Te.data.length!==0&&(I("stream"),I(Fe(Te.data)),I("endstream"))},yi=m.__private__.putPage=function(f){var v=f.number,R=f.data,H=f.objId,X=f.contentsObjId;dn(H,!0),I("<</Type /Page"),I("/Parent "+f.rootDictionaryObjId+" 0 R"),I("/Resources "+f.resourceDictionaryObjId+" 0 R"),I("/MediaBox ["+parseFloat(Y(f.mediaBox.bottomLeftX))+" "+parseFloat(Y(f.mediaBox.bottomLeftY))+" "+Y(f.mediaBox.topRightX)+" "+Y(f.mediaBox.topRightY)+"]"),f.cropBox!==null&&I("/CropBox ["+Y(f.cropBox.bottomLeftX)+" "+Y(f.cropBox.bottomLeftY)+" "+Y(f.cropBox.topRightX)+" "+Y(f.cropBox.topRightY)+"]"),f.bleedBox!==null&&I("/BleedBox ["+Y(f.bleedBox.bottomLeftX)+" "+Y(f.bleedBox.bottomLeftY)+" "+Y(f.bleedBox.topRightX)+" "+Y(f.bleedBox.topRightY)+"]"),f.trimBox!==null&&I("/TrimBox ["+Y(f.trimBox.bottomLeftX)+" "+Y(f.trimBox.bottomLeftY)+" "+Y(f.trimBox.topRightX)+" "+Y(f.trimBox.topRightY)+"]"),f.artBox!==null&&I("/ArtBox ["+Y(f.artBox.bottomLeftX)+" "+Y(f.artBox.bottomLeftY)+" "+Y(f.artBox.topRightX)+" "+Y(f.artBox.topRightY)+"]"),typeof f.userUnit=="number"&&f.userUnit!==1&&I("/UserUnit "+f.userUnit),Nt.publish("putPage",{objId:H,pageContext:Ve[v],pageNumber:v,page:R}),I("/Contents "+X+" 0 R"),I(">>"),I("endobj");var me=R.join(`
`);return D===W&&(me+=`
Q`),dn(X,!0),$n({data:me,filters:nr(),objectId:X}),I("endobj"),H},mr=m.__private__.putPages=function(){var f,v,R=[];for(f=1;f<=ft;f++)Ve[f].objId=hn(),Ve[f].contentsObjId=hn();for(f=1;f<=ft;f++)R.push(yi({number:f,data:_e[f],objId:Ve[f].objId,contentsObjId:Ve[f].contentsObjId,mediaBox:Ve[f].mediaBox,cropBox:Ve[f].cropBox,bleedBox:Ve[f].bleedBox,trimBox:Ve[f].trimBox,artBox:Ve[f].artBox,userUnit:Ve[f].userUnit,rootDictionaryObjId:Vr,resourceDictionaryObjId:er}));dn(Vr,!0),I("<</Type /Pages");var H="/Kids [";for(v=0;v<ft;v++)H+=R[v]+" 0 R ";I(H+"]"),I("/Count "+ft),I(">>"),I("endobj"),Nt.publish("postPutPages")},vi=function(f){Nt.publish("putFont",{font:f,out:I,newObject:Gt,putStream:$n}),f.isAlreadyPutted!==!0&&(f.objectNumber=Gt(),I("<<"),I("/Type /Font"),I("/BaseFont /"+cs(f.postScriptName)),I("/Subtype /Type1"),typeof f.encoding=="string"&&I("/Encoding /"+f.encoding),I("/FirstChar 32"),I("/LastChar 255"),I(">>"),I("endobj"))},$i=function(f){f.objectNumber=Gt();var v=[];v.push({key:"Type",value:"/XObject"}),v.push({key:"Subtype",value:"/Form"}),v.push({key:"BBox",value:"["+[Y(f.x),Y(f.y),Y(f.x+f.width),Y(f.y+f.height)].join(" ")+"]"}),v.push({key:"Matrix",value:"["+f.matrix.toString()+"]"});var R=f.pages[1].join(`
`);$n({data:R,additionalKeyValues:v,objectId:f.objectNumber}),I("endobj")},Vi=function(f,v){v||(v=21);var R=Gt(),H=(function(ye,Fe){var Te,Ze=[],st=1/(Fe-1);for(Te=0;Te<1;Te+=st)Ze.push(Te);if(Ze.push(1),ye[0].offset!=0){var vt={offset:0,color:ye[0].color};ye.unshift(vt)}if(ye[ye.length-1].offset!=1){var Ut={offset:1,color:ye[ye.length-1].color};ye.push(Ut)}for(var tn="",Mt=0,sn=0;sn<Ze.length;sn++){for(Te=Ze[sn];Te>ye[Mt+1].offset;)Mt++;var nn=ye[Mt].offset,pn=(Te-nn)/(ye[Mt+1].offset-nn),Rr=ye[Mt].color,ir=ye[Mt+1].color;tn+=$(Math.round((1-pn)*Rr[0]+pn*ir[0]).toString(16))+$(Math.round((1-pn)*Rr[1]+pn*ir[1]).toString(16))+$(Math.round((1-pn)*Rr[2]+pn*ir[2]).toString(16))}return tn.trim()})(f.colors,v),X=[];X.push({key:"FunctionType",value:"0"}),X.push({key:"Domain",value:"[0.0 1.0]"}),X.push({key:"Size",value:"["+v+"]"}),X.push({key:"BitsPerSample",value:"8"}),X.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),X.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$n({data:H,additionalKeyValues:X,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:R}),I("endobj"),f.objectNumber=Gt(),I("<< /ShadingType "+f.type),I("/ColorSpace /DeviceRGB");var me="/Coords ["+Y(parseFloat(f.coords[0]))+" "+Y(parseFloat(f.coords[1]))+" ";f.type===2?me+=Y(parseFloat(f.coords[2]))+" "+Y(parseFloat(f.coords[3])):me+=Y(parseFloat(f.coords[2]))+" "+Y(parseFloat(f.coords[3]))+" "+Y(parseFloat(f.coords[4]))+" "+Y(parseFloat(f.coords[5])),I(me+="]"),f.matrix&&I("/Matrix ["+f.matrix.toString()+"]"),I("/Function "+R+" 0 R"),I("/Extend [true true]"),I(">>"),I("endobj")},Yi=function(f,v){var R=hn(),H=Gt();v.push({resourcesOid:R,objectOid:H}),f.objectNumber=H;var X=[];X.push({key:"Type",value:"/Pattern"}),X.push({key:"PatternType",value:"1"}),X.push({key:"PaintType",value:"1"}),X.push({key:"TilingType",value:"1"}),X.push({key:"BBox",value:"["+f.boundingBox.map(Y).join(" ")+"]"}),X.push({key:"XStep",value:Y(f.xStep)}),X.push({key:"YStep",value:Y(f.yStep)}),X.push({key:"Resources",value:R+" 0 R"}),f.matrix&&X.push({key:"Matrix",value:"["+f.matrix.toString()+"]"}),$n({data:f.stream,additionalKeyValues:X,objectId:f.objectNumber}),I("endobj")},vo=function(f){for(var v in f.objectNumber=Gt(),I("<<"),f)switch(v){case"opacity":I("/ca "+S(f[v]));break;case"stroke-opacity":I("/CA "+S(f[v]))}I(">>"),I("endobj")},vs=function(f){dn(f.resourcesOid,!0),I("<<"),I("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var v in I("/Font <<"),ct)ct.hasOwnProperty(v)&&(y===!1||y===!0&&w.hasOwnProperty(v))&&I("/"+v+" "+ct[v].objectNumber+" 0 R");I(">>")})(),(function(){if(Object.keys(ze).length>0){for(var v in I("/Shading <<"),ze)ze.hasOwnProperty(v)&&ze[v]instanceof Ti&&ze[v].objectNumber>=0&&I("/"+v+" "+ze[v].objectNumber+" 0 R");Nt.publish("putShadingPatternDict"),I(">>")}})(),(function(v){if(Object.keys(ze).length>0){for(var R in I("/Pattern <<"),ze)ze.hasOwnProperty(R)&&ze[R]instanceof m.TilingPattern&&ze[R].objectNumber>=0&&ze[R].objectNumber<v&&I("/"+R+" "+ze[R].objectNumber+" 0 R");Nt.publish("putTilingPatternDict"),I(">>")}})(f.objectOid),(function(){if(Object.keys(Je).length>0){var v;for(v in I("/ExtGState <<"),Je)Je.hasOwnProperty(v)&&Je[v].objectNumber>=0&&I("/"+v+" "+Je[v].objectNumber+" 0 R");Nt.publish("putGStateDict"),I(">>")}})(),(function(){for(var v in I("/XObject <<"),vn)vn.hasOwnProperty(v)&&vn[v].objectNumber>=0&&I("/"+v+" "+vn[v].objectNumber+" 0 R");Nt.publish("putXobjectDict"),I(">>")})(),I(">>"),I("endobj")},oa=function(f){ut[f.fontName]=ut[f.fontName]||{},ut[f.fontName][f.fontStyle]=f.id},la=function(f,v,R,H,X){var me={id:"F"+(Object.keys(ct).length+1).toString(10),postScriptName:f,fontName:v,fontStyle:R,encoding:H,isStandardFont:X||!1,metadata:{}};return Nt.publish("addFont",{font:me,instance:this}),ct[me.id]=me,oa(me),me.id},Vn=m.__private__.pdfEscape=m.pdfEscape=function(f,v){return(function(R,H){var X,me,ye,Fe,Te,Ze,st,vt,Ut;if(ye=(H=H||{}).sourceEncoding||"Unicode",Te=H.outputEncoding,(H.autoencode||Te)&&ct[Re].metadata&&ct[Re].metadata[ye]&&ct[Re].metadata[ye].encoding&&(Fe=ct[Re].metadata[ye].encoding,!Te&&ct[Re].encoding&&(Te=ct[Re].encoding),!Te&&Fe.codePages&&(Te=Fe.codePages[0]),typeof Te=="string"&&(Te=Fe[Te]),Te)){for(st=!1,Ze=[],X=0,me=R.length;X<me;X++)(vt=Te[R.charCodeAt(X)])?Ze.push(String.fromCharCode(vt)):Ze.push(R[X]),Ze[X].charCodeAt(0)>>8&&(st=!0);R=Ze.join("")}for(X=R.length;st===void 0&&X!==0;)R.charCodeAt(X-1)>>8&&(st=!0),X--;if(!st)return R;for(Ze=H.noBOM?[]:[254,255],X=0,me=R.length;X<me;X++){if((Ut=(vt=R.charCodeAt(X))>>8)>>8)throw new Error("Character at position "+X+" of string '"+R+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ze.push(Ut),Ze.push(vt-(Ut<<8))}return String.fromCharCode.apply(void 0,Ze)})(f,v).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xs=m.__private__.beginPage=function(f){_e[++ft]=[],Ve[ft]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(f[0]),topRightY:Number(f[1])}},ua(ft),Ue(_e[T])},ca=function(f,v){var R,H,X;switch(t=v||t,typeof f=="string"&&(R=C(f.toLowerCase()),Array.isArray(R)&&(H=R[0],X=R[1])),Array.isArray(f)&&(H=f[0]*it,X=f[1]*it),isNaN(H)&&(H=a[0],X=a[1]),(H>14400||X>14400)&&(Pt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),H=Math.min(14400,H),X=Math.min(14400,X)),a=[H,X],t.substr(0,1)){case"l":X>H&&(a=[X,H]);break;case"p":H>X&&(a=[X,H])}xs(a),Qe(_s),I(Zi),ks!==0&&I(ks+" J"),Ss!==0&&I(Ss+" j"),Nt.publish("addPage",{pageNumber:ft})},ws=function(f){f>0&&f<=ft&&(_e.splice(f,1),Ve.splice(f,1),ft--,T>ft&&(T=ft),this.setPage(T))},ua=function(f){f>0&&f<=ft&&(T=f)},ha=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return _e.length-1},fa=function(f,v,R){var H,X=void 0;return R=R||{},f=f!==void 0?f:ct[Re].fontName,v=v!==void 0?v:ct[Re].fontStyle,H=f.toLowerCase(),ut[H]!==void 0&&ut[H][v]!==void 0?X=ut[H][v]:ut[f]!==void 0&&ut[f][v]!==void 0?X=ut[f][v]:R.disableWarning===!1&&Pt.warn("Unable to look up font label for font '"+f+"', '"+v+"'. Refer to getFontList() for available fonts."),X||R.noFallback||(X=ut.times[v])==null&&(X=ut.times.normal),X},gr=m.__private__.putInfo=function(){var f=Gt(),v=function(H){return H};for(var R in g!==null&&(v=rn.encryptor(f,0)),I("<<"),I("/Producer ("+Vn(v("jsPDF "+De.version))+")"),pt)pt.hasOwnProperty(R)&&pt[R]&&I("/"+R.substr(0,1).toUpperCase()+R.substr(1)+" ("+Vn(v(pt[R]))+")");I("/CreationDate ("+Vn(v(oe))+")"),I(">>"),I("endobj")},Ji=m.__private__.putCatalog=function(f){var v=(f=f||{}).rootDictionaryObjId||Vr;switch(Gt(),I("<<"),I("/Type /Catalog"),I("/Pages "+v+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":I("/OpenAction [3 0 R /FitH null]");break;case"fullheight":I("/OpenAction [3 0 R /FitV null]");break;case"fullpage":I("/OpenAction [3 0 R /Fit]");break;case"original":I("/OpenAction [3 0 R /XYZ null null 1]");break;default:var R=""+$e;R.substr(R.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&I("/OpenAction [3 0 R /XYZ null null "+S($e)+"]")}switch(dt||(dt="continuous"),dt){case"continuous":I("/PageLayout /OneColumn");break;case"single":I("/PageLayout /SinglePage");break;case"two":case"twoleft":I("/PageLayout /TwoColumnLeft");break;case"tworight":I("/PageLayout /TwoColumnRight")}Ge&&I("/PageMode /"+Ge),Nt.publish("putCatalog"),I(">>"),I("endobj")},xo=m.__private__.putTrailer=function(){I("trailer"),I("<<"),I("/Size "+(K+1)),I("/Root "+K+" 0 R"),I("/Info "+(K-1)+" 0 R"),g!==null&&I("/Encrypt "+rn.oid+" 0 R"),I("/ID [ <"+ue+"> <"+ue+"> ]"),I(">>")},en=m.__private__.putHeader=function(){I("%PDF-"+L),I("%")},da=m.__private__.putXRef=function(){var f="0000000000";I("xref"),I("0 "+(K+1)),I("0000000000 65535 f ");for(var v=1;v<=K;v++)typeof ee[v]=="function"?I((f+ee[v]()).slice(-10)+" 00000 n "):ee[v]!==void 0?I((f+ee[v]).slice(-10)+" 00000 n "):I("0000000000 00000 n ")},br=m.__private__.buildDocument=function(){var f;K=0,ce=0,le=[],ee=[],be=[],Vr=hn(),er=hn(),Ue(le),Nt.publish("buildDocument"),en(),mr(),(function(){Nt.publish("putAdditionalObjects");for(var R=0;R<be.length;R++){var H=be[R];dn(H.objId,!0),I(H.content),I("endobj")}Nt.publish("postPutAdditionalObjects")})(),f=[],(function(){for(var R in ct)ct.hasOwnProperty(R)&&(y===!1||y===!0&&w.hasOwnProperty(R))&&vi(ct[R])})(),(function(){var R;for(R in Je)Je.hasOwnProperty(R)&&vo(Je[R])})(),(function(){for(var R in vn)vn.hasOwnProperty(R)&&$i(vn[R])})(),(function(R){var H;for(H in ze)ze.hasOwnProperty(H)&&(ze[H]instanceof Ti?Vi(ze[H]):ze[H]instanceof us&&Yi(ze[H],R))})(f),Nt.publish("putResources"),f.forEach(vs),vs({resourcesOid:er,objectOid:Number.MAX_SAFE_INTEGER}),Nt.publish("postPutResources"),g!==null&&(rn.oid=Gt(),I("<<"),I("/Filter /Standard"),I("/V "+rn.v),I("/R "+rn.r),I("/U <"+rn.toHexString(rn.U)+">"),I("/O <"+rn.toHexString(rn.O)+">"),I("/P "+rn.P),I(">>"),I("endobj")),gr(),Ji();var v=ce;return da(),xo(),I("startxref"),I(""+v),I("%%EOF"),Ue(_e[T]),le.join(`
`)},Ki=m.__private__.getBlob=function(f){return new Blob([lt(f)],{type:"application/pdf"})},pa=m.output=m.__private__.output=(Wn=function(f,v){switch(typeof(v=v||{})=="string"?v={filename:v}:v.filename=v.filename||"generated.pdf",f){case void 0:return br();case"save":m.save(v.filename);break;case"arraybuffer":return lt(br());case"blob":return Ki(br());case"bloburi":case"bloburl":if(Xe.URL!==void 0&&typeof Xe.URL.createObjectURL=="function")return Xe.URL&&Xe.URL.createObjectURL(Ki(br()))||void 0;Pt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var R="",H=br();try{R=qu(H)}catch{R=qu(unescape(encodeURIComponent(H)))}return"data:application/pdf;filename="+v.filename+";base64,"+R;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Xe)==="[object Window]"){var X="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';v.pdfObjectUrl&&(X=v.pdfObjectUrl,me="");var ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+X+'"'+me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(v)+");<\/script></body></html>",Fe=Xe.open();return Fe!==null&&Fe.document.write(ye),Fe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Xe)==="[object Window]"){var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(v.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+v.filename+'" width="500px" height="400px" /></body></html>',Ze=Xe.open();if(Ze!==null){Ze.document.write(Te);var st=this;Ze.document.documentElement.querySelector("#pdfViewer").onload=function(){Ze.document.title=v.filename,Ze.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(st.output("bloburl"))}}return Ze}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Xe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",v)+'"></iframe></body></html>',Ut=Xe.open();if(Ut!==null&&(Ut.document.write(vt),Ut.document.title=v.filename),Ut||typeof safari>"u")return Ut;break;case"datauri":case"dataurl":return Xe.document.location.href=this.output("datauristring",v);default:return null}},Wn.foo=function(){try{return Wn.apply(this,arguments)}catch(R){var f=R.stack||"";~f.indexOf(" at ")&&(f=f.split(" at ")[1]);var v="Error in function "+f.split(`
`)[0].split("<")[0]+": "+R.message;if(!Xe.console)throw new Error(v);Xe.console.error(v,R),Xe.alert&&alert(v)}},Wn.foo.bar=Wn,Wn.foo),Yn=function(f){return Array.isArray(gi)===!0&&gi.indexOf(f)>-1};switch(r){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=Yn("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);it=r}var rn=null;xe(),ie();var Lr=m.__private__.getPageInfo=m.getPageInfo=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ve[f].objId,pageNumber:f,pageContext:Ve[f]}},ma=m.__private__.getPageInfoByObjId=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var v in Ve)if(Ve[v].objId===f)break;return Lr(v)},wo=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ve[T].objId,pageNumber:T,pageContext:Ve[T]}};m.addPage=function(){return ca.apply(this,arguments),this},m.setPage=function(){return ua.apply(this,arguments),Ue.call(this,_e[T]),this},m.insertPage=function(f){return this.addPage(),this.movePage(T,f),this},m.movePage=function(f,v){var R,H;if(f>v){R=_e[f],H=Ve[f];for(var X=f;X>v;X--)_e[X]=_e[X-1],Ve[X]=Ve[X-1];_e[v]=R,Ve[v]=H,this.setPage(v)}else if(f<v){R=_e[f],H=Ve[f];for(var me=f;me<v;me++)_e[me]=_e[me+1],Ve[me]=Ve[me+1];_e[v]=R,Ve[v]=H,this.setPage(v)}return this},m.deletePage=function(){return ws.apply(this,arguments),this},m.__private__.text=m.text=function(f,v,R,H,X){var me,ye,Fe,Te,Ze,st,vt,Ut,tn,Mt=(H=H||{}).scope||this;if(typeof f=="number"&&typeof v=="number"&&(typeof R=="string"||Array.isArray(R))){var sn=R;R=v,v=f,f=sn}if(arguments[3]instanceof Ye==0?(Fe=arguments[4],Te=arguments[5],Ft(vt=arguments[3])==="object"&&vt!==null||(typeof Fe=="string"&&(Te=Fe,Fe=null),typeof vt=="string"&&(Te=vt,vt=null),typeof vt=="number"&&(Fe=vt,vt=null),H={flags:vt,angle:Fe,align:Te})):(B("The transform parameter of text() with a Matrix value"),tn=X),isNaN(v)||isNaN(R)||f==null)throw new Error("Invalid arguments passed to jsPDF.text");if(f.length===0)return Mt;var nn,pn="",Rr=typeof H.lineHeightFactor=="number"?H.lineHeightFactor:wi,ir=Mt.internal.scaleFactor;function Tr(_t){return _t=_t.split("	").join(Array(H.TabLen||9).join(" ")),Vn(_t,vt)}function Ps(_t){for(var jt,Yt=_t.concat(),an=[],qr=Yt.length;qr--;)typeof(jt=Yt.shift())=="string"?an.push(jt):Array.isArray(_t)&&(jt.length===1||jt[1]===void 0&&jt[2]===void 0)?an.push(jt[0]):an.push([jt[0],jt[1],jt[2]]);return an}function es(_t,jt){var Yt;if(typeof _t=="string")Yt=jt(_t)[0];else if(Array.isArray(_t)){for(var an,qr,qs=_t.concat(),rs=[],Sa=qs.length;Sa--;)typeof(an=qs.shift())=="string"?rs.push(jt(an)[0]):Array.isArray(an)&&typeof an[0]=="string"&&(qr=jt(an[0],an[1],an[2]),rs.push([qr[0],qr[1],qr[2]]));Yt=rs}return Yt}var Yr=!1,ki=!0;if(typeof f=="string")Yr=!0;else if(Array.isArray(f)){var Si=f.concat();ye=[];for(var Jr,mn=Si.length;mn--;)(typeof(Jr=Si.shift())!="string"||Array.isArray(Jr)&&typeof Jr[0]!="string")&&(ki=!1);Yr=ki}if(Yr===!1)throw new Error('Type of text must be string or Array. "'+f+'" is not recognized.');typeof f=="string"&&(f=f.match(/[\r?\n]/)?f.split(/\r\n|\r|\n/g):[f]);var Ci=we/Mt.internal.scaleFactor,ji=Ci*(Rr-1);switch(H.baseline){case"bottom":R-=ji;break;case"top":R+=Ci-ji;break;case"hanging":R+=Ci-2*ji;break;case"middle":R+=Ci/2-ji}if((st=H.maxWidth||0)>0&&(typeof f=="string"?f=Mt.splitTextToSize(f,st):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(_t,jt){return _t.concat(Mt.splitTextToSize(jt,st))},[]))),me={text:f,x:v,y:R,options:H,mutex:{pdfEscape:Vn,activeFontKey:Re,fonts:ct,activeFontSize:we}},Nt.publish("preProcessText",me),f=me.text,Fe=(H=me.options).angle,tn instanceof Ye==0&&Fe&&typeof Fe=="number"){Fe*=Math.PI/180,H.rotationDirection===0&&(Fe=-Fe),D===W&&(Fe=-Fe);var Es=Math.cos(Fe),Fs=Math.sin(Fe);tn=new Ye(Es,Fs,-Fs,Es,0,0)}else Fe&&Fe instanceof Ye&&(tn=Fe);D!==W||tn||(tn=jr),(Ze=H.charSpace||Fr)!==void 0&&(pn+=Y(U(Ze))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ut=H.horizontalScale)!==void 0&&(pn+=Y(100*Ut)+` Tz
`),H.lang;var Sn=-1,Br=H.renderingMode!==void 0?H.renderingMode:H.stroke,ts=Mt.internal.getCurrentPageInfo().pageContext;switch(Br){case 0:case!1:case"fill":Sn=0;break;case 1:case!0:case"stroke":Sn=1;break;case 2:case"fillThenStroke":Sn=2;break;case 3:case"invisible":Sn=3;break;case 4:case"fillAndAddForClipping":Sn=4;break;case 5:case"strokeAndAddPathForClipping":Sn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Sn=6;break;case 7:case"addToPathForClipping":Sn=7}var Aa=ts.usedRenderingMode!==void 0?ts.usedRenderingMode:-1;Sn!==-1?pn+=Sn+` Tr
`:Aa!==-1&&(pn+=`0 Tr
`),Sn!==-1&&(ts.usedRenderingMode=Sn),Te=H.align||"left";var Jn,Li=we*Rr,Is=Mt.internal.pageSize.getWidth(),Ms=ct[Re];Ze=H.charSpace||Fr,st=H.maxWidth||0,vt=Object.assign({autoencode:!0,noBOM:!0},H.flags);var Kr=[],Pi=function(_t){return Mt.getStringUnitWidth(_t,{font:Ms,charSpace:Ze,fontSize:we,doKerning:!1})*we/ir};if(Object.prototype.toString.call(f)==="[object Array]"){var Mn;ye=Ps(f),Te!=="left"&&(Jn=ye.map(Pi));var On,Xr=0;if(Te==="right"){v-=Jn[0],f=[],mn=ye.length;for(var Dr=0;Dr<mn;Dr++)Dr===0?(On=Pr(v),Mn=Er(R)):(On=U(Xr-Jn[Dr]),Mn=-Li),f.push([ye[Dr],On,Mn]),Xr=Jn[Dr]}else if(Te==="center"){v-=Jn[0]/2,f=[],mn=ye.length;for(var Zr=0;Zr<mn;Zr++)Zr===0?(On=Pr(v),Mn=Er(R)):(On=U((Xr-Jn[Zr])/2),Mn=-Li),f.push([ye[Zr],On,Mn]),Xr=Jn[Zr]}else if(Te==="left"){f=[],mn=ye.length;for(var Os=0;Os<mn;Os++)f.push(ye[Os])}else if(Te==="justify"&&Ms.encoding==="Identity-H"){f=[],mn=ye.length,st=st!==0?st:Is;for(var ns=0,Vt=0;Vt<mn;Vt++)if(Mn=Vt===0?Er(R):-Li,On=Vt===0?Pr(v):ns,Vt<mn-1){var ka=U((st-Jn[Vt])/(ye[Vt].split(" ").length-1)),vr=ye[Vt].split(" ");f.push([vr[0]+" ",On,Mn]),ns=0;for(var xr=1;xr<vr.length;xr++){var Rs=(Pi(vr[xr-1]+" "+vr[xr])-Pi(vr[xr]))*ir+ka;xr==vr.length-1?f.push([vr[xr],Rs,0]):f.push([vr[xr]+" ",Rs,0]),ns-=Rs}}else f.push([ye[Vt],On,Mn]);f.push(["",ns,0])}else{if(Te!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(f=[],mn=ye.length,st=st!==0?st:Is,Vt=0;Vt<mn;Vt++){Mn=Vt===0?Er(R):-Li,On=Vt===0?Pr(v):0;var Ts=ye[Vt].split(" ").length-1,Bs=Ts>0?(st-Jn[Vt])/Ts:0;Vt<mn-1?Kr.push(Y(U(Bs))):Kr.push(0),f.push([ye[Vt],On,Mn])}}}(typeof H.R2L=="boolean"?H.R2L:He)===!0&&(f=es(f,function(_t,jt,Yt){return[_t.split("").reverse().join(""),jt,Yt]})),me={text:f,x:v,y:R,options:H,mutex:{pdfEscape:Vn,activeFontKey:Re,fonts:ct,activeFontSize:we}},Nt.publish("postProcessText",me),f=me.text,nn=me.mutex.isHex||!1;var Ds=ct[Re].encoding;Ds!=="WinAnsiEncoding"&&Ds!=="StandardEncoding"||(f=es(f,function(_t,jt,Yt){return[Tr(_t),jt,Yt]})),ye=Ps(f),f=[];for(var Qr,ei,ti,Ei=Array.isArray(ye[0])?1:0,ni="",Fi=function(_t,jt,Yt){var an="";return Yt instanceof Ye?(Yt=typeof H.angle=="number"?Cr(Yt,new Ye(1,0,0,1,_t,jt)):Cr(new Ye(1,0,0,1,_t,jt),Yt),D===W&&(Yt=Cr(new Ye(1,0,0,-1,0,0),Yt)),an=Yt.join(" ")+` Tm
`):an=Y(_t)+" "+Y(jt)+` Td
`,an},Kn=0;Kn<ye.length;Kn++){switch(ni="",Ei){case 1:ti=(nn?"<":"(")+ye[Kn][0]+(nn?">":")"),Qr=parseFloat(ye[Kn][1]),ei=parseFloat(ye[Kn][2]);break;case 0:ti=(nn?"<":"(")+ye[Kn]+(nn?">":")"),Qr=Pr(v),ei=Er(R)}Kr!==void 0&&Kr[Kn]!==void 0&&(ni=Kr[Kn]+` Tw
`),Kn===0?f.push(ni+Fi(Qr,ei,tn)+ti):Ei===0?f.push(ni+ti):Ei===1&&f.push(ni+Fi(Qr,ei,tn)+ti)}f=Ei===0?f.join(` Tj
T* `):f.join(` Tj
`),f+=` Tj
`;var wr=`BT
/`;return wr+=Re+" "+we+` Tf
`,wr+=Y(we*Rr)+` TL
`,wr+=Ni+`
`,wr+=pn,wr+=f,I(wr+="ET"),w[Re]=!0,Mt};var No=m.__private__.clip=m.clip=function(f){return I(f==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return No("evenodd")},m.__private__.discardPath=m.discardPath=function(){return I("n"),this};var yr=m.__private__.isValidStyle=function(f){var v=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(f)!==-1&&(v=!0),v};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(f){return yr(f)&&(d=f),this};var ga=m.__private__.getStyle=m.getStyle=function(f){var v=d;switch(f){case"D":case"S":v="S";break;case"F":v="f";break;case"FD":case"DF":v="B";break;case"f":case"f*":case"B":case"B*":v=f}return v},ba=m.close=function(){return I("h"),this};m.stroke=function(){return I("S"),this},m.fill=function(f){return Xi("f",f),this},m.fillEvenOdd=function(f){return Xi("f*",f),this},m.fillStroke=function(f){return Xi("B",f),this},m.fillStrokeEvenOdd=function(f){return Xi("B*",f),this};var Xi=function(f,v){Ft(v)==="object"?Ao(v,f):I(f)},xi=function(f){f===null||D===W&&f===void 0||(f=ga(f),I(f))};function _o(f,v,R,H,X){var me=new us(v||this.boundingBox,R||this.xStep,H||this.yStep,this.gState,X||this.matrix);me.stream=this.stream;var ye=f+"$$"+this.cloneIndex+++"$$";return Hn(ye,me),me}var Ao=function(f,v){var R=It[f.key],H=ze[R];if(H instanceof Ti)I("q"),I(ko(v)),H.gState&&m.setGState(H.gState),I(f.matrix.toString()+" cm"),I("/"+R+" sh"),I("Q");else if(H instanceof us){var X=new Ye(1,0,0,-1,0,Ai());f.matrix&&(X=X.multiply(f.matrix||jr),R=_o.call(H,f.key,f.boundingBox,f.xStep,f.yStep,X).id),I("q"),I("/Pattern cs"),I("/"+R+" scn"),H.gState&&m.setGState(H.gState),I(v),I("Q")}},ko=function(f){switch(f){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ns=m.moveTo=function(f,v){return I(Y(U(f))+" "+Y(z(v))+" m"),this},ya=m.lineTo=function(f,v){return I(Y(U(f))+" "+Y(z(v))+" l"),this},rr=m.curveTo=function(f,v,R,H,X,me){return I([Y(U(f)),Y(z(v)),Y(U(R)),Y(z(H)),Y(U(X)),Y(z(me)),"c"].join(" ")),this};m.__private__.line=m.line=function(f,v,R,H,X){if(isNaN(f)||isNaN(v)||isNaN(R)||isNaN(H)||!yr(X))throw new Error("Invalid arguments passed to jsPDF.line");return D===G?this.lines([[R-f,H-v]],f,v,[1,1],X||"S"):this.lines([[R-f,H-v]],f,v,[1,1]).stroke()},m.__private__.lines=m.lines=function(f,v,R,H,X,me){var ye,Fe,Te,Ze,st,vt,Ut,tn,Mt,sn,nn,pn;if(typeof f=="number"&&(pn=R,R=v,v=f,f=pn),H=H||[1,1],me=me||!1,isNaN(v)||isNaN(R)||!Array.isArray(f)||!Array.isArray(H)||!yr(X)||typeof me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ns(v,R),ye=H[0],Fe=H[1],Ze=f.length,sn=v,nn=R,Te=0;Te<Ze;Te++)(st=f[Te]).length===2?(sn=st[0]*ye+sn,nn=st[1]*Fe+nn,ya(sn,nn)):(vt=st[0]*ye+sn,Ut=st[1]*Fe+nn,tn=st[2]*ye+sn,Mt=st[3]*Fe+nn,sn=st[4]*ye+sn,nn=st[5]*Fe+nn,rr(vt,Ut,tn,Mt,sn,nn));return me&&ba(),xi(X),this},m.path=function(f){for(var v=0;v<f.length;v++){var R=f[v],H=R.c;switch(R.op){case"m":Ns(H[0],H[1]);break;case"l":ya(H[0],H[1]);break;case"c":rr.apply(this,H);break;case"h":ba()}}return this},m.__private__.rect=m.rect=function(f,v,R,H,X){if(isNaN(f)||isNaN(v)||isNaN(R)||isNaN(H)||!yr(X))throw new Error("Invalid arguments passed to jsPDF.rect");return D===G&&(H=-H),I([Y(U(f)),Y(z(v)),Y(U(R)),Y(U(H)),"re"].join(" ")),xi(X),this},m.__private__.triangle=m.triangle=function(f,v,R,H,X,me,ye){if(isNaN(f)||isNaN(v)||isNaN(R)||isNaN(H)||isNaN(X)||isNaN(me)||!yr(ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[R-f,H-v],[X-R,me-H],[f-X,v-me]],f,v,[1,1],ye,!0),this},m.__private__.roundedRect=m.roundedRect=function(f,v,R,H,X,me,ye){if(isNaN(f)||isNaN(v)||isNaN(R)||isNaN(H)||isNaN(X)||isNaN(me)||!yr(ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Fe=4/3*(Math.SQRT2-1);return X=Math.min(X,.5*R),me=Math.min(me,.5*H),this.lines([[R-2*X,0],[X*Fe,0,X,me-me*Fe,X,me],[0,H-2*me],[0,me*Fe,-X*Fe,me,-X,me],[2*X-R,0],[-X*Fe,0,-X,-me*Fe,-X,-me],[0,2*me-H],[0,-me*Fe,X*Fe,-me,X,-me]],f+X,v,[1,1],ye,!0),this},m.__private__.ellipse=m.ellipse=function(f,v,R,H,X){if(isNaN(f)||isNaN(v)||isNaN(R)||isNaN(H)||!yr(X))throw new Error("Invalid arguments passed to jsPDF.ellipse");var me=4/3*(Math.SQRT2-1)*R,ye=4/3*(Math.SQRT2-1)*H;return Ns(f+R,v),rr(f+R,v-ye,f+me,v-H,f,v-H),rr(f-me,v-H,f-R,v-ye,f-R,v),rr(f-R,v+ye,f-me,v+H,f,v+H),rr(f+me,v+H,f+R,v+ye,f+R,v),xi(X),this},m.__private__.circle=m.circle=function(f,v,R,H){if(isNaN(f)||isNaN(v)||isNaN(R)||!yr(H))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(f,v,R,R,H)},m.setFont=function(f,v,R){return R&&(v=ae(v,R)),Re=fa(f,v,{disableWarning:!1}),this};var So=m.__private__.getFont=m.getFont=function(){return ct[fa.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var f,v,R={};for(f in ut)if(ut.hasOwnProperty(f))for(v in R[f]=[],ut[f])ut[f].hasOwnProperty(v)&&R[f].push(v);return R},m.addFont=function(f,v,R,H,X){var me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&me.indexOf(arguments[3])!==-1?X=arguments[3]:arguments[3]&&me.indexOf(arguments[3])==-1&&(R=ae(R,H)),la.call(this,f,v,R,X=X||"Identity-H")};var wi,_s=n.lineWidth||.200025,Co=m.__private__.getLineWidth=m.getLineWidth=function(){return _s},Qe=m.__private__.setLineWidth=m.setLineWidth=function(f){return _s=f,I(Y(U(f))+" w"),this};m.__private__.setLineDash=De.API.setLineDash=De.API.setLineDashPattern=function(f,v){if(f=f||[],v=v||0,isNaN(v)||!Array.isArray(f))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return f=f.map(function(R){return Y(U(R))}).join(" "),v=Y(U(v)),I("["+f+"] "+v+" d"),this};var jo=m.__private__.getLineHeight=m.getLineHeight=function(){return we*wi};m.__private__.getLineHeight=m.getLineHeight=function(){return we*wi};var Lo=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(f){return typeof(f=f||1.15)=="number"&&(wi=f),this},Po=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return wi};Lo(n.lineHeight);var Pr=m.__private__.getHorizontalCoordinate=function(f){return U(f)},Er=m.__private__.getVerticalCoordinate=function(f){return D===W?f:Ve[T].mediaBox.topRightY-Ve[T].mediaBox.bottomLeftY-U(f)},Eo=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(f){return Y(Pr(f))},Fo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(f){return Y(Er(f))},Zi=n.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return pr(Zi)},m.__private__.setStrokeColor=m.setDrawColor=function(f,v,R,H){return Zi=tr({ch1:f,ch2:v,ch3:R,ch4:H,pdfColorType:"draw",precision:2}),I(Zi),this};var As=n.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return pr(As)},m.__private__.setFillColor=m.setFillColor=function(f,v,R,H){return As=tr({ch1:f,ch2:v,ch3:R,ch4:H,pdfColorType:"fill",precision:2}),I(As),this};var Ni=n.textColor||"0 g",Io=m.__private__.getTextColor=m.getTextColor=function(){return pr(Ni)};m.__private__.setTextColor=m.setTextColor=function(f,v,R,H){return Ni=tr({ch1:f,ch2:v,ch3:R,ch4:H,pdfColorType:"text",precision:3}),this};var Fr=n.charSpace,Mo=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Fr||0)};m.__private__.setCharSpace=m.setCharSpace=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fr=f,this};var ks=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(f){var v=m.CapJoinStyles[f];if(v===void 0)throw new Error("Line cap style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ks=v,I(v+" J"),this};var Ss=0;m.__private__.setLineJoin=m.setLineJoin=function(f){var v=m.CapJoinStyles[f];if(v===void 0)throw new Error("Line join style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ss=v,I(v+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(f){if(f=f||0,isNaN(f))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return I(Y(U(f))+" M"),this},m.GState=oo,m.setGState=function(f){(f=typeof f=="string"?Je[nt[f]]:va(null,f)).equals(Dt)||(I("/"+f.id+" gs"),Dt=f)};var va=function(f,v){if(!f||!nt[f]){var R=!1;for(var H in Je)if(Je.hasOwnProperty(H)&&Je[H].equals(v)){R=!0;break}if(R)v=Je[H];else{var X="GS"+(Object.keys(Je).length+1).toString(10);Je[X]=v,v.id=X}return f&&(nt[f]=v.id),Nt.publish("addGState",v),v}};m.addGState=function(f,v){return va(f,v),this},m.saveGraphicsState=function(){return I("q"),Bt.push({key:Re,size:we,color:Ni}),this},m.restoreGraphicsState=function(){I("Q");var f=Bt.pop();return Re=f.key,we=f.size,Ni=f.color,Dt=null,this},m.setCurrentTransformationMatrix=function(f){return I(f.toString()+" cm"),this},m.comment=function(f){return I("#"+f),this};var Ir=function(f,v){var R=f||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return R},set:function(me){isNaN(me)||(R=parseFloat(me))}});var H=v||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return H},set:function(me){isNaN(me)||(H=parseFloat(me))}});var X="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return X},set:function(me){X=me.toString()}}),this},Cs=function(f,v,R,H){Ir.call(this,f,v),this.type="rect";var X=R||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return X},set:function(ye){isNaN(ye)||(X=parseFloat(ye))}});var me=H||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return me},set:function(ye){isNaN(ye)||(me=parseFloat(ye))}}),this},Qi=function(){this.page=ft,this.currentPage=T,this.pages=_e.slice(0),this.pagesContext=Ve.slice(0),this.x=qe,this.y=$t,this.matrix=yt,this.width=Ls(T),this.height=wa(T),this.outputDestination=Ce,this.id="",this.objectNumber=-1};Qi.prototype.restore=function(){ft=this.page,T=this.currentPage,Ve=this.pagesContext,_e=this.pages,qe=this.x,$t=this.y,yt=this.matrix,xa(T,this.width),Mr(T,this.height),Ce=this.outputDestination};var js=function(f,v,R,H,X){dr.push(new Qi),ft=T=0,_e=[],qe=f,$t=v,yt=X,xs([R,H])};for(var _i in m.beginFormObject=function(f,v,R,H,X){return js(f,v,R,H,X),this},m.endFormObject=function(f){return(function(v){if(Sr[v])dr.pop().restore();else{var R=new Qi,H="Xo"+(Object.keys(vn).length+1).toString(10);R.id=H,Sr[v]=H,vn[H]=R,Nt.publish("addFormObject",R),dr.pop().restore()}})(f),this},m.doFormObject=function(f,v){var R=vn[Sr[f]];return I("q"),I(v.toString()+" cm"),I("/"+R.id+" Do"),I("Q"),this},m.getFormObject=function(f){var v=vn[Sr[f]];return{x:v.x,y:v.y,width:v.width,height:v.height,matrix:v.matrix}},m.save=function(f,v){return f=f||"generated.pdf",(v=v||{}).returnPromise=v.returnPromise||!1,v.returnPromise===!1?(Ri(Ki(br()),f),typeof Ri.unload=="function"&&Xe.setTimeout&&setTimeout(Ri.unload,911),this):new Promise(function(R,H){try{var X=Ri(Ki(br()),f);typeof Ri.unload=="function"&&Xe.setTimeout&&setTimeout(Ri.unload,911),R(X)}catch(me){H(me.message)}})},De.API)De.API.hasOwnProperty(_i)&&(_i==="events"&&De.API.events.length?(function(f,v){var R,H,X;for(X=v.length-1;X!==-1;X--)R=v[X][0],H=v[X][1],f.subscribe.apply(f,[R].concat(typeof H=="function"?[H]:H))})(Nt,De.API.events):m[_i]=De.API[_i]);function Ls(f){return Ve[f].mediaBox.topRightX-Ve[f].mediaBox.bottomLeftX}function xa(f,v){Ve[f].mediaBox.topRightX=v+Ve[f].mediaBox.bottomLeftX}function wa(f){return Ve[f].mediaBox.topRightY-Ve[f].mediaBox.bottomLeftY}function Mr(f,v){Ve[f].mediaBox.topRightY=v+Ve[f].mediaBox.bottomLeftY}var Or=m.getPageWidth=function(f){return Ls(f=f||T)/it},Na=m.setPageWidth=function(f,v){xa(f,v*it)},Ai=m.getPageHeight=function(f){return wa(f=f||T)/it},_a=m.setPageHeight=function(f,v){Mr(f,v*it)};return m.internal={pdfEscape:Vn,getStyle:ga,getFont:So,getFontSize:Pe,getCharSpace:Mo,getTextColor:Io,getLineHeight:jo,getLineHeightFactor:Po,getLineWidth:Co,write:Se,getHorizontalCoordinate:Pr,getVerticalCoordinate:Er,getCoordinateString:Eo,getVerticalCoordinateString:Fo,collections:{},newObject:Gt,newAdditionalObject:bi,newObjectDeferred:hn,newObjectDeferredBegin:dn,getFilters:nr,putStream:$n,events:Nt,scaleFactor:it,pageSize:{getWidth:function(){return Or(T)},setWidth:function(f){Na(T,f)},getHeight:function(){return Ai(T)},setHeight:function(f){_a(T,f)}},encryptionOptions:g,encryption:rn,getEncryptor:function(f){return g!==null?rn.encryptor(f,0):function(v){return v}},output:pa,getNumberOfPages:ha,get pages(){return _e},out:I,f2:S,f3:_,getPageInfo:Lr,getPageInfoByObjId:ma,getCurrentPageInfo:wo,getPDFVersion:E,Point:Ir,Rectangle:Cs,Matrix:Ye,hasHotfix:Yn},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Or(T)},set:function(f){Na(T,f)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ai(T)},set:function(f){_a(T,f)},enumerable:!0,configurable:!0}),(function(f){for(var v=0,R=We.length;v<R;v++){var H=la.call(this,f[v][0],f[v][1],f[v][2],We[v][3],!0);y===!1&&(w[H]=!0);var X=f[v][0].split("-");oa({id:H,fontName:X[0],fontStyle:X[1]||""})}Nt.publish("addFonts",{fonts:ct,dictionary:ut})}).call(m,We),Re="F1",ca(a,t),Nt.publish("initialized"),m}ls.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},ls.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ls.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},ls.prototype.processOwnerPassword=function(n,e){return Rl(Ol(e).substr(0,5),n)},ls.prototype.encryptor=function(n,e){var t=Ol(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Rl(t,r)}},oo.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Ft(n)!==Ft(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},De.API={events:[]},De.version="4.1.0";var Wt=De.API,Ql=1,Wi=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},as=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},lo=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},et=function(n){return n.toFixed(2)},ui=function(n){return n.toFixed(5)};Wt.__acroform__={};var In=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Hu=function(n){return n*Ql},_r=function(n){var e=new af,t=Ee.internal.getHeight(n)||0,r=Ee.internal.getWidth(n)||0;return e.BBox=[0,0,Number(et(r)),Number(et(t))],e},dp=Wt.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},pp=Wt.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},mp=Wt.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Xt=Wt.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return mp(n,e-1)},Zt=Wt.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dp(n,e-1)},Qt=Wt.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return pp(n,e-1)},gp=Wt.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=n[0],i=n[1],l=n[2],c=n[3],h={};return h.lowerLeft_X=t(a)||0,h.lowerLeft_Y=r(i+c)||0,h.upperRight_X=t(a+l)||0,h.upperRight_Y=r(i)||0,[Number(et(h.lowerLeft_X)),Number(et(h.lowerLeft_Y)),Number(et(h.upperRight_X)),Number(et(h.upperRight_Y))]},bp=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Tl(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+et(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=_r(n);return i.scope=n.scope,i.stream=e.join(`
`),i}},Tl=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(S){return S.split(`
`)}):a.map(function(S){return[S]});var i=t,l=Ee.internal.getHeight(n)||0;l=l<0?-l:l;var c=Ee.internal.getWidth(n)||0;c=c<0?-c:c;var h=function(S,_,U){if(S+1<a.length){var z=_+" "+a[S+1][0];return Ka(z,n,U).width<=c-4}return!1};i++;e:for(;i>0;){e="",i--;var d,g,y=Ka("3",n,i).height,w=n.multiline?l-i:(l-y)/2,m=w+=2,L=0,E=0,F=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ka(e,n,i=12).width+", FieldWidth:"+c+`
`;break}for(var C="",G=0,W=0;W<a.length;W++)if(a.hasOwnProperty(W)){var D=!1;if(a[W].length!==1&&F!==a[W].length-1){if((y+2)*(G+2)+2>l)continue e;C+=a[W][F],D=!0,E=W,W--}else{C=(C+=a[W][F]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var se=parseInt(W),ne=h(se,C,i),ae=W>=a.length-1;if(ne&&!ae){C+=" ",F=0;continue}if(ne||ae){if(ae)E=se;else if(n.multiline&&(y+2)*(G+2)+2>l)continue e}else{if(!n.multiline||(y+2)*(G+2)+2>l)continue e;E=se}}for(var Y="",B=L;B<=E;B++){var Q=a[B];if(n.multiline){if(B===E){Y+=Q[F]+" ",F=(F+1)%Q.length;continue}if(B===L){Y+=Q[Q.length-1]+" ";continue}}Y+=Q[0]+" "}switch(Y=Y.substr(Y.length-1)==" "?Y.substr(0,Y.length-1):Y,g=Ka(Y,n,i).width,n.textAlign){case"right":d=c-g-2;break;case"center":d=(c-g)/2;break;default:d=2}e+=et(d)+" "+et(m)+` Td
`,e+="("+Wi(Y)+`) Tj
`,e+=-et(d)+` 0 Td
`,m=-(i+2),g=0,L=D?E:E+1,G++,C=""}break}return r.text=e,r.fontSize=i,r},Ka=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},yp={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vp=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},xp=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(hr.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(yp)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ql=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new of,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];i.objId=void 0,i.hasAnnotation&&vp(i,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,a){var i=!r;for(var l in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],h=[],d=c.Rect;if(c.Rect&&(c.Rect=gp(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Ee.createDefaultAppearanceStream(c),Ft(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=bp(c);h.push({key:"AP",value:"<</N "+g+">>"}),a.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var y="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var m=c.appearanceStreamContent[w];if(y+="/"+w+" ",y+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var l in m)if(m.hasOwnProperty(l)){var L=m[l];typeof L=="function"&&(L=L.call(a,c)),y+="/"+l+" "+L+" ",a.internal.acroformPlugin.xForms.indexOf(L)>=0||a.internal.acroformPlugin.xForms.push(L)}}else typeof(L=m)=="function"&&(L=L.call(a,c)),y+="/"+l+" "+L,a.internal.acroformPlugin.xForms.indexOf(L)>=0||a.internal.acroformPlugin.xForms.push(L);y+=">>"}h.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:h,objectId:c.objId}),a.internal.out("endobj")}i&&(function(E,F){for(var C in E)if(E.hasOwnProperty(C)){var G=C,W=E[C];F.internal.newObjectDeferredBegin(W.objId,!0),Ft(W)==="object"&&typeof W.putStream=="function"&&W.putStream(),delete E[G]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},sf=Wt.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var a="[",i=0;i<n.length;i++)switch(i!==0&&(a+=" "),Ft(n[i])){case"boolean":case"number":case"object":a+=n[i].toString();break;case"string":n[i].substr(0,1)==="/"?a+="/"+lo(n[i].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+Wi(r(n[i].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},pl=function(n,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Wi(r(n))+")"},Ar=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ar.prototype.toString=function(){return this.objId+" 0 R"},Ar.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ar.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:sf(a,this.objId,this.scope)}):a instanceof Ar?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var af=function(){Ar.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};In(af,Ar);var of=function(){Ar.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Wi(t(n))+")"}},set:function(t){n=t}})};In(of,Ar);var hr=function n(){Ar.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xt(e,3)},set:function(C){C?this.F=Zt(e,3):this.F=Qt(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof co)return;i="FieldObject"+n.FieldNum++}var C=function(G){return G};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Wi(C(i))+")"},set:function(C){i=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(C){i=C}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Ql:d},set:function(C){d=C}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(C){g=C}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof co||this instanceof qi))return pl(y,this.objId,this.scope)},set:function(C){C=C.toString(),y=C}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof fn==0?pl(w,this.objId,this.scope):w},set:function(C){C=C.toString(),w=this instanceof fn==0?C.substr(0,1)==="("?as(C.substr(1,C.length-2)):as(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fn==1?as(w.substr(1,w.length-1)):w},set:function(C){C=C.toString(),w=this instanceof fn==1?"/"+lo(C):C}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof fn==0?pl(m,this.objId,this.scope):m},set:function(C){C=C.toString(),m=this instanceof fn==0?C.substr(0,1)==="("?as(C.substr(1,C.length-2)):as(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fn==1?as(m.substr(1,m.length-1)):m},set:function(C){C=C.toString(),m=this instanceof fn==1?"/"+lo(C):C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var L,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(C){C=!!C,E=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(L)return L},set:function(C){L=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,1)},set:function(C){C?this.Ff=Zt(this.Ff,1):this.Ff=Qt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,2)},set:function(C){C?this.Ff=Zt(this.Ff,2):this.Ff=Qt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,3)},set:function(C){C?this.Ff=Zt(this.Ff,3):this.Ff=Qt(this.Ff,3)}});var F=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(F!==null)return F},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');F=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(F){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:F=2;break;case"center":case 1:F=1;break;default:F=0}}})};In(hr,Ar);var hs=function(){hr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sf(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(i,l,c){c||(c=1);for(var h,d=[];h=l.exec(i);)d.push(h[c]);return d})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,18)},set:function(t){t?this.Ff=Zt(this.Ff,18):this.Ff=Qt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Zt(this.Ff,19):this.Ff=Qt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,20)},set:function(t){t?(this.Ff=Zt(this.Ff,20),e.sort()):this.Ff=Qt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,22)},set:function(t){t?this.Ff=Zt(this.Ff,22):this.Ff=Qt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,23)},set:function(t){t?this.Ff=Zt(this.Ff,23):this.Ff=Qt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,27)},set:function(t){t?this.Ff=Zt(this.Ff,27):this.Ff=Qt(this.Ff,27)}}),this.hasAppearanceStream=!1};In(hs,hr);var fs=function(){hs.call(this),this.fontName="helvetica",this.combo=!1};In(fs,hs);var ds=function(){fs.call(this),this.combo=!0};In(ds,fs);var to=function(){ds.call(this),this.edit=!0};In(to,ds);var fn=function(){hr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,15)},set:function(t){t?this.Ff=Zt(this.Ff,15):this.Ff=Qt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,16)},set:function(t){t?this.Ff=Zt(this.Ff,16):this.Ff=Qt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,17)},set:function(t){t?this.Ff=Zt(this.Ff,17):this.Ff=Qt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,26)},set:function(t){t?this.Ff=Zt(this.Ff,26):this.Ff=Qt(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+Wi(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Ft(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+lo(t)}})};In(fn,hr);var no=function(){fn.call(this),this.pushButton=!0};In(no,fn);var ps=function(){fn.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};In(ps,fn);var co=function(){var n,e;hr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),r)l.push("/"+i+" ("+Wi(a(r[i]))+")");return l.push(">>"),l.join(`
`)},set:function(a){Ft(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ee.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};In(co,hr),ps.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},ps.prototype.createOption=function(n){var e=new co;return e.Parent=this,e.optionName=n,this.Kids.push(e),wp.call(this.scope,e),e};var ro=function(){fn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ee.CheckBox.createAppearanceStream()};In(ro,fn);var qi=function(){hr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,13)},set:function(e){e?this.Ff=Zt(this.Ff,13):this.Ff=Qt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,21)},set:function(e){e?this.Ff=Zt(this.Ff,21):this.Ff=Qt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,23)},set:function(e){e?this.Ff=Zt(this.Ff,23):this.Ff=Qt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,24)},set:function(e){e?this.Ff=Zt(this.Ff,24):this.Ff=Qt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,25)},set:function(e){e?this.Ff=Zt(this.Ff,25):this.Ff=Qt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,26)},set:function(e){e?this.Ff=Zt(this.Ff,26):this.Ff=Qt(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};In(qi,hr);var io=function(){qi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xt(this.Ff,14)},set:function(n){n?this.Ff=Zt(this.Ff,14):this.Ff=Qt(this.Ff,14)}}),this.password=!0};In(io,qi);var Ee={CheckBox:{createAppearanceStream:function(){return{N:{On:Ee.CheckBox.YesNormal},D:{On:Ee.CheckBox.YesPushDown,Off:Ee.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=_r(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),i=Tl(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+et(Ee.internal.getWidth(n))+" "+et(Ee.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+et(i.fontSize)+" Tf "+a),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=_r(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],i=Ee.internal.getHeight(n),l=Ee.internal.getWidth(n),c=Tl(n,n.caption);return a.push("1 g"),a.push("0 0 "+et(l)+" "+et(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+et(l-1)+" "+et(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+et(c.fontSize)+" Tf "+r),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=_r(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+et(Ee.internal.getWidth(n))+" "+et(Ee.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Ee.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Ee.RadioButton.Circle.YesNormal,e.D[n]=Ee.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=_r(n);e.scope=n.scope;var t=[],r=Ee.internal.getWidth(n)<=Ee.internal.getHeight(n)?Ee.internal.getWidth(n)/4:Ee.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Ee.internal.Bezier_C,i=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ui(Ee.internal.getWidth(n)/2)+" "+ui(Ee.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),t.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),t.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),t.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=_r(n);e.scope=n.scope;var t=[],r=Ee.internal.getWidth(n)<=Ee.internal.getHeight(n)?Ee.internal.getWidth(n)/4:Ee.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Ee.internal.Bezier_C).toFixed(5)),l=Number((r*Ee.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ui(Ee.internal.getWidth(n)/2)+" "+ui(Ee.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ui(Ee.internal.getWidth(n)/2)+" "+ui(Ee.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=_r(n);e.scope=n.scope;var t=[],r=Ee.internal.getWidth(n)<=Ee.internal.getHeight(n)?Ee.internal.getWidth(n)/4:Ee.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Ee.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ui(Ee.internal.getWidth(n)/2)+" "+ui(Ee.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Ee.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Ee.RadioButton.Cross.YesNormal,e.D[n]=Ee.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=_r(n);e.scope=n.scope;var t=[],r=Ee.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+et(Ee.internal.getWidth(n)-2)+" "+et(Ee.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(et(r.x1.x)+" "+et(r.x1.y)+" m"),t.push(et(r.x2.x)+" "+et(r.x2.y)+" l"),t.push(et(r.x4.x)+" "+et(r.x4.y)+" m"),t.push(et(r.x3.x)+" "+et(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=_r(n);e.scope=n.scope;var t=Ee.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+et(Ee.internal.getWidth(n))+" "+et(Ee.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+et(Ee.internal.getWidth(n)-2)+" "+et(Ee.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(et(t.x1.x)+" "+et(t.x1.y)+" m"),r.push(et(t.x2.x)+" "+et(t.x2.y)+" l"),r.push(et(t.x4.x)+" "+et(t.x4.y)+" m"),r.push(et(t.x3.x)+" "+et(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=_r(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+et(Ee.internal.getWidth(n))+" "+et(Ee.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Ee.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Ee.internal.getWidth(n),t=Ee.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Ee.internal.getWidth=function(n){var e=0;return Ft(n)==="object"&&(e=Hu(n.Rect[2])),e},Ee.internal.getHeight=function(n){var e=0;return Ft(n)==="object"&&(e=Hu(n.Rect[3])),e};var wp=Wt.addField=function(n){if(xp(this,n),!(n instanceof hr))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Wt.AcroFormChoiceField=hs,Wt.AcroFormListBox=fs,Wt.AcroFormComboBox=ds,Wt.AcroFormEditBox=to,Wt.AcroFormButton=fn,Wt.AcroFormPushButton=no,Wt.AcroFormRadioButton=ps,Wt.AcroFormCheckBox=ro,Wt.AcroFormTextField=qi,Wt.AcroFormPasswordField=io,Wt.AcroFormAppearance=Ee,Wt.AcroForm={ChoiceField:hs,ListBox:fs,ComboBox:ds,EditBox:to,Button:fn,PushButton:no,RadioButton:ps,CheckBox:ro,TextField:qi,PasswordField:io,Appearance:Ee},De.AcroForm={ChoiceField:hs,ListBox:fs,ComboBox:ds,EditBox:to,Button:fn,PushButton:no,RadioButton:ps,CheckBox:ro,TextField:qi,PasswordField:io,Appearance:Ee};De.AcroForm;function lf(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(S,_){var U,z,oe,ue,fe,ie=t;if((_=_||t)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(ne(S))for(fe in r)for(oe=r[fe],U=0;U<oe.length;U+=1){for(ue=!0,z=0;z<oe[U].length;z+=1)if(oe[U][z]!==void 0&&oe[U][z]!==S[z]){ue=!1;break}if(ue===!0){ie=fe;break}}else for(fe in r)for(oe=r[fe],U=0;U<oe.length;U+=1){for(ue=!0,z=0;z<oe[U].length;z+=1)if(oe[U][z]!==void 0&&oe[U][z]!==S.charCodeAt(z)){ue=!1;break}if(ue===!0){ie=fe;break}}return ie===t&&_!==t&&(ie=_),ie},i=function S(_){for(var U=this.internal.write,z=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);_.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:_.width}),ue.push({key:"Height",value:_.height}),_.colorSpace===C.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(_.palette.length/3-1)+" "+("sMask"in _&&_.sMask!==void 0?_.objectId+2:_.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+_.colorSpace}),_.colorSpace===C.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:_.bitsPerComponent}),"decodeParameters"in _&&_.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+_.decodeParameters+">>"}),"transparency"in _&&Array.isArray(_.transparency)&&_.transparency.length>0){for(var fe="",ie=0,pe=_.transparency.length;ie<pe;ie++)fe+=_.transparency[ie]+" "+_.transparency[ie]+" ";ue.push({key:"Mask",value:"["+fe+"]"})}_.sMask!==void 0&&ue.push({key:"SMask",value:_.objectId+1+" 0 R"});var Ae=_.filter!==void 0?["/"+_.filter]:void 0;if(z({data:_.data,additionalKeyValues:ue,alreadyAppliedFilters:Ae,objectId:_.objectId}),U("endobj"),"sMask"in _&&_.sMask!==void 0){var xe,k=(xe=_.sMaskBitsPerComponent)!==null&&xe!==void 0?xe:_.bitsPerComponent,T={width:_.width,height:_.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:_.sMask};"filter"in _&&(T.decodeParameters="/Predictor ".concat(_.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(_.width),T.filter=_.filter),S.call(this,T)}if(_.colorSpace===C.INDEXED){var q=this.internal.newObject();z({data:Y(new Uint8Array(_.palette)),objectId:q}),U("endobj")}},l=function(){var S=this.internal.collections[e+"images"];for(var _ in S)i.call(this,S[_])},c=function(){var S,_=this.internal.collections[e+"images"],U=this.internal.write;for(var z in _)U("/I"+(S=_[z]).index,S.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var S=this.internal.collections[e+"images"];return h.call(this),S},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(S){return typeof n["process"+S.toUpperCase()]=="function"},w=function(S){return Ft(S)==="object"&&S.nodeType===1},m=function(S,_){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var U=""+S.getAttribute("src");if(U.indexOf("data:image/")===0)return eo(unescape(U).split("base64,").pop());var z=n.loadFile(U,!0);if(z!==void 0)return z}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var oe;switch(_){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return eo(S.toDataURL(oe,1).split("base64,").pop())}},L=function(S){var _=this.internal.collections[e+"images"];if(_){for(var U in _)if(S===_[U].alias)return _[U]}},E=function(S,_,U){return S||_||(S=-96,_=-96),S<0&&(S=-1*U.width*72/S/this.internal.scaleFactor),_<0&&(_=-1*U.height*72/_/this.internal.scaleFactor),S===0&&(S=_*U.width/U.height),_===0&&(_=S*U.height/U.width),[S,_]},F=function(S,_,U,z,oe,ue){var fe=E.call(this,U,z,oe),ie=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,Ae=d.call(this);if(U=fe[0],z=fe[1],Ae[oe.index]=oe,ue){ue*=Math.PI/180;var xe=Math.cos(ue),k=Math.sin(ue),T=function($){return $.toFixed(4)},q=[T(xe),T(k),T(-1*k),T(xe),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,ie(S),pe(_+z),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([ie(U),"0","0",ie(z),"0","0","cm"].join(" "))):this.internal.write([ie(U),"0","0",ie(z),ie(S),pe(_+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var G=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=n.__addimage__.sHashCode=function(S){var _,U,z=0;if(typeof S=="string")for(U=S.length,_=0;_<U;_++)z=(z<<5)-z+S.charCodeAt(_),z|=0;else if(ne(S))for(U=S.byteLength/2,_=0;_<U;_++)z=(z<<5)-z+S[_],z|=0;return z},D=n.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var _=!0;return S.length===0&&(_=!1),S.length%4!=0&&(_=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(_=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(_=!1),_},se=n.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var _=S.indexOf(",");return _<0?null:S.substring(0,_).trim().endsWith("base64")?S.substring(_+1):null};n.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var ne=n.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},ae=n.__addimage__.binaryStringToUint8Array=function(S){for(var _=S.length,U=new Uint8Array(_),z=0;z<_;z++)U[z]=S.charCodeAt(z);return U},Y=n.__addimage__.arrayBufferToBinaryString=function(S){for(var _="",U=ne(S)?S:new Uint8Array(S),z=0;z<U.length;z+=8192)_+=String.fromCharCode.apply(null,U.subarray(z,z+8192));return _};n.addImage=function(){var S,_,U,z,oe,ue,fe,ie,pe;if(typeof arguments[1]=="number"?(_=t,U=arguments[1],z=arguments[2],oe=arguments[3],ue=arguments[4],fe=arguments[5],ie=arguments[6],pe=arguments[7]):(_=arguments[1],U=arguments[2],z=arguments[3],oe=arguments[4],ue=arguments[5],fe=arguments[6],ie=arguments[7],pe=arguments[8]),Ft(S=arguments[0])==="object"&&!w(S)&&"imageData"in S){var Ae=S;S=Ae.imageData,_=Ae.format||_||t,U=Ae.x||U||0,z=Ae.y||z||0,oe=Ae.w||Ae.width||oe,ue=Ae.h||Ae.height||ue,fe=Ae.alias||fe,ie=Ae.compression||ie,pe=Ae.rotation||Ae.angle||pe}var xe=this.internal.getFilters();if(ie===void 0&&xe.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(U)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var k=B.call(this,S,_,fe,ie);return F.call(this,U,z,oe,ue,k,pe),this};var B=function(S,_,U,z){var oe,ue,fe;if(typeof S=="string"&&a(S)===t){S=unescape(S);var ie=Q(S,!1);(ie!==""||(ie=n.loadFile(S,!0))!==void 0)&&(S=ie)}if(w(S)&&(S=m(S,_)),_=a(S,_),!y(_))throw new Error("addImage does not support files of type '"+_+"', please ensure that a plugin for '"+_+"' support is added.");if(((fe=U)==null||fe.length===0)&&(U=(function(pe){return typeof pe=="string"||ne(pe)?W(pe):ne(pe.data)?W(pe.data):null})(S)),(oe=L.call(this,U))||(S instanceof Uint8Array||_==="RGBA"||(ue=S,S=ae(S)),oe=this["process"+_.toUpperCase()](S,g.call(this),U,(function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in n.image_compression?pe:G.NONE})(z),ue)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},Q=n.__addimage__.convertBase64ToBinaryString=function(S,_){_=typeof _!="boolean"||_;var U,z="";if(typeof S=="string"){var oe;U=(oe=se(S))!==null&&oe!==void 0?oe:S;try{z=eo(U)}catch(ue){if(_)throw D(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};n.getImageProperties=function(S){var _,U,z="";if(w(S)&&(S=m(S)),typeof S=="string"&&a(S)===t&&((z=Q(S,!1))===""&&(z=n.loadFile(S)||""),S=z),U=a(S),!y(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(S instanceof Uint8Array||(S=ae(S)),!(_=this["process"+U.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return _.fileType=U,_}})(De.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};De.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,a,i,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,g=!1,y=0;y<d.length&&!g;y++)switch((r=d[y]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){r=d[w];var m=this.internal.pdfEscape,L=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),F=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(E.objId),G=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+m(C(r.contents))+")",i+=" /Popup "+F.objId+" 0 R",i+=" /P "+h.objId+" 0 R",i+=" /T ("+m(C(G))+") >>",E.content=i;var W=E.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+W,r.open&&(i+=" /Open true"),i+=" >>",F.content=i,this.internal.write(E.objId,"0 R",F.objId,"0 R");break;case"freetext":a="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var D=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(L(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var se=this.annotations._nameMap[r.options.name];r.options.pageNumber=se.page,r.options.top=se.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(L(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var ne=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+ne+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,a,i,l){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(t),y:d(r),w:h(t+a),h:d(r+i)},options:l,type:"link"})},n.textWithLink=function(t,r,a,i){var l,c,h=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){c=i.maxWidth;var g=this.splitTextToSize(t,c).length;l=Math.ceil(d*g)}else c=h,l=d;return this.text(t,r,a,i),a+=.2*d,i.align==="center"&&(r-=h/2),i.align==="right"&&(r-=h),this.link(r,a-d,c,l,i),h},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(De.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var i=n.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},c=n.__arabicParser__.isArabicEndLetter=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(E){return l(E)&&a.indexOf(E.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(E){var F=0,C=t,G="",W=0;for(F=0;F<E.length;F+=1)C[E.charCodeAt(F)]!==void 0?(W++,typeof(C=C[E.charCodeAt(F)])=="number"&&(G+=String.fromCharCode(C),C=t,W=0),F===E.length-1&&(C=t,G+=E.charAt(F-(W-1)),F-=W-1,W=0)):(C=t,G+=E.charAt(F-W),F-=W,W=0);return G};n.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&r[E.charCodeAt(0)]!==void 0};var w=n.__arabicParser__.getCorrectForm=function(E,F,C){return l(E)?i(E)===!1?-1:!d(E)||!l(F)&&!l(C)||!l(C)&&c(F)||c(E)&&!l(F)||c(E)&&h(F)||c(E)&&c(F)?0:g(E)&&l(F)&&!c(F)&&l(C)&&d(C)?3:c(E)||!l(C)?1:2:-1},m=function(E){var F=0,C=0,G=0,W="",D="",se="",ne=(E=E||"").split("\\s+"),ae=[];for(F=0;F<ne.length;F+=1){for(ae.push(""),C=0;C<ne[F].length;C+=1)W=ne[F][C],D=ne[F][C-1],se=ne[F][C+1],l(W)?(G=w(W,D,se),ae[F]+=G!==-1?String.fromCharCode(e[W.charCodeAt(0)][G]):W):ae[F]+=W;ae[F]=y(ae[F])}return ae.join(" ")},L=n.__arabicParser__.processArabic=n.processArabic=function(){var E,F=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(F)){var G=0;for(C=[],G=0;G<F.length;G+=1)Array.isArray(F[G])?C.push([m(F[G][0]),F[G][1],F[G][2]]):C.push([m(F[G])]);E=C}else E=m(F);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};n.events.push(["preProcessText",L])})(De.API),De.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(c){i=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(De.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(E){d=E}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(E){w=E}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var L=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return L},set:function(E){L=E}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,d){r.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,m=0,L=0,E=0,F=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var C=d.maxWidth;C>0?typeof h=="string"?h=this.splitTextToSize(h,C):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(W,D){return W.concat(F.splitTextToSize(D,C))},[])):h=Array.isArray(h)?h:[h];for(var G=0;G<h.length;G++)m<(E=this.getStringUnitWidth(h[G],{font:y})*g)&&(m=E);return m!==0&&(L=h.length),{w:m/=w,h:Math.max((L*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/w,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var h;h=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===h.lineNumber?(h.x=(d.x||0)+(d.width||0),h.y=d.y||0):d.y+d.height+h.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=y.top,m&&w&&(this.printHeaderRow(h.lineNumber,!0),h.y+=w[0].height)):h.y=d.y+d.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-g,h.y+g,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+g,{align:"center",baseline:"top",maxWidth:h.width-g-g}):this.text(h.text,h.x+g,h.y+g,{align:"left",baseline:"top",maxWidth:h.width-g-g})),this.internal.__cell__.lastCell=h,this};n.table=function(h,d,g,y,w){if(r.call(this),!g)throw new Error("No data for PDF table.");var m,L,E,F,C=[],G=[],W=[],D={},se={},ne=[],ae=[],Y=(w=w||{}).autoSize||!1,B=w.printHeaders!==!1,Q=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,S=w.margins||Object.assign({width:this.getPageWidth()},e),_=typeof w.padding=="number"?w.padding:3,U=w.headerBackgroundColor||"#c8c8c8",z=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=z,this.setFontSize(Q),y==null)G=C=Object.keys(g[0]),W=C.map(function(){return"left"});else if(Array.isArray(y)&&Ft(y[0])==="object")for(C=y.map(function(Ae){return Ae.name}),G=y.map(function(Ae){return Ae.prompt||Ae.name||""}),W=y.map(function(Ae){return Ae.align||"left"}),m=0;m<y.length;m+=1)se[y[m].name]=.7499990551181103*y[m].width;else Array.isArray(y)&&typeof y[0]=="string"&&(G=C=y,W=C.map(function(){return"left"}));if(Y||Array.isArray(y)&&typeof y[0]=="string")for(m=0;m<C.length;m+=1){for(D[F=C[m]]=g.map(function(Ae){return Ae[F]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(G[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),L=D[F],this.setFont(void 0,"normal"),E=0;E<L.length;E+=1)ne.push(this.getTextDimensions(L[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);se[F]=Math.max.apply(null,ne)+_+_,ne=[]}if(B){var oe={};for(m=0;m<C.length;m+=1)oe[C[m]]={},oe[C[m]].text=G[m],oe[C[m]].align=W[m];var ue=c.call(this,oe,se);ae=C.map(function(Ae){return new i(h,d,se[Ae],ue,oe[Ae].text,void 0,oe[Ae].align)}),this.setTableHeaderRow(ae),this.printHeaderRow(1,!1)}var fe=y.reduce(function(Ae,xe){return Ae[xe.name]=xe.align,Ae},{});for(m=0;m<g.length;m+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:m,data:g[m]},this);var ie=c.call(this,g[m],se);for(E=0;E<C.length;E+=1){var pe=g[m][C[E]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:m,col:E,data:pe},this),l.call(this,new i(h,d,se[C[E]],ie,pe,m+2,fe[C[E]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=d,this};var c=function(h,d){var g=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(h).map(function(m){var L=h[m];return this.splitTextToSize(L.hasOwnProperty("text")?L.text:L,d[m]-g-g)},this).map(function(m){return this.getLineHeightFactor()*m.length*y/w+g+g},this).reduce(function(m,L){return Math.max(m,L)},0)};n.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){g=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,w.push(g)),g.lineNumber=h;var L=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,g),this.setTextColor(L)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),t=!1}})(De.API);var cf={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},uf=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Bl=lf(uf),hf=[100,200,300,400,500,600,700,800,900],Np=lf(hf);function ml(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return cf[i=i||"normal"]?i:"normal"})(n.style),r=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(n.weight),a=(function(i){return typeof Bl[i=i||"normal"]=="number"?i:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,r].join(" ")}}}function Wu(n,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(n[e[a]])return n[e[a]]}var _p={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$u={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Vu(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Yu(n){return n.trimLeft()}function Ap(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function kp(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var os,Xa,Ju,Ku,Xu,gl=["times"];function Zu(n,e,t,r,a){var i=4,l=eh;switch(a){case De.API.image_compression.FAST:i=1,l=Qu;break;case De.API.image_compression.MEDIUM:i=6,l=th;break;case De.API.image_compression.SLOW:i=9,l=nh}n=(function(h,d,g,y){for(var w,m=h.length/d,L=new Uint8Array(h.length+m),E=[Sp,Qu,eh,th,nh],F=0;F<m;F+=1){var C=F*d,G=h.subarray(C,C+d);if(y)L.set(y(G,g,w),C+F);else{for(var W=E.length,D=[],se=0;se<W;se+=1)D[se]=E[se](G,g,w);var ne=jp(D.concat());L.set(D[ne],C+F)}w=G}return L})(n,e,Math.ceil(t*r/8),l);var c=El(n,{level:i});return De.API.__addimage__.arrayBufferToBinaryString(c)}function Sp(n){var e=Array.apply([],n);return e.unshift(0),e}function Qu(n,e){var t=n.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var i=n[a-e]||0;r[a+1]=n[a]-i+256&255}return r}function eh(n,e,t){var r=n.length,a=[];a[0]=2;for(var i=0;i<r;i+=1){var l=t&&t[i]||0;a[i+1]=n[i]-l+256&255}return a}function th(n,e,t){var r=n.length,a=[];a[0]=3;for(var i=0;i<r;i+=1){var l=n[i-e]||0,c=t&&t[i]||0;a[i+1]=n[i]+256-(l+c>>>1)&255}return a}function nh(n,e,t){var r=n.length,a=[];a[0]=4;for(var i=0;i<r;i+=1){var l=Cp(n[i-e]||0,t&&t[i]||0,t&&t[i-e]||0);a[i+1]=n[i]-l+256&255}return a}function Cp(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),a=Math.abs(n-t),i=Math.abs(n+e-t-t);return r<=a&&r<=i?n:a<=i?e:t}function jp(n){var e=n.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function bl(n,e,t){var r=e*t,a=Math.floor(r/8),i=16-(r-8*a+t),l=(1<<t)-1;return ff(n,a)>>i&l}function rh(n,e,t,r){var a=t*r,i=Math.floor(a/8),l=16-(a-8*i+r),c=(1<<r)-1,h=(e&c)<<l;(function(d,g,y){if(g+1<d.byteLength)d.setUint16(g,y,!1);else{var w=y>>8&255;d.setUint8(g,w)}})(n,i,ff(n,i)&~(c<<l)&65535|h)}function ff(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function Lp(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,a=n[e++],i=a>>7,l=1<<1+(7&a);n[e++],n[e++];var c=null,h=null;i&&(c=e,h=l,e+=3*l);var d=!0,g=[],y=0,w=null,m=0,L=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,L=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((S=n[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=n[e++];y=n[e++]|n[e++]<<8,w=n[e++],1&E||(w=null),m=E>>2&7,e++;break;case 254:for(;;){if(!((S=n[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var F=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,G=n[e++]|n[e++]<<8,W=n[e++]|n[e++]<<8,D=n[e++],se=D>>6&1,ne=1<<1+(7&D),ae=c,Y=h,B=!1;D>>7&&(B=!0,ae=e,Y=ne,e+=3*ne);var Q=e;for(e++;;){var S;if(!((S=n[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}g.push({x:F,y:C,width:G,height:W,has_local_palette:B,palette_offset:ae,palette_size:Y,data_offset:Q,data_length:e-Q,transparent_index:w,interlaced:!!se,delay:y,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return L},this.frameInfo=function(_){if(_<0||_>=g.length)throw new Error("Frame index out of range.");return g[_]},this.decodeAndBlitFrameBGRA=function(_,U){var z=this.frameInfo(_),oe=z.width*z.height,ue=new Uint8Array(oe);ih(n,z.data_offset,ue,oe);var fe=z.palette_offset,ie=z.transparent_index;ie===null&&(ie=256);var pe=z.width,Ae=t-pe,xe=pe,k=4*(z.y*t+z.x),T=4*((z.y+z.height)*t+z.x),q=k,$=4*Ae;z.interlaced===!0&&($+=4*t*7);for(var K=8,ee=0,le=ue.length;ee<le;++ee){var ce=ue[ee];if(xe===0&&(xe=pe,(q+=$)>=T&&($=4*Ae+4*t*(K-1),q=k+(pe+Ae)*(K<<1),K>>=1)),ce===ie)q+=4;else{var be=n[fe+3*ce],_e=n[fe+3*ce+1],je=n[fe+3*ce+2];U[q++]=je,U[q++]=_e,U[q++]=be,U[q++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(_,U){var z=this.frameInfo(_),oe=z.width*z.height,ue=new Uint8Array(oe);ih(n,z.data_offset,ue,oe);var fe=z.palette_offset,ie=z.transparent_index;ie===null&&(ie=256);var pe=z.width,Ae=t-pe,xe=pe,k=4*(z.y*t+z.x),T=4*((z.y+z.height)*t+z.x),q=k,$=4*Ae;z.interlaced===!0&&($+=4*t*7);for(var K=8,ee=0,le=ue.length;ee<le;++ee){var ce=ue[ee];if(xe===0&&(xe=pe,(q+=$)>=T&&($=4*Ae+4*t*(K-1),q=k+(pe+Ae)*(K<<1),K>>=1)),ce===ie)q+=4;else{var be=n[fe+3*ce],_e=n[fe+3*ce+1],je=n[fe+3*ce+2];U[q++]=be,U[q++]=_e,U[q++]=je,U[q++]=255}--xe}}}function ih(n,e,t,r){for(var a=n[e++],i=1<<a,l=i+1,c=l+1,h=a+1,d=(1<<h)-1,g=0,y=0,w=0,m=n[e++],L=new Int32Array(4096),E=null;;){for(;g<16&&m!==0;)y|=n[e++]<<g,g+=8,m===1?m=n[e++]:--m;if(g<h)break;var F=y&d;if(y>>=h,g-=h,F!==i){if(F===l)break;for(var C=F<c?F:E,G=0,W=C;W>i;)W=L[W]>>8,++G;var D=W;if(w+G+(C!==F?1:0)>r)return void Pt.log("Warning, gif stream longer than expected.");t[w++]=D;var se=w+=G;for(C!==F&&(t[w++]=D),W=C;G--;)W=L[W],t[--se]=255&W,W>>=8;E!==null&&c<4096&&(L[c++]=E<<8|D,c>=d+1&&h<12&&(++h,d=d<<1|1)),E=F}else c=l+1,d=(1<<(h=a+1))-1,E=null}return w!==r&&Pt.log("Warning, gif stream shorter than expected."),t}function yl(n){var e,t,r,a,i,l=Math.floor,c=new Array(64),h=new Array(64),d=new Array(64),g=new Array(64),y=new Array(65535),w=new Array(65535),m=new Array(64),L=new Array(64),E=[],F=0,C=7,G=new Array(64),W=new Array(64),D=new Array(64),se=new Array(256),ne=new Array(2048),ae=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(k,T){for(var q=0,$=0,K=new Array,ee=1;ee<=16;ee++){for(var le=1;le<=k[ee];le++)K[T[$]]=[],K[T[$]][0]=q,K[T[$]][1]=ee,$++,q++;q*=2}return K}function fe(k){for(var T=k[0],q=k[1]-1;q>=0;)T&1<<q&&(F|=1<<C),q--,--C<0&&(F==255?(ie(255),ie(0)):ie(F),C=7,F=0)}function ie(k){E.push(k)}function pe(k){ie(k>>8&255),ie(255&k)}function Ae(k,T,q,$,K){for(var ee,le=K[0],ce=K[240],be=(function(we,$e){var Pe,He,Ge,wt,dt,tt,mt,pt,Re,it,qe=0;for(Re=0;Re<8;++Re){Pe=we[qe],He=we[qe+1],Ge=we[qe+2],wt=we[qe+3],dt=we[qe+4],tt=we[qe+5],mt=we[qe+6];var $t=Pe+(pt=we[qe+7]),yt=Pe-pt,ct=He+mt,ut=He-mt,Bt=Ge+tt,ze=Ge-tt,It=wt+dt,Je=wt-dt,nt=$t+It,Dt=$t-It,ft=ct+Bt,Ve=ct-Bt;we[qe]=nt+ft,we[qe+4]=nt-ft;var Nt=.707106781*(Ve+Dt);we[qe+2]=Dt+Nt,we[qe+6]=Dt-Nt;var gi=.382683433*((nt=Je+ze)-(Ve=ut+yt)),vn=.5411961*nt+gi,Sr=1.306562965*Ve+gi,dr=.707106781*(ft=ze+ut),Ye=yt+dr,Cr=yt-dr;we[qe+5]=Cr+vn,we[qe+3]=Cr-vn,we[qe+1]=Ye+Sr,we[qe+7]=Ye-Sr,qe+=8}for(qe=0,Re=0;Re<8;++Re){Pe=we[qe],He=we[qe+8],Ge=we[qe+16],wt=we[qe+24],dt=we[qe+32],tt=we[qe+40],mt=we[qe+48];var jr=Pe+(pt=we[qe+56]),Hn=Pe-pt,Wn=He+mt,Gt=He-mt,hn=Ge+tt,dn=Ge-tt,bi=wt+dt,Vr=wt-dt,er=jr+bi,pr=jr-bi,tr=Wn+hn,nr=Wn-hn;we[qe]=er+tr,we[qe+32]=er-tr;var $n=.707106781*(nr+pr);we[qe+16]=pr+$n,we[qe+48]=pr-$n;var yi=.382683433*((er=Vr+dn)-(nr=Gt+Hn)),mr=.5411961*er+yi,vi=1.306562965*nr+yi,$i=.707106781*(tr=dn+Gt),Vi=Hn+$i,Yi=Hn-$i;we[qe+40]=Yi+mr,we[qe+24]=Yi-mr,we[qe+8]=Vi+vi,we[qe+56]=Vi-vi,qe++}for(Re=0;Re<64;++Re)it=we[Re]*$e[Re],m[Re]=it>0?it+.5|0:it-.5|0;return m})(k,T),_e=0;_e<64;++_e)L[ae[_e]]=be[_e];var je=L[0]-q;q=L[0],je==0?fe($[0]):(fe($[w[ee=32767+je]]),fe(y[ee]));for(var Ce=63;Ce>0&&L[Ce]==0;)Ce--;if(Ce==0)return fe(le),q;for(var Ue,I=1;I<=Ce;){for(var Se=I;L[I]==0&&I<=Ce;)++I;var lt=I-Se;if(lt>=16){Ue=lt>>4;for(var We=1;We<=Ue;++We)fe(ce);lt&=15}ee=32767+L[I],fe(K[(lt<<4)+w[ee]]),fe(y[ee]),I++}return Ce!=63&&fe(le),q}function xe(k){k=Math.min(Math.max(k,1),100),i!=k&&((function(T){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$=0;$<64;$++){var K=l((q[$]*T+50)/100);K=Math.min(Math.max(K,1),255),c[ae[$]]=K}for(var ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],le=0;le<64;le++){var ce=l((ee[le]*T+50)/100);ce=Math.min(Math.max(ce,1),255),h[ae[le]]=ce}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,je=0;je<8;je++)for(var Ce=0;Ce<8;Ce++)d[_e]=1/(c[ae[_e]]*be[je]*be[Ce]*8),g[_e]=1/(h[ae[_e]]*be[je]*be[Ce]*8),_e++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),i=k)}this.encode=function(k,T){T&&xe(T),E=new Array,F=0,C=7,pe(65496),pe(65504),pe(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),pe(1),pe(1),ie(0),ie(0),(function(){pe(65499),pe(132),ie(0);for(var He=0;He<64;He++)ie(c[He]);ie(1);for(var Ge=0;Ge<64;Ge++)ie(h[Ge])})(),(function(He,Ge){pe(65472),pe(17),ie(8),pe(Ge),pe(He),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)})(k.width,k.height),(function(){pe(65476),pe(418),ie(0);for(var He=0;He<16;He++)ie(Y[He+1]);for(var Ge=0;Ge<=11;Ge++)ie(B[Ge]);ie(16);for(var wt=0;wt<16;wt++)ie(Q[wt+1]);for(var dt=0;dt<=161;dt++)ie(S[dt]);ie(1);for(var tt=0;tt<16;tt++)ie(_[tt+1]);for(var mt=0;mt<=11;mt++)ie(U[mt]);ie(17);for(var pt=0;pt<16;pt++)ie(z[pt+1]);for(var Re=0;Re<=161;Re++)ie(oe[Re])})(),pe(65498),pe(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var q=0,$=0,K=0;F=0,C=7,this.encode.displayName="_encode_";for(var ee,le,ce,be,_e,je,Ce,Ue,I,Se=k.data,lt=k.width,We=k.height,we=4*lt,$e=0;$e<We;){for(ee=0;ee<we;){for(_e=we*$e+ee,Ce=-1,Ue=0,I=0;I<64;I++)je=_e+(Ue=I>>3)*we+(Ce=4*(7&I)),$e+Ue>=We&&(je-=we*($e+1+Ue-We)),ee+Ce>=we&&(je-=ee+Ce-we+4),le=Se[je++],ce=Se[je++],be=Se[je++],G[I]=(ne[le]+ne[ce+256|0]+ne[be+512|0]>>16)-128,W[I]=(ne[le+768|0]+ne[ce+1024|0]+ne[be+1280|0]>>16)-128,D[I]=(ne[le+1280|0]+ne[ce+1536|0]+ne[be+1792|0]>>16)-128;q=Ae(G,d,q,e,r),$=Ae(W,g,$,t,a),K=Ae(D,g,K,t,a),ee+=32}$e+=8}if(C>=0){var Pe=[];Pe[1]=C+1,Pe[0]=(1<<C+1)-1,fe(Pe)}return pe(65497),new Uint8Array(E)},n=n||50,(function(){for(var k=String.fromCharCode,T=0;T<256;T++)se[T]=k(T)})(),e=ue(Y,B),t=ue(_,U),r=ue(Q,S),a=ue(z,oe),(function(){for(var k=1,T=2,q=1;q<=15;q++){for(var $=k;$<T;$++)w[32767+$]=q,y[32767+$]=[],y[32767+$][1]=q,y[32767+$][0]=$;for(var K=-(T-1);K<=-k;K++)w[32767+K]=q,y[32767+K]=[],y[32767+K][1]=q,y[32767+K][0]=T-1+K;k<<=1,T<<=1}})(),(function(){for(var k=0;k<256;k++)ne[k]=19595*k,ne[k+256|0]=38470*k,ne[k+512|0]=7471*k+32768,ne[k+768|0]=-11059*k,ne[k+1024|0]=-21709*k,ne[k+1280|0]=32768*k+8421375,ne[k+1536|0]=-27439*k,ne[k+1792|0]=-5329*k})(),xe(n)}function lr(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function sh(n){function e(B){if(!B)throw Error("assert :P")}function t(B,Q,S){for(var _=0;4>_;_++)if(B[Q+_]!=S.charCodeAt(_))return!0;return!1}function r(B,Q,S,_,U){for(var z=0;z<U;z++)B[Q+z]=S[_+z]}function a(B,Q,S,_){for(var U=0;U<_;U++)B[Q+U]=S}function i(B){return new Int32Array(B)}function l(B,Q){for(var S=[],_=0;_<B;_++)S.push(new Q);return S}function c(B,Q){var S=[];return(function _(U,z,oe){for(var ue=oe[z],fe=0;fe<ue&&(U.push(oe.length>z+1?[]:new Q),!(oe.length<z+1));fe++)_(U[fe],z+1,oe)})(S,0,B),S}var h=function(){var B=this;function Q(s,o){for(var p=1<<o-1>>>0;s&p;)p>>>=1;return p?(s&p-1)+p:s}function S(s,o,p,b,x){e(!(b%p));do s[o+(b-=p)]=x;while(0<b)}function _(s,o,p,b,x){if(e(2328>=x),512>=x)var N=i(512);else if((N=i(x))==null)return 0;return(function(A,j,P,M,V,re){var O,J,Z=j,he=1<<P,te=i(16),de=i(16);for(e(V!=0),e(M!=null),e(A!=null),e(0<P),J=0;J<V;++J){if(15<M[J])return 0;++te[M[J]]}if(te[0]==V)return 0;for(de[1]=0,O=1;15>O;++O){if(te[O]>1<<O)return 0;de[O+1]=de[O]+te[O]}for(J=0;J<V;++J)O=M[J],0<M[J]&&(re[de[O]++]=J);if(de[15]==1)return(M=new U).g=0,M.value=re[0],S(A,Z,1,he,M),he;var ge,Ne=-1,ve=he-1,Be=0,Le=1,at=1,Me=1<<P;for(J=0,O=1,V=2;O<=P;++O,V<<=1){if(Le+=at<<=1,0>(at-=te[O]))return 0;for(;0<te[O];--te[O])(M=new U).g=O,M.value=re[J++],S(A,Z+Be,V,Me,M),Be=Q(Be,O)}for(O=P+1,V=2;15>=O;++O,V<<=1){if(Le+=at<<=1,0>(at-=te[O]))return 0;for(;0<te[O];--te[O]){if(M=new U,(Be&ve)!=Ne){for(Z+=Me,ge=1<<(Ne=O)-P;15>Ne&&!(0>=(ge-=te[Ne]));)++Ne,ge<<=1;he+=Me=1<<(ge=Ne-P),A[j+(Ne=Be&ve)].g=ge+P,A[j+Ne].value=Z-j-Ne}M.g=O-P,M.value=re[J++],S(A,Z+(Be>>P),V,Me,M),Be=Q(Be,O)}}return Le!=2*de[15]-1?0:he})(s,o,p,b,x,N)}function U(){this.value=this.g=0}function z(){this.value=this.g=0}function oe(){this.G=l(5,U),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Pi,z)}function ue(s,o,p,b){e(s!=null),e(o!=null),e(2147483648>b),s.Ca=254,s.I=0,s.b=-8,s.Ka=0,s.oa=o,s.pa=p,s.Jd=o,s.Yc=p+b,s.Zc=4<=b?p+b-4+1:p,le(s)}function fe(s,o){for(var p=0;0<o--;)p|=be(s,128)<<o;return p}function ie(s,o){var p=fe(s,o);return ce(s)?-p:p}function pe(s,o,p,b){var x,N=0;for(e(s!=null),e(o!=null),e(4294967288>b),s.Sb=b,s.Ra=0,s.u=0,s.h=0,4<b&&(b=4),x=0;x<b;++x)N+=o[p+x]<<8*x;s.Ra=N,s.bb=b,s.oa=o,s.pa=p}function Ae(s){for(;8<=s.u&&s.bb<s.Sb;)s.Ra>>>=8,s.Ra+=s.oa[s.pa+s.bb]<<Xr-8>>>0,++s.bb,s.u-=8;$(s)&&(s.h=1,s.u=0)}function xe(s,o){if(e(0<=o),!s.h&&o<=On){var p=q(s)&Mn[o];return s.u+=o,Ae(s),p}return s.h=1,s.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(s){return s.Ra>>>(s.u&Xr-1)>>>0}function $(s){return e(s.bb<=s.Sb),s.h||s.bb==s.Sb&&s.u>Xr}function K(s,o){s.u=o,s.h=$(s)}function ee(s){s.u>=Dr&&(e(s.u>=Dr),Ae(s))}function le(s){e(s!=null&&s.oa!=null),s.pa<s.Zc?(s.I=(s.oa[s.pa++]|s.I<<8)>>>0,s.b+=8):(e(s!=null&&s.oa!=null),s.pa<s.Yc?(s.b+=8,s.I=s.oa[s.pa++]|s.I<<8):s.Ka?s.b=0:(s.I<<=8,s.b+=8,s.Ka=1))}function ce(s){return fe(s,1)}function be(s,o){var p=s.Ca;0>s.b&&le(s);var b=s.b,x=p*o>>>8,N=(s.I>>>b>x)+0;for(N?(p-=x,s.I-=x+1<<b>>>0):p=x+1,b=p,x=0;256<=b;)x+=8,b>>=8;return b=7^x+Zr[b],s.b-=b,s.Ca=(p<<b)-1,N}function _e(s,o,p){s[o+0]=p>>24&255,s[o+1]=p>>16&255,s[o+2]=p>>8&255,s[o+3]=255&p}function je(s,o){return s[o+0]|s[o+1]<<8}function Ce(s,o){return je(s,o)|s[o+2]<<16}function Ue(s,o){return je(s,o)|je(s,o+2)<<16}function I(s,o){var p=1<<o;return e(s!=null),e(0<o),s.X=i(p),s.X==null?0:(s.Mb=32-o,s.Xa=o,1)}function Se(s,o){e(s!=null),e(o!=null),e(s.Xa==o.Xa),r(o.X,0,s.X,0,1<<o.Xa)}function lt(){this.X=[],this.Xa=this.Mb=0}function We(s,o,p,b){e(p!=null),e(b!=null);var x=p[0],N=b[0];return x==0&&(x=(s*N+o/2)/o),N==0&&(N=(o*x+s/2)/s),0>=x||0>=N?0:(p[0]=x,b[0]=N,1)}function we(s,o){return s+(1<<o)-1>>>o}function $e(s,o){return((4278255360&s)+(4278255360&o)>>>0&4278255360)+((16711935&s)+(16711935&o)>>>0&16711935)>>>0}function Pe(s,o){B[o]=function(p,b,x,N,A,j,P){var M;for(M=0;M<A;++M){var V=B[s](j[P+M-1],x,N+M);j[P+M]=$e(p[b+M],V)}}}function He(){this.ud=this.hd=this.jd=0}function Ge(s,o){return((4278124286&(s^o))>>>1)+(s&o)>>>0}function wt(s){return 0<=s&&256>s?s:0>s?0:255<s?255:void 0}function dt(s,o){return wt(s+(s-o+.5>>1))}function tt(s,o,p){return Math.abs(o-p)-Math.abs(s-p)}function mt(s,o,p,b,x,N,A){for(b=N[A-1],p=0;p<x;++p)N[A+p]=b=$e(s[o+p],b)}function pt(s,o,p,b,x){var N;for(N=0;N<p;++N){var A=s[o+N],j=A>>8&255,P=16711935&(P=(P=16711935&A)+((j<<16)+j));b[x+N]=(4278255360&A)+P>>>0}}function Re(s,o){o.jd=255&s,o.hd=s>>8&255,o.ud=s>>16&255}function it(s,o,p,b,x,N){var A;for(A=0;A<b;++A){var j=o[p+A],P=j>>>8,M=j,V=255&(V=(V=j>>>16)+((s.jd<<24>>24)*(P<<24>>24)>>>5));M=255&(M=(M+=(s.hd<<24>>24)*(P<<24>>24)>>>5)+((s.ud<<24>>24)*(V<<24>>24)>>>5)),x[N+A]=(4278255360&j)+(V<<16)+M}}function qe(s,o,p,b,x){B[o]=function(N,A,j,P,M,V,re,O,J){for(P=re;P<O;++P)for(re=0;re<J;++re)M[V++]=x(j[b(N[A++])])},B[s]=function(N,A,j,P,M,V,re){var O=8>>N.b,J=N.Ea,Z=N.K[0],he=N.w;if(8>O)for(N=(1<<N.b)-1,he=(1<<O)-1;A<j;++A){var te,de=0;for(te=0;te<J;++te)te&N||(de=b(P[M++])),V[re++]=x(Z[de&he]),de>>=O}else B["VP8LMapColor"+p](P,M,Z,he,V,re,A,j,J)}}function $t(s,o,p,b,x){for(p=o+p;o<p;){var N=s[o++];b[x++]=N>>16&255,b[x++]=N>>8&255,b[x++]=255&N}}function yt(s,o,p,b,x){for(p=o+p;o<p;){var N=s[o++];b[x++]=N>>16&255,b[x++]=N>>8&255,b[x++]=255&N,b[x++]=N>>24&255}}function ct(s,o,p,b,x){for(p=o+p;o<p;){var N=(A=s[o++])>>16&240|A>>12&15,A=240&A|A>>28&15;b[x++]=N,b[x++]=A}}function ut(s,o,p,b,x){for(p=o+p;o<p;){var N=(A=s[o++])>>16&248|A>>13&7,A=A>>5&224|A>>3&31;b[x++]=N,b[x++]=A}}function Bt(s,o,p,b,x){for(p=o+p;o<p;){var N=s[o++];b[x++]=255&N,b[x++]=N>>8&255,b[x++]=N>>16&255}}function ze(s,o,p,b,x,N){if(N==0)for(p=o+p;o<p;)_e(b,((N=s[o++])[0]>>24|N[1]>>8&65280|N[2]<<8&16711680|N[3]<<24)>>>0),x+=32;else r(b,x,s,o,p)}function It(s,o){B[o][0]=B[s+"0"],B[o][1]=B[s+"1"],B[o][2]=B[s+"2"],B[o][3]=B[s+"3"],B[o][4]=B[s+"4"],B[o][5]=B[s+"5"],B[o][6]=B[s+"6"],B[o][7]=B[s+"7"],B[o][8]=B[s+"8"],B[o][9]=B[s+"9"],B[o][10]=B[s+"10"],B[o][11]=B[s+"11"],B[o][12]=B[s+"12"],B[o][13]=B[s+"13"],B[o][14]=B[s+"0"],B[o][15]=B[s+"0"]}function Je(s){return s==To||s==Bo||s==Fa||s==Do}function nt(){this.eb=[],this.size=this.A=this.fb=0}function Dt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ft(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new nt,this.f.kb=new Dt,this.sd=null}function Ve(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Nt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function gi(s){return alert("todo:WebPSamplerProcessPlane"),s.T}function vn(s,o){var p=s.T,b=o.ba.f.RGBA,x=b.eb,N=b.fb+s.ka*b.A,A=Zn[o.ba.S],j=s.y,P=s.O,M=s.f,V=s.N,re=s.ea,O=s.W,J=o.cc,Z=o.dc,he=o.Mc,te=o.Nc,de=s.ka,ge=s.ka+s.T,Ne=s.U,ve=Ne+1>>1;for(de==0?A(j,P,null,null,M,V,re,O,M,V,re,O,x,N,null,null,Ne):(A(o.ec,o.fc,j,P,J,Z,he,te,M,V,re,O,x,N-b.A,x,N,Ne),++p);de+2<ge;de+=2)J=M,Z=V,he=re,te=O,V+=s.Rc,O+=s.Rc,N+=2*b.A,A(j,(P+=2*s.fa)-s.fa,j,P,J,Z,he,te,M,V,re,O,x,N-b.A,x,N,Ne);return P+=s.fa,s.j+ge<s.o?(r(o.ec,o.fc,j,P,Ne),r(o.cc,o.dc,M,V,ve),r(o.Mc,o.Nc,re,O,ve),p--):1&ge||A(j,P,null,null,M,V,re,O,M,V,re,O,x,N+b.A,null,null,Ne),p}function Sr(s,o,p){var b=s.F,x=[s.J];if(b!=null){var N=s.U,A=o.ba.S,j=A==Ea||A==Fa;o=o.ba.f.RGBA;var P=[0],M=s.ka;P[0]=s.T,s.Kb&&(M==0?--P[0]:(--M,x[0]-=s.width),s.j+s.ka+s.T==s.o&&(P[0]=s.o-s.j-M));var V=o.eb;M=o.fb+M*o.A,s=oc(b,x[0],s.width,N,P,V,M+(j?0:3),o.A),e(p==P),s&&Je(A)&&Us(V,M,j,N,P,o.A)}return 0}function dr(s){var o=s.ma,p=o.ba.S,b=11>p,x=p==La||p==Pa||p==Ea||p==Ro||p==12||Je(p);if(o.memory=null,o.Ib=null,o.Jb=null,o.Nd=null,!Is(o.Oa,s,x?11:12))return 0;if(x&&Je(p)&&Ps(),s.da)alert("todo:use_scaling");else{if(b){if(o.Ib=gi,s.Kb){if(p=s.U+1>>1,o.memory=i(s.U+2*p),o.memory==null)return 0;o.ec=o.memory,o.fc=0,o.cc=o.ec,o.dc=o.fc+s.U,o.Mc=o.cc,o.Nc=o.dc+p,o.Ib=vn,Ps()}}else alert("todo:EmitYUV");x&&(o.Jb=Sr,b&&ir())}if(b&&!_c){for(s=0;256>s;++s)Df[s]=89858*(s-128)+Ma>>Ia,Gf[s]=-22014*(s-128)+Ma,Uf[s]=-45773*(s-128),qf[s]=113618*(s-128)+Ma>>Ia;for(s=zs;s<Go;++s)o=76283*(s-16)+Ma>>Ia,zf[s-zs]=gr(o,255),Hf[s-zs]=gr(o+8>>4,15);_c=1}return 1}function Ye(s){var o=s.ma,p=s.U,b=s.T;return e(!(1&s.ka)),0>=p||0>=b?0:(p=o.Ib(s,o),o.Jb!=null&&o.Jb(s,o,p),o.Dc+=p,1)}function Cr(s){s.ma.memory=null}function jr(s,o,p,b){return xe(s,8)!=47?0:(o[0]=xe(s,14)+1,p[0]=xe(s,14)+1,b[0]=xe(s,1),xe(s,3)!=0?0:!s.h)}function Hn(s,o){if(4>s)return s+1;var p=s-2>>1;return(2+(1&s)<<p)+xe(o,p)+1}function Wn(s,o){return 120<o?o-120:1<=(p=((p=kf[o-1])>>4)*s+(8-(15&p)))?p:1;var p}function Gt(s,o,p){var b=q(p),x=s[o+=255&b].g-8;return 0<x&&(K(p,p.u+8),b=q(p),o+=s[o].value,o+=b&(1<<x)-1),K(p,p.u+s[o].g),s[o].value}function hn(s,o,p){return p.g+=s.g,p.value+=s.value<<o>>>0,e(8>=p.g),s.g}function dn(s,o,p){var b=s.xc;return e((o=b==0?0:s.vc[s.md*(p>>b)+(o>>b)])<s.Wb),s.Ya[o]}function bi(s,o,p,b){var x=s.ab,N=s.c*o,A=s.C;o=A+o;var j=p,P=b;for(b=s.Ta,p=s.Ua;0<x--;){var M=s.gc[x],V=A,re=o,O=j,J=P,Z=(P=b,j=p,M.Ea);switch(e(V<re),e(re<=M.nc),M.hc){case 2:Vt(O,J,(re-V)*Z,P,j);break;case 0:var he=V,te=re,de=P,ge=j,Ne=(Me=M).Ea;he==0&&(Os(O,J,null,null,1,de,ge),mt(O,J+1,0,0,Ne-1,de,ge+1),J+=Ne,ge+=Ne,++he);for(var ve=1<<Me.b,Be=ve-1,Le=we(Ne,Me.b),at=Me.K,Me=Me.w+(he>>Me.b)*Le;he<te;){var gt=at,on=Me,ot=1;for(ns(O,J,de,ge-Ne,1,de,ge);ot<Ne;){var Oe=(ot&~Be)+ve;Oe>Ne&&(Oe=Ne),(0,Ts[gt[on++]>>8&15])(O,J+ +ot,de,ge+ot-Ne,Oe-ot,de,ge+ot),ot=Oe}J+=Ne,ge+=Ne,++he&Be||(Me+=Le)}re!=M.nc&&r(P,j-Z,P,j+(re-V-1)*Z,Z);break;case 1:for(Z=O,te=J,Ne=(O=M.Ea)-(ge=O&~(de=(J=1<<M.b)-1)),he=we(O,M.b),ve=M.K,M=M.w+(V>>M.b)*he;V<re;){for(Be=ve,Le=M,at=new He,Me=te+ge,gt=te+O;te<Me;)Re(Be[Le++],at),Bs(at,Z,te,J,P,j),te+=J,j+=J;te<gt&&(Re(Be[Le++],at),Bs(at,Z,te,Ne,P,j),te+=Ne,j+=Ne),++V&de||(M+=he)}break;case 3:if(O==P&&J==j&&0<M.b){for(te=P,O=Z=j+(re-V)*Z-(ge=(re-V)*we(M.Ea,M.b)),J=P,de=j,he=[],ge=(Ne=ge)-1;0<=ge;--ge)he[ge]=J[de+ge];for(ge=Ne-1;0<=ge;--ge)te[O+ge]=he[ge];ka(M,V,re,P,Z,P,j)}else ka(M,V,re,O,J,P,j)}j=b,P=p}P!=p&&r(b,p,j,P,N)}function Vr(s,o){var p=s.V,b=s.Ba+s.c*s.C,x=o-s.C;if(e(o<=s.l.o),e(16>=x),0<x){var N=s.l,A=s.Ta,j=s.Ua,P=N.width;if(bi(s,x,p,b),x=j=[j],e((p=s.C)<(b=o)),e(N.v<N.va),b>N.o&&(b=N.o),p<N.j){var M=N.j-p;p=N.j,x[0]+=M*P}if(p>=b?p=0:(x[0]+=4*N.v,N.ka=p-N.j,N.U=N.va-N.v,N.T=b-p,p=1),p){if(j=j[0],11>(p=s.ca).S){var V=p.f.RGBA,re=(b=p.S,x=N.U,N=N.T,M=V.eb,V.A),O=N;for(V=V.fb+s.Ma*V.A;0<O--;){var J=A,Z=j,he=x,te=M,de=V;switch(b){case ja:Ds(J,Z,he,te,de);break;case La:Qr(J,Z,he,te,de);break;case To:Qr(J,Z,he,te,de),Us(te,de,0,he,1,0);break;case pc:Ei(J,Z,he,te,de);break;case Pa:ze(J,Z,he,te,de,1);break;case Bo:ze(J,Z,he,te,de,1),Us(te,de,0,he,1,0);break;case Ea:ze(J,Z,he,te,de,0);break;case Fa:ze(J,Z,he,te,de,0),Us(te,de,1,he,1,0);break;case Ro:ei(J,Z,he,te,de);break;case Do:ei(J,Z,he,te,de),ac(te,de,he,1,0);break;case mc:ti(J,Z,he,te,de);break;default:e(0)}j+=P,V+=re}s.Ma+=N}else alert("todo:EmitRescaledRowsYUVA");e(s.Ma<=p.height)}}s.C=o,e(s.C<=s.i)}function er(s){var o;if(0<s.ua)return 0;for(o=0;o<s.Wb;++o){var p=s.Ya[o].G,b=s.Ya[o].H;if(0<p[1][b[1]+0].g||0<p[2][b[2]+0].g||0<p[3][b[3]+0].g)return 0}return 1}function pr(s,o,p,b,x,N){if(s.Z!=0){var A=s.qd,j=s.rd;for(e(ii[s.Z]!=null);o<p;++o)ii[s.Z](A,j,b,x,b,x,N),A=b,j=x,x+=N;s.qd=A,s.rd=j}}function tr(s,o){var p=s.l.ma,b=p.Z==0||p.Z==1?s.l.j:s.C;if(b=s.C<b?b:s.C,e(o<=s.l.o),o>b){var x=s.l.width,N=p.ca,A=p.tb+x*b,j=s.V,P=s.Ba+s.c*b,M=s.gc;e(s.ab==1),e(M[0].hc==3),xr(M[0],b,o,j,P,N,A),pr(p,b,o,N,A,x)}s.C=s.Ma=o}function nr(s,o,p,b,x,N,A){var j=s.$/b,P=s.$%b,M=s.m,V=s.s,re=p+s.$,O=re;x=p+b*x;var J=p+b*N,Z=280+V.ua,he=s.Pb?j:16777216,te=0<V.ua?V.Wa:null,de=V.wc,ge=re<J?dn(V,P,j):null;e(s.C<N),e(J<=x);var Ne=!1;e:for(;;){for(;Ne||re<J;){var ve=0;if(j>=he){var Be=re-p;e((he=s).Pb),he.wd=he.m,he.xd=Be,0<he.s.ua&&Se(he.s.Wa,he.s.vb),he=j+Cf}if(P&de||(ge=dn(V,P,j)),e(ge!=null),ge.Qb&&(o[re]=ge.qb,Ne=!0),!Ne)if(ee(M),ge.jc){ve=M,Be=o;var Le=re,at=ge.pd[q(ve)&Pi-1];e(ge.jc),256>at.g?(K(ve,ve.u+at.g),Be[Le]=at.value,ve=0):(K(ve,ve.u+at.g-256),e(256<=at.value),ve=at.value),ve==0&&(Ne=!0)}else ve=Gt(ge.G[0],ge.H[0],M);if(M.h)break;if(Ne||256>ve){if(!Ne)if(ge.nd)o[re]=(ge.qb|ve<<8)>>>0;else{if(ee(M),Ne=Gt(ge.G[1],ge.H[1],M),ee(M),Be=Gt(ge.G[2],ge.H[2],M),Le=Gt(ge.G[3],ge.H[3],M),M.h)break;o[re]=(Le<<24|Ne<<16|ve<<8|Be)>>>0}if(Ne=!1,++re,++P>=b&&(P=0,++j,A!=null&&j<=N&&!(j%16)&&A(s,j),te!=null))for(;O<re;)ve=o[O++],te.X[(506832829*ve&4294967295)>>>te.Mb]=ve}else if(280>ve){if(ve=Hn(ve-256,M),Be=Gt(ge.G[4],ge.H[4],M),ee(M),Be=Wn(b,Be=Hn(Be,M)),M.h)break;if(re-p<Be||x-re<ve)break e;for(Le=0;Le<ve;++Le)o[re+Le]=o[re+Le-Be];for(re+=ve,P+=ve;P>=b;)P-=b,++j,A!=null&&j<=N&&!(j%16)&&A(s,j);if(e(re<=x),P&de&&(ge=dn(V,P,j)),te!=null)for(;O<re;)ve=o[O++],te.X[(506832829*ve&4294967295)>>>te.Mb]=ve}else{if(!(ve<Z))break e;for(Ne=ve-280,e(te!=null);O<re;)ve=o[O++],te.X[(506832829*ve&4294967295)>>>te.Mb]=ve;ve=re,e(!(Ne>>>(Be=te).Xa)),o[ve]=Be.X[Ne],Ne=!0}Ne||e(M.h==$(M))}if(s.Pb&&M.h&&re<x)e(s.m.h),s.a=5,s.m=s.wd,s.$=s.xd,0<s.s.ua&&Se(s.s.vb,s.s.Wa);else{if(M.h)break e;A?.(s,j>N?N:j),s.a=0,s.$=re-p}return 1}return s.a=3,0}function $n(s){e(s!=null),s.vc=null,s.yc=null,s.Ya=null;var o=s.Wa;o!=null&&(o.X=null),s.vb=null,e(s!=null)}function yi(){var s=new Ze;return s==null?null:(s.a=0,s.xb=yc,It("Predictor","VP8LPredictors"),It("Predictor","VP8LPredictors_C"),It("PredictorAdd","VP8LPredictorsAdd"),It("PredictorAdd","VP8LPredictorsAdd_C"),Vt=pt,Bs=it,Ds=$t,Qr=yt,ei=ct,ti=ut,Ei=Bt,B.VP8LMapColor32b=vr,B.VP8LMapColor8b=Rs,s)}function mr(s,o,p,b,x){var N=1,A=[s],j=[o],P=b.m,M=b.s,V=null,re=0;e:for(;;){if(p)for(;N&&xe(P,1);){var O=A,J=j,Z=b,he=1,te=Z.m,de=Z.gc[Z.ab],ge=xe(te,2);if(Z.Oc&1<<ge)N=0;else{switch(Z.Oc|=1<<ge,de.hc=ge,de.Ea=O[0],de.nc=J[0],de.K=[null],++Z.ab,e(4>=Z.ab),ge){case 0:case 1:de.b=xe(te,3)+2,he=mr(we(de.Ea,de.b),we(de.nc,de.b),0,Z,de.K),de.K=de.K[0];break;case 3:var Ne,ve=xe(te,8)+1,Be=16<ve?0:4<ve?1:2<ve?2:3;if(O[0]=we(de.Ea,Be),de.b=Be,Ne=he=mr(ve,1,0,Z,de.K)){var Le,at=ve,Me=de,gt=1<<(8>>Me.b),on=i(gt);if(on==null)Ne=0;else{var ot=Me.K[0],Oe=Me.w;for(on[0]=Me.K[0][0],Le=1;Le<1*at;++Le)on[Le]=$e(ot[Oe+Le],on[Le-1]);for(;Le<4*gt;++Le)on[Le]=0;Me.K[0]=null,Me.K[0]=on,Ne=1}}he=Ne;break;case 2:break;default:e(0)}N=he}}if(A=A[0],j=j[0],N&&xe(P,1)&&!(N=1<=(re=xe(P,4))&&11>=re)){b.a=3;break e}var ke;if(ke=N)t:{var Jt,rt,bt,Rt=b,gn=A,Cn=j,zt=re,xn=p,jn=Rt.m,ln=Rt.s,xt=[null],At=1,Ht=0,kt=Sf[zt];n:for(;;){if(xn&&xe(jn,1)){var bn=xe(jn,3)+2,ar=we(gn,bn),Kt=we(Cn,bn),Pn=ar*Kt;if(!mr(ar,Kt,0,Rt,xt))break n;for(xt=xt[0],ln.xc=bn,Jt=0;Jt<Pn;++Jt){var Lt=xt[Jt]>>8&65535;xt[Jt]=Lt,Lt>=At&&(At=Lt+1)}}if(jn.h)break n;for(rt=0;5>rt;++rt){var cn=gc[rt];!rt&&0<zt&&(cn+=1<<zt),Ht<cn&&(Ht=cn)}var Tn=l(At*kt,U),Ln=At,Bn=l(Ln,oe);if(Bn==null)var Dn=null;else e(65536>=Ln),Dn=Bn;var En=i(Ht);if(Dn==null||En==null||Tn==null){Rt.a=1;break n}var qn=Tn;for(Jt=bt=0;Jt<At;++Jt){var Ot=Dn[Jt],Un=Ot.G,or=Ot.H,Ii=0,Gr=1,yn=0;for(rt=0;5>rt;++rt){cn=gc[rt],Un[rt]=qn,or[rt]=bt,!rt&&0<zt&&(cn+=1<<zt);i:{var Ra,zo=cn,Ta=Rt,Hs=En,Vf=qn,Yf=bt,Ho=0,si=Ta.m,Jf=xe(si,1);if(a(Hs,0,0,zo),Jf){var Kf=xe(si,1)+1,Xf=xe(si,1),Sc=xe(si,Xf==0?1:8);Hs[Sc]=1,Kf==2&&(Hs[Sc=xe(si,8)]=1);var Ba=1}else{var Cc=i(19),jc=xe(si,4)+4;if(19<jc){Ta.a=3;var Da=0;break i}for(Ra=0;Ra<jc;++Ra)Cc[Af[Ra]]=xe(si,3);var Wo=void 0,Ws=void 0,Lc=Ta,Zf=Cc,qa=zo,Pc=Hs,$o=0,ai=Lc.m,Ec=8,Fc=l(128,U);r:for(;_(Fc,0,7,Zf,19);){if(xe(ai,1)){var Qf=2+2*xe(ai,3);if((Wo=2+xe(ai,Qf))>qa)break r}else Wo=qa;for(Ws=0;Ws<qa&&Wo--;){ee(ai);var Ic=Fc[0+(127&q(ai))];K(ai,ai.u+Ic.g);var is=Ic.value;if(16>is)Pc[Ws++]=is,is!=0&&(Ec=is);else{var ed=is==16,Mc=is-16,td=Nf[Mc],Oc=xe(ai,wf[Mc])+td;if(Ws+Oc>qa)break r;for(var nd=ed?Ec:0;0<Oc--;)Pc[Ws++]=nd}}$o=1;break r}$o||(Lc.a=3),Ba=$o}(Ba=Ba&&!si.h)&&(Ho=_(Vf,Yf,8,Hs,zo)),Ba&&Ho!=0?Da=Ho:(Ta.a=3,Da=0)}if(Da==0)break n;if(Gr&&_f[rt]==1&&(Gr=qn[bt].g==0),Ii+=qn[bt].g,bt+=Da,3>=rt){var $s,Vo=En[0];for($s=1;$s<cn;++$s)En[$s]>Vo&&(Vo=En[$s]);yn+=Vo}}if(Ot.nd=Gr,Ot.Qb=0,Gr&&(Ot.qb=(Un[3][or[3]+0].value<<24|Un[1][or[1]+0].value<<16|Un[2][or[2]+0].value)>>>0,Ii==0&&256>Un[0][or[0]+0].value&&(Ot.Qb=1,Ot.qb+=Un[0][or[0]+0].value<<8)),Ot.jc=!Ot.Qb&&6>yn,Ot.jc){var Ua,zr=Ot;for(Ua=0;Ua<Pi;++Ua){var oi=Ua,li=zr.pd[oi],Ga=zr.G[0][zr.H[0]+oi];256<=Ga.value?(li.g=Ga.g+256,li.value=Ga.value):(li.g=0,li.value=0,oi>>=hn(Ga,8,li),oi>>=hn(zr.G[1][zr.H[1]+oi],16,li),oi>>=hn(zr.G[2][zr.H[2]+oi],0,li),hn(zr.G[3][zr.H[3]+oi],24,li))}}}ln.vc=xt,ln.Wb=At,ln.Ya=Dn,ln.yc=Tn,ke=1;break t}ke=0}if(!(N=ke)){b.a=3;break e}if(0<re){if(M.ua=1<<re,!I(M.Wa,re)){b.a=1,N=0;break e}}else M.ua=0;var Yo=b,Rc=A,rd=j,Jo=Yo.s,Ko=Jo.xc;if(Yo.c=Rc,Yo.i=rd,Jo.md=we(Rc,Ko),Jo.wc=Ko==0?-1:(1<<Ko)-1,p){b.xb=Mf;break e}if((V=i(A*j))==null){b.a=1,N=0;break e}N=(N=nr(b,V,0,A,j,j,null))&&!P.h;break e}return N?(x!=null?x[0]=V:(e(V==null),e(p)),b.$=0,p||$n(M)):$n(M),N}function vi(s,o){var p=s.c*s.i,b=p+o+16*o;return e(s.c<=o),s.V=i(b),s.V==null?(s.Ta=null,s.Ua=0,s.a=1,0):(s.Ta=s.V,s.Ua=s.Ba+p+o,1)}function $i(s,o){var p=s.C,b=o-p,x=s.V,N=s.Ba+s.c*p;for(e(o<=s.l.o);0<b;){var A=16<b?16:b,j=s.l.ma,P=s.l.width,M=P*A,V=j.ca,re=j.tb+P*p,O=s.Ta,J=s.Ua;bi(s,A,x,N),lc(O,J,V,re,M),pr(j,p,p+A,V,re,P),b-=A,x+=A*s.c,p+=A}e(p==o),s.C=s.Ma=o}function Vi(){this.ub=this.yd=this.td=this.Rb=0}function Yi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vo(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function vs(){this.Yb=(function(){var s=[];return(function o(p,b,x){for(var N=x[b],A=0;A<N&&(p.push(x.length>b+1?[]:0),!(x.length<b+1));A++)o(p[A],b+1,x)})(s,0,[3,11]),s})()}function oa(){this.jb=i(3),this.Wc=c([4,8],vs),this.Xc=c([4,17],vs)}function la(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Vn(){this.ld=this.La=this.dd=this.tc=0}function xs(){this.Na=this.la=0}function ca(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ws(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ua(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vn),this.Y=0,this.ya=Array(new ws),this.aa=0,this.l=new Ji}function ha(){this.y=i(16),this.f=i(8),this.ea=i(8)}function fa(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new Vi,this.Kc=new Yi,this.ed=new la,this.Qa=new vo,this.Ic=this.$c=this.Aa=0,this.D=new ua,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,k),this.ia=0,this.pb=l(4,ca),this.Pa=new oa,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ha),this.Hd=0,this.rb=Array(new xs),this.sb=0,this.wa=Array(new Vn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ws),this.L=this.aa=0,this.gd=c([4,2],Vn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function gr(s,o){return 0>s?0:s>o?o:s}function Ji(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xo(){var s=new fa;return s!=null&&(s.a=0,s.sc="OK",s.cb=0,s.Xb=0,Gs||(Gs=Ki)),s}function en(s,o,p){return s.a==0&&(s.a=o,s.sc=p,s.cb=0),0}function da(s,o,p){return 3<=p&&s[o+0]==157&&s[o+1]==1&&s[o+2]==42}function br(s,o){if(s==null)return 0;if(s.a=0,s.sc="OK",o==null)return en(s,2,"null VP8Io passed to VP8GetHeaders()");var p=o.data,b=o.w,x=o.ha;if(4>x)return en(s,7,"Truncated header.");var N=p[b+0]|p[b+1]<<8|p[b+2]<<16,A=s.Od;if(A.Rb=!(1&N),A.td=N>>1&7,A.yd=N>>4&1,A.ub=N>>5,3<A.td)return en(s,3,"Incorrect keyframe parameters.");if(!A.yd)return en(s,4,"Frame not displayable.");b+=3,x-=3;var j=s.Kc;if(A.Rb){if(7>x)return en(s,7,"cannot parse picture header");if(!da(p,b,x))return en(s,3,"Bad code word");j.c=16383&(p[b+4]<<8|p[b+3]),j.Td=p[b+4]>>6,j.i=16383&(p[b+6]<<8|p[b+5]),j.Ud=p[b+6]>>6,b+=7,x-=7,s.za=j.c+15>>4,s.Ub=j.i+15>>4,o.width=j.c,o.height=j.i,o.Da=0,o.j=0,o.v=0,o.va=o.width,o.o=o.height,o.da=0,o.ib=o.width,o.hb=o.height,o.U=o.width,o.T=o.height,a((N=s.Pa).jb,0,255,N.jb.length),e((N=s.Qa)!=null),N.Cb=0,N.Bb=0,N.Fb=1,a(N.Zb,0,0,N.Zb.length),a(N.Lb,0,0,N.Lb)}if(A.ub>x)return en(s,7,"bad partition length");ue(N=s.m,p,b,A.ub),b+=A.ub,x-=A.ub,A.Rb&&(j.Ld=ce(N),j.Kd=ce(N)),j=s.Qa;var P,M=s.Pa;if(e(N!=null),e(j!=null),j.Cb=ce(N),j.Cb){if(j.Bb=ce(N),ce(N)){for(j.Fb=ce(N),P=0;4>P;++P)j.Zb[P]=ce(N)?ie(N,7):0;for(P=0;4>P;++P)j.Lb[P]=ce(N)?ie(N,6):0}if(j.Bb)for(P=0;3>P;++P)M.jb[P]=ce(N)?fe(N,8):255}else j.Bb=0;if(N.Ka)return en(s,3,"cannot parse segment header");if((j=s.ed).zd=ce(N),j.Tb=fe(N,6),j.wb=fe(N,3),j.Pc=ce(N),j.Pc&&ce(N)){for(M=0;4>M;++M)ce(N)&&(j.vd[M]=ie(N,6));for(M=0;4>M;++M)ce(N)&&(j.od[M]=ie(N,6))}if(s.L=j.Tb==0?0:j.zd?1:2,N.Ka)return en(s,3,"cannot parse filter header");var V=x;if(x=P=b,b=P+V,j=V,s.Xb=(1<<fe(s.m,2))-1,V<3*(M=s.Xb))p=7;else{for(P+=3*M,j-=3*M,V=0;V<M;++V){var re=p[x+0]|p[x+1]<<8|p[x+2]<<16;re>j&&(re=j),ue(s.Jc[+V],p,P,re),P+=re,j-=re,x+=3}ue(s.Jc[+M],p,P,j),p=P<b?0:5}if(p!=0)return en(s,p,"cannot parse partitions");for(p=fe(P=s.m,7),x=ce(P)?ie(P,4):0,b=ce(P)?ie(P,4):0,j=ce(P)?ie(P,4):0,M=ce(P)?ie(P,4):0,P=ce(P)?ie(P,4):0,V=s.Qa,re=0;4>re;++re){if(V.Cb){var O=V.Zb[re];V.Fb||(O+=p)}else{if(0<re){s.pb[re]=s.pb[0];continue}O=p}var J=s.pb[re];J.Sc[0]=qo[gr(O+x,127)],J.Sc[1]=Uo[gr(O+0,127)],J.Eb[0]=2*qo[gr(O+b,127)],J.Eb[1]=101581*Uo[gr(O+j,127)]>>16,8>J.Eb[1]&&(J.Eb[1]=8),J.Qc[0]=qo[gr(O+M,117)],J.Qc[1]=Uo[gr(O+P,127)],J.lc=O+P}if(!A.Rb)return en(s,4,"Not a key frame.");for(ce(N),A=s.Pa,p=0;4>p;++p){for(x=0;8>x;++x)for(b=0;3>b;++b)for(j=0;11>j;++j)M=be(N,Ff[p][x][b][j])?fe(N,8):Pf[p][x][b][j],A.Wc[p][x].Yb[b][j]=M;for(x=0;17>x;++x)A.Xc[p][x]=A.Wc[p][If[x]]}return s.kc=ce(N),s.kc&&(s.Bd=fe(N,8)),s.cb=1}function Ki(s,o,p,b,x,N,A){var j=o[x].Yb[p];for(p=0;16>x;++x){if(!be(s,j[p+0]))return x;for(;!be(s,j[p+1]);)if(j=o[++x].Yb[0],p=0,x==16)return 16;var P=o[x+1].Yb;if(be(s,j[p+2])){var M=s,V=0;if(be(M,(O=j)[(re=p)+3]))if(be(M,O[re+6])){for(j=0,re=2*(V=be(M,O[re+8]))+(O=be(M,O[re+9+V])),V=0,O=jf[re];O[j];++j)V+=V+be(M,O[j]);V+=3+(8<<re)}else be(M,O[re+7])?(V=7+2*be(M,165),V+=be(M,145)):V=5+be(M,159);else V=be(M,O[re+4])?3+be(M,O[re+5]):2;j=P[2]}else V=1,j=P[1];P=A+Lf[x],0>(M=s).b&&le(M);var re,O=M.b,J=(re=M.Ca>>1)-(M.I>>O)>>31;--M.b,M.Ca+=J,M.Ca|=1,M.I-=(re+1&J)<<O,N[P]=((V^J)-J)*b[(0<x)+0]}return 16}function pa(s){var o=s.rb[s.sb-1];o.la=0,o.Na=0,a(s.zc,0,0,s.zc.length),s.ja=0}function Yn(s,o,p,b,x){x=s[o+p+32*b]+(x>>3),s[o+p+32*b]=-256&x?0>x?0:255:x}function rn(s,o,p,b,x,N){Yn(s,o,0,p,b+x),Yn(s,o,1,p,b+N),Yn(s,o,2,p,b-N),Yn(s,o,3,p,b-x)}function Lr(s){return(20091*s>>16)+s}function ma(s,o,p,b){var x,N=0,A=i(16);for(x=0;4>x;++x){var j=s[o+0]+s[o+8],P=s[o+0]-s[o+8],M=(35468*s[o+4]>>16)-Lr(s[o+12]),V=Lr(s[o+4])+(35468*s[o+12]>>16);A[N+0]=j+V,A[N+1]=P+M,A[N+2]=P-M,A[N+3]=j-V,N+=4,o++}for(x=N=0;4>x;++x)j=(s=A[N+0]+4)+A[N+8],P=s-A[N+8],M=(35468*A[N+4]>>16)-Lr(A[N+12]),Yn(p,b,0,0,j+(V=Lr(A[N+4])+(35468*A[N+12]>>16))),Yn(p,b,1,0,P+M),Yn(p,b,2,0,P-M),Yn(p,b,3,0,j-V),N++,b+=32}function wo(s,o,p,b){var x=s[o+0]+4,N=35468*s[o+4]>>16,A=Lr(s[o+4]),j=35468*s[o+1]>>16;rn(p,b,0,x+A,s=Lr(s[o+1]),j),rn(p,b,1,x+N,s,j),rn(p,b,2,x-N,s,j),rn(p,b,3,x-A,s,j)}function No(s,o,p,b,x){ma(s,o,p,b),x&&ma(s,o+16,p,b+4)}function yr(s,o,p,b){Fi(s,o+0,p,b,1),Fi(s,o+32,p,b+128,1)}function ga(s,o,p,b){var x;for(s=s[o+0]+4,x=0;4>x;++x)for(o=0;4>o;++o)Yn(p,b,o,x,s)}function ba(s,o,p,b){s[o+0]&&_t(s,o+0,p,b),s[o+16]&&_t(s,o+16,p,b+4),s[o+32]&&_t(s,o+32,p,b+128),s[o+48]&&_t(s,o+48,p,b+128+4)}function Xi(s,o,p,b){var x,N=i(16);for(x=0;4>x;++x){var A=s[o+0+x]+s[o+12+x],j=s[o+4+x]+s[o+8+x],P=s[o+4+x]-s[o+8+x],M=s[o+0+x]-s[o+12+x];N[0+x]=A+j,N[8+x]=A-j,N[4+x]=M+P,N[12+x]=M-P}for(x=0;4>x;++x)A=(s=N[0+4*x]+3)+N[3+4*x],j=N[1+4*x]+N[2+4*x],P=N[1+4*x]-N[2+4*x],M=s-N[3+4*x],p[b+0]=A+j>>3,p[b+16]=M+P>>3,p[b+32]=A-j>>3,p[b+48]=M-P>>3,b+=64}function xi(s,o,p){var b,x=o-32,N=Rn,A=255-s[x-1];for(b=0;b<p;++b){var j,P=N,M=A+s[o-1];for(j=0;j<p;++j)s[o+j]=P[M+s[x+j]];o+=32}}function _o(s,o){xi(s,o,4)}function Ao(s,o){xi(s,o,8)}function ko(s,o){xi(s,o,16)}function Ns(s,o){var p;for(p=0;16>p;++p)r(s,o+32*p,s,o-32,16)}function ya(s,o){var p;for(p=16;0<p;--p)a(s,o,s[o-1],16),o+=32}function rr(s,o,p){var b;for(b=0;16>b;++b)a(o,p+32*b,s,16)}function So(s,o){var p,b=16;for(p=0;16>p;++p)b+=s[o-1+32*p]+s[o+p-32];rr(b>>5,s,o)}function wi(s,o){var p,b=8;for(p=0;16>p;++p)b+=s[o-1+32*p];rr(b>>4,s,o)}function _s(s,o){var p,b=8;for(p=0;16>p;++p)b+=s[o+p-32];rr(b>>4,s,o)}function Co(s,o){rr(128,s,o)}function Qe(s,o,p){return s+2*o+p+2>>2}function jo(s,o){var p,b=o-32;for(b=new Uint8Array([Qe(s[b-1],s[b+0],s[b+1]),Qe(s[b+0],s[b+1],s[b+2]),Qe(s[b+1],s[b+2],s[b+3]),Qe(s[b+2],s[b+3],s[b+4])]),p=0;4>p;++p)r(s,o+32*p,b,0,b.length)}function Lo(s,o){var p=s[o-1],b=s[o-1+32],x=s[o-1+64],N=s[o-1+96];_e(s,o+0,16843009*Qe(s[o-1-32],p,b)),_e(s,o+32,16843009*Qe(p,b,x)),_e(s,o+64,16843009*Qe(b,x,N)),_e(s,o+96,16843009*Qe(x,N,N))}function Po(s,o){var p,b=4;for(p=0;4>p;++p)b+=s[o+p-32]+s[o-1+32*p];for(b>>=3,p=0;4>p;++p)a(s,o+32*p,b,4)}function Pr(s,o){var p=s[o-1+0],b=s[o-1+32],x=s[o-1+64],N=s[o-1-32],A=s[o+0-32],j=s[o+1-32],P=s[o+2-32],M=s[o+3-32];s[o+0+96]=Qe(b,x,s[o-1+96]),s[o+1+96]=s[o+0+64]=Qe(p,b,x),s[o+2+96]=s[o+1+64]=s[o+0+32]=Qe(N,p,b),s[o+3+96]=s[o+2+64]=s[o+1+32]=s[o+0+0]=Qe(A,N,p),s[o+3+64]=s[o+2+32]=s[o+1+0]=Qe(j,A,N),s[o+3+32]=s[o+2+0]=Qe(P,j,A),s[o+3+0]=Qe(M,P,j)}function Er(s,o){var p=s[o+1-32],b=s[o+2-32],x=s[o+3-32],N=s[o+4-32],A=s[o+5-32],j=s[o+6-32],P=s[o+7-32];s[o+0+0]=Qe(s[o+0-32],p,b),s[o+1+0]=s[o+0+32]=Qe(p,b,x),s[o+2+0]=s[o+1+32]=s[o+0+64]=Qe(b,x,N),s[o+3+0]=s[o+2+32]=s[o+1+64]=s[o+0+96]=Qe(x,N,A),s[o+3+32]=s[o+2+64]=s[o+1+96]=Qe(N,A,j),s[o+3+64]=s[o+2+96]=Qe(A,j,P),s[o+3+96]=Qe(j,P,P)}function Eo(s,o){var p=s[o-1+0],b=s[o-1+32],x=s[o-1+64],N=s[o-1-32],A=s[o+0-32],j=s[o+1-32],P=s[o+2-32],M=s[o+3-32];s[o+0+0]=s[o+1+64]=N+A+1>>1,s[o+1+0]=s[o+2+64]=A+j+1>>1,s[o+2+0]=s[o+3+64]=j+P+1>>1,s[o+3+0]=P+M+1>>1,s[o+0+96]=Qe(x,b,p),s[o+0+64]=Qe(b,p,N),s[o+0+32]=s[o+1+96]=Qe(p,N,A),s[o+1+32]=s[o+2+96]=Qe(N,A,j),s[o+2+32]=s[o+3+96]=Qe(A,j,P),s[o+3+32]=Qe(j,P,M)}function Fo(s,o){var p=s[o+0-32],b=s[o+1-32],x=s[o+2-32],N=s[o+3-32],A=s[o+4-32],j=s[o+5-32],P=s[o+6-32],M=s[o+7-32];s[o+0+0]=p+b+1>>1,s[o+1+0]=s[o+0+64]=b+x+1>>1,s[o+2+0]=s[o+1+64]=x+N+1>>1,s[o+3+0]=s[o+2+64]=N+A+1>>1,s[o+0+32]=Qe(p,b,x),s[o+1+32]=s[o+0+96]=Qe(b,x,N),s[o+2+32]=s[o+1+96]=Qe(x,N,A),s[o+3+32]=s[o+2+96]=Qe(N,A,j),s[o+3+64]=Qe(A,j,P),s[o+3+96]=Qe(j,P,M)}function Zi(s,o){var p=s[o-1+0],b=s[o-1+32],x=s[o-1+64],N=s[o-1+96];s[o+0+0]=p+b+1>>1,s[o+2+0]=s[o+0+32]=b+x+1>>1,s[o+2+32]=s[o+0+64]=x+N+1>>1,s[o+1+0]=Qe(p,b,x),s[o+3+0]=s[o+1+32]=Qe(b,x,N),s[o+3+32]=s[o+1+64]=Qe(x,N,N),s[o+3+64]=s[o+2+64]=s[o+0+96]=s[o+1+96]=s[o+2+96]=s[o+3+96]=N}function As(s,o){var p=s[o-1+0],b=s[o-1+32],x=s[o-1+64],N=s[o-1+96],A=s[o-1-32],j=s[o+0-32],P=s[o+1-32],M=s[o+2-32];s[o+0+0]=s[o+2+32]=p+A+1>>1,s[o+0+32]=s[o+2+64]=b+p+1>>1,s[o+0+64]=s[o+2+96]=x+b+1>>1,s[o+0+96]=N+x+1>>1,s[o+3+0]=Qe(j,P,M),s[o+2+0]=Qe(A,j,P),s[o+1+0]=s[o+3+32]=Qe(p,A,j),s[o+1+32]=s[o+3+64]=Qe(b,p,A),s[o+1+64]=s[o+3+96]=Qe(x,b,p),s[o+1+96]=Qe(N,x,b)}function Ni(s,o){var p;for(p=0;8>p;++p)r(s,o+32*p,s,o-32,8)}function Io(s,o){var p;for(p=0;8>p;++p)a(s,o,s[o-1],8),o+=32}function Fr(s,o,p){var b;for(b=0;8>b;++b)a(o,p+32*b,s,8)}function Mo(s,o){var p,b=8;for(p=0;8>p;++p)b+=s[o+p-32]+s[o-1+32*p];Fr(b>>4,s,o)}function ks(s,o){var p,b=4;for(p=0;8>p;++p)b+=s[o+p-32];Fr(b>>3,s,o)}function Ss(s,o){var p,b=4;for(p=0;8>p;++p)b+=s[o-1+32*p];Fr(b>>3,s,o)}function va(s,o){Fr(128,s,o)}function Ir(s,o,p){var b=s[o-p],x=s[o+0],N=3*(x-b)+Oo[1020+s[o-2*p]-s[o+p]],A=Ca[112+(N+4>>3)];s[o-p]=Rn[255+b+Ca[112+(N+3>>3)]],s[o+0]=Rn[255+x-A]}function Cs(s,o,p,b){var x=s[o+0],N=s[o+p];return Xn[255+s[o-2*p]-s[o-p]]>b||Xn[255+N-x]>b}function Qi(s,o,p,b){return 4*Xn[255+s[o-p]-s[o+0]]+Xn[255+s[o-2*p]-s[o+p]]<=b}function js(s,o,p,b,x){var N=s[o-3*p],A=s[o-2*p],j=s[o-p],P=s[o+0],M=s[o+p],V=s[o+2*p],re=s[o+3*p];return 4*Xn[255+j-P]+Xn[255+A-M]>b?0:Xn[255+s[o-4*p]-N]<=x&&Xn[255+N-A]<=x&&Xn[255+A-j]<=x&&Xn[255+re-V]<=x&&Xn[255+V-M]<=x&&Xn[255+M-P]<=x}function _i(s,o,p,b){var x=2*b+1;for(b=0;16>b;++b)Qi(s,o+b,p,x)&&Ir(s,o+b,p)}function Ls(s,o,p,b){var x=2*b+1;for(b=0;16>b;++b)Qi(s,o+b*p,1,x)&&Ir(s,o+b*p,1)}function xa(s,o,p,b){var x;for(x=3;0<x;--x)_i(s,o+=4*p,p,b)}function wa(s,o,p,b){var x;for(x=3;0<x;--x)Ls(s,o+=4,p,b)}function Mr(s,o,p,b,x,N,A,j){for(N=2*N+1;0<x--;){if(js(s,o,p,N,A))if(Cs(s,o,p,j))Ir(s,o,p);else{var P=s,M=o,V=p,re=P[M-2*V],O=P[M-V],J=P[M+0],Z=P[M+V],he=P[M+2*V],te=27*(ge=Oo[1020+3*(J-O)+Oo[1020+re-Z]])+63>>7,de=18*ge+63>>7,ge=9*ge+63>>7;P[M-3*V]=Rn[255+P[M-3*V]+ge],P[M-2*V]=Rn[255+re+de],P[M-V]=Rn[255+O+te],P[M+0]=Rn[255+J-te],P[M+V]=Rn[255+Z-de],P[M+2*V]=Rn[255+he-ge]}o+=b}}function Or(s,o,p,b,x,N,A,j){for(N=2*N+1;0<x--;){if(js(s,o,p,N,A))if(Cs(s,o,p,j))Ir(s,o,p);else{var P=s,M=o,V=p,re=P[M-V],O=P[M+0],J=P[M+V],Z=Ca[112+(4+(he=3*(O-re))>>3)],he=Ca[112+(he+3>>3)],te=Z+1>>1;P[M-2*V]=Rn[255+P[M-2*V]+te],P[M-V]=Rn[255+re+he],P[M+0]=Rn[255+O-Z],P[M+V]=Rn[255+J-te]}o+=b}}function Na(s,o,p,b,x,N){Mr(s,o,p,1,16,b,x,N)}function Ai(s,o,p,b,x,N){Mr(s,o,1,p,16,b,x,N)}function _a(s,o,p,b,x,N){var A;for(A=3;0<A;--A)Or(s,o+=4*p,p,1,16,b,x,N)}function f(s,o,p,b,x,N){var A;for(A=3;0<A;--A)Or(s,o+=4,1,p,16,b,x,N)}function v(s,o,p,b,x,N,A,j){Mr(s,o,x,1,8,N,A,j),Mr(p,b,x,1,8,N,A,j)}function R(s,o,p,b,x,N,A,j){Mr(s,o,1,x,8,N,A,j),Mr(p,b,1,x,8,N,A,j)}function H(s,o,p,b,x,N,A,j){Or(s,o+4*x,x,1,8,N,A,j),Or(p,b+4*x,x,1,8,N,A,j)}function X(s,o,p,b,x,N,A,j){Or(s,o+4,1,x,8,N,A,j),Or(p,b+4,1,x,8,N,A,j)}function me(){this.ba=new ft,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Nt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ye(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Te(){this.ua=0,this.Wa=new lt,this.vb=new lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new U}function Ze(){this.xb=this.a=0,this.l=new Ji,this.ca=new ft,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Te,this.ab=0,this.gc=l(4,Fe),this.Oc=0}function st(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ji,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vt(s,o,p,b,x,N,A){for(s=s==null?0:s[o+0],o=0;o<A;++o)x[N+o]=s+p[b+o]&255,s=x[N+o]}function Ut(s,o,p,b,x,N,A){var j;if(s==null)vt(null,null,p,b,x,N,A);else for(j=0;j<A;++j)x[N+j]=s[o+j]+p[b+j]&255}function tn(s,o,p,b,x,N,A){if(s==null)vt(null,null,p,b,x,N,A);else{var j,P=s[o+0],M=P,V=P;for(j=0;j<A;++j)M=V+(P=s[o+j])-M,V=p[b+j]+(-256&M?0>M?0:255:M)&255,M=P,x[N+j]=V}}function Mt(s,o,p,b){var x=o.width,N=o.o;if(e(s!=null&&o!=null),0>p||0>=b||p+b>N)return null;if(!s.Cc){if(s.ga==null){var A;if(s.ga=new st,(A=s.ga==null)||(A=o.width*o.o,e(s.Gb.length==0),s.Gb=i(A),s.Uc=0,s.Gb==null?A=0:(s.mb=s.Gb,s.nb=s.Uc,s.rc=null,A=1),A=!A),!A){A=s.ga;var j=s.Fa,P=s.P,M=s.qc,V=s.mb,re=s.nb,O=P+1,J=M-1,Z=A.l;if(e(j!=null&&V!=null&&o!=null),ii[0]=null,ii[1]=vt,ii[2]=Ut,ii[3]=tn,A.ca=V,A.tb=re,A.c=o.width,A.i=o.height,e(0<A.c&&0<A.i),1>=M)o=0;else if(A.$a=3&j[P+0],A.Z=j[P+0]>>2&3,A.Lc=j[P+0]>>4&3,P=j[P+0]>>6&3,0>A.$a||1<A.$a||4<=A.Z||1<A.Lc||P)o=0;else if(Z.put=Ye,Z.ac=dr,Z.bc=Cr,Z.ma=A,Z.width=o.width,Z.height=o.height,Z.Da=o.Da,Z.v=o.v,Z.va=o.va,Z.j=o.j,Z.o=o.o,A.$a)e:{e(A.$a==1),o=yi();t:for(;;){if(o==null){o=0;break e}if(e(A!=null),A.mc=o,o.c=A.c,o.i=A.i,o.l=A.l,o.l.ma=A,o.l.width=A.c,o.l.height=A.i,o.a=0,pe(o.m,j,O,J),!mr(A.c,A.i,1,o,null)||(o.ab==1&&o.gc[0].hc==3&&er(o.s)?(A.ic=1,j=o.c*o.i,o.Ta=null,o.Ua=0,o.V=i(j),o.Ba=0,o.V==null?(o.a=1,o=0):o=1):(A.ic=0,o=vi(o,A.c)),!o))break t;o=1;break e}A.mc=null,o=0}else o=J>=A.c*A.i;A=!o}if(A)return null;s.ga.Lc!=1?s.Ga=0:b=N-p}e(s.ga!=null),e(p+b<=N);e:{if(o=(j=s.ga).c,N=j.l.o,j.$a==0){if(O=s.rc,J=s.Vc,Z=s.Fa,P=s.P+1+p*o,M=s.mb,V=s.nb+p*o,e(P<=s.P+s.qc),j.Z!=0)for(e(ii[j.Z]!=null),A=0;A<b;++A)ii[j.Z](O,J,Z,P,M,V,o),O=M,J=V,V+=o,P+=o;else for(A=0;A<b;++A)r(M,V,Z,P,o),O=M,J=V,V+=o,P+=o;s.rc=O,s.Vc=J}else{if(e(j.mc!=null),o=p+b,e((A=j.mc)!=null),e(o<=A.i),A.C>=o)o=1;else if(j.ic||ir(),j.ic){j=A.V,O=A.Ba,J=A.c;var he=A.i,te=(Z=1,P=A.$/J,M=A.$%J,V=A.m,re=A.s,A.$),de=J*he,ge=J*o,Ne=re.wc,ve=te<ge?dn(re,M,P):null;e(te<=de),e(o<=he),e(er(re));t:for(;;){for(;!V.h&&te<ge;){if(M&Ne||(ve=dn(re,M,P)),e(ve!=null),ee(V),256>(he=Gt(ve.G[0],ve.H[0],V)))j[O+te]=he,++te,++M>=J&&(M=0,++P<=o&&!(P%16)&&tr(A,P));else{if(!(280>he)){Z=0;break t}he=Hn(he-256,V);var Be,Le=Gt(ve.G[4],ve.H[4],V);if(ee(V),!(te>=(Le=Wn(J,Le=Hn(Le,V)))&&de-te>=he)){Z=0;break t}for(Be=0;Be<he;++Be)j[O+te+Be]=j[O+te+Be-Le];for(te+=he,M+=he;M>=J;)M-=J,++P<=o&&!(P%16)&&tr(A,P);te<ge&&M&Ne&&(ve=dn(re,M,P))}e(V.h==$(V))}tr(A,P>o?o:P);break t}!Z||V.h&&te<de?(Z=0,A.a=V.h?5:3):A.$=te,o=Z}else o=nr(A,A.V,A.Ba,A.c,A.i,o,$i);if(!o){b=0;break e}}p+b>=N&&(s.Cc=1),b=1}if(!b)return null;if(s.Cc&&((b=s.ga)!=null&&(b.mc=null),s.ga=null,0<s.Ga))return alert("todo:WebPDequantizeLevels"),null}return s.nb+p*x}function sn(s,o,p,b,x,N){for(;0<x--;){var A,j=s,P=o+(p?1:0),M=s,V=o+(p?0:3);for(A=0;A<b;++A){var re=M[V+4*A];re!=255&&(re*=32897,j[P+4*A+0]=j[P+4*A+0]*re>>23,j[P+4*A+1]=j[P+4*A+1]*re>>23,j[P+4*A+2]=j[P+4*A+2]*re>>23)}o+=N}}function nn(s,o,p,b,x){for(;0<b--;){var N;for(N=0;N<p;++N){var A=s[o+2*N+0],j=15&(M=s[o+2*N+1]),P=4369*j,M=(240&M|M>>4)*P>>16;s[o+2*N+0]=(240&A|A>>4)*P>>16&240|(15&A|A<<4)*P>>16>>4&15,s[o+2*N+1]=240&M|j}o+=x}}function pn(s,o,p,b,x,N,A,j){var P,M,V=255;for(M=0;M<x;++M){for(P=0;P<b;++P){var re=s[o+P];N[A+4*P]=re,V&=re}o+=p,A+=j}return V!=255}function Rr(s,o,p,b,x){var N;for(N=0;N<x;++N)p[b+N]=s[o+N]>>8}function ir(){Us=sn,ac=nn,oc=pn,lc=Rr}function Tr(s,o,p){B[s]=function(b,x,N,A,j,P,M,V,re,O,J,Z,he,te,de,ge,Ne){var ve,Be=Ne-1>>1,Le=j[P+0]|M[V+0]<<16,at=re[O+0]|J[Z+0]<<16;e(b!=null);var Me=3*Le+at+131074>>2;for(o(b[x+0],255&Me,Me>>16,he,te),N!=null&&(Me=3*at+Le+131074>>2,o(N[A+0],255&Me,Me>>16,de,ge)),ve=1;ve<=Be;++ve){var gt=j[P+ve]|M[V+ve]<<16,on=re[O+ve]|J[Z+ve]<<16,ot=Le+gt+at+on+524296,Oe=ot+2*(gt+at)>>3;Me=Oe+Le>>1,Le=(ot=ot+2*(Le+on)>>3)+gt>>1,o(b[x+2*ve-1],255&Me,Me>>16,he,te+(2*ve-1)*p),o(b[x+2*ve-0],255&Le,Le>>16,he,te+(2*ve-0)*p),N!=null&&(Me=ot+at>>1,Le=Oe+on>>1,o(N[A+2*ve-1],255&Me,Me>>16,de,ge+(2*ve-1)*p),o(N[A+2*ve+0],255&Le,Le>>16,de,ge+(2*ve+0)*p)),Le=gt,at=on}1&Ne||(Me=3*Le+at+131074>>2,o(b[x+Ne-1],255&Me,Me>>16,he,te+(Ne-1)*p),N!=null&&(Me=3*at+Le+131074>>2,o(N[A+Ne-1],255&Me,Me>>16,de,ge+(Ne-1)*p)))}}function Ps(){Zn[ja]=Of,Zn[La]=vc,Zn[pc]=Rf,Zn[Pa]=xc,Zn[Ea]=wc,Zn[Ro]=Nc,Zn[mc]=Tf,Zn[To]=vc,Zn[Bo]=xc,Zn[Fa]=wc,Zn[Do]=Nc}function es(s){return s&-16384?0>s?0:255:s>>Bf}function Yr(s,o){return es((19077*s>>8)+(26149*o>>8)-14234)}function ki(s,o,p){return es((19077*s>>8)-(6419*o>>8)-(13320*p>>8)+8708)}function Si(s,o){return es((19077*s>>8)+(33050*o>>8)-17685)}function Jr(s,o,p,b,x){b[x+0]=Yr(s,p),b[x+1]=ki(s,o,p),b[x+2]=Si(s,o)}function mn(s,o,p,b,x){b[x+0]=Si(s,o),b[x+1]=ki(s,o,p),b[x+2]=Yr(s,p)}function Ci(s,o,p,b,x){var N=ki(s,o,p);o=N<<3&224|Si(s,o)>>3,b[x+0]=248&Yr(s,p)|N>>5,b[x+1]=o}function ji(s,o,p,b,x){var N=240&Si(s,o)|15;b[x+0]=240&Yr(s,p)|ki(s,o,p)>>4,b[x+1]=N}function Es(s,o,p,b,x){b[x+0]=255,Jr(s,o,p,b,x+1)}function Fs(s,o,p,b,x){mn(s,o,p,b,x),b[x+3]=255}function Sn(s,o,p,b,x){Jr(s,o,p,b,x),b[x+3]=255}function Br(s,o,p){B[s]=function(b,x,N,A,j,P,M,V,re){for(var O=V+(-2&re)*p;V!=O;)o(b[x+0],N[A+0],j[P+0],M,V),o(b[x+1],N[A+0],j[P+0],M,V+p),x+=2,++A,++P,V+=2*p;1&re&&o(b[x+0],N[A+0],j[P+0],M,V)}}function ts(s,o,p){return p==0?s==0?o==0?6:5:o==0?4:0:p}function Aa(s,o,p,b,x){switch(s>>>30){case 3:Fi(o,p,b,x,0);break;case 2:Kn(o,p,b,x);break;case 1:_t(o,p,b,x)}}function Jn(s,o){var p,b,x=o.M,N=o.Nb,A=s.oc,j=s.pc+40,P=s.oc,M=s.pc+584,V=s.oc,re=s.pc+600;for(p=0;16>p;++p)A[j+32*p-1]=129;for(p=0;8>p;++p)P[M+32*p-1]=129,V[re+32*p-1]=129;for(0<x?A[j-1-32]=P[M-1-32]=V[re-1-32]=129:(a(A,j-32-1,127,21),a(P,M-32-1,127,9),a(V,re-32-1,127,9)),b=0;b<s.za;++b){var O=o.ya[o.aa+b];if(0<b){for(p=-1;16>p;++p)r(A,j+32*p-4,A,j+32*p+12,4);for(p=-1;8>p;++p)r(P,M+32*p-4,P,M+32*p+4,4),r(V,re+32*p-4,V,re+32*p+4,4)}var J=s.Gd,Z=s.Hd+b,he=O.ad,te=O.Hc;if(0<x&&(r(A,j-32,J[Z].y,0,16),r(P,M-32,J[Z].f,0,8),r(V,re-32,J[Z].ea,0,8)),O.Za){var de=A,ge=j-32+16;for(0<x&&(b>=s.za-1?a(de,ge,J[Z].y[15],4):r(de,ge,J[Z+1].y,0,4)),p=0;4>p;p++)de[ge+128+p]=de[ge+256+p]=de[ge+384+p]=de[ge+0+p];for(p=0;16>p;++p,te<<=2)de=A,ge=j+Ac[p],sr[O.Ob[p]](de,ge),Aa(te,he,16*+p,de,ge)}else if(de=ts(b,x,O.Ob[0]),ri[de](A,j),te!=0)for(p=0;16>p;++p,te<<=2)Aa(te,he,16*+p,A,j+Ac[p]);for(p=O.Gc,de=ts(b,x,O.Dd),Ur[de](P,M),Ur[de](V,re),te=he,de=P,ge=M,255&(O=0|p)&&(170&O?wr(te,256,de,ge):jt(te,256,de,ge)),O=V,te=re,255&(p>>=8)&&(170&p?wr(he,320,O,te):jt(he,320,O,te)),x<s.Ub-1&&(r(J[Z].y,0,A,j+480,16),r(J[Z].f,0,P,M+224,8),r(J[Z].ea,0,V,re+224,8)),p=8*N*s.B,J=s.sa,Z=s.ta+16*b+16*N*s.R,he=s.qa,O=s.ra+8*b+p,te=s.Ha,de=s.Ia+8*b+p,p=0;16>p;++p)r(J,Z+p*s.R,A,j+32*p,16);for(p=0;8>p;++p)r(he,O+p*s.B,P,M+32*p,8),r(te,de+p*s.B,V,re+32*p,8)}}function Li(s,o,p,b,x,N,A,j,P){var M=[0],V=[0],re=0,O=P!=null?P.kd:0,J=P??new ye;if(s==null||12>p)return 7;J.data=s,J.w=o,J.ha=p,o=[o],p=[p],J.gb=[J.gb];e:{var Z=o,he=p,te=J.gb;if(e(s!=null),e(he!=null),e(te!=null),te[0]=0,12<=he[0]&&!t(s,Z[0],"RIFF")){if(t(s,Z[0]+8,"WEBP")){te=3;break e}var de=Ue(s,Z[0]+4);if(12>de||4294967286<de){te=3;break e}if(O&&de>he[0]-8){te=7;break e}te[0]=de,Z[0]+=12,he[0]-=12}te=0}if(te!=0)return te;for(de=0<J.gb[0],p=p[0];;){e:{var ge=s;he=o,te=p;var Ne=M,ve=V,Be=Z=[0];if((Me=re=[re])[0]=0,8>te[0])te=7;else{if(!t(ge,he[0],"VP8X")){if(Ue(ge,he[0]+4)!=10){te=3;break e}if(18>te[0]){te=7;break e}var Le=Ue(ge,he[0]+8),at=1+Ce(ge,he[0]+12);if(2147483648<=at*(ge=1+Ce(ge,he[0]+15))){te=3;break e}Be!=null&&(Be[0]=Le),Ne!=null&&(Ne[0]=at),ve!=null&&(ve[0]=ge),he[0]+=18,te[0]-=18,Me[0]=1}te=0}}if(re=re[0],Z=Z[0],te!=0)return te;if(he=!!(2&Z),!de&&re)return 3;if(N!=null&&(N[0]=!!(16&Z)),A!=null&&(A[0]=he),j!=null&&(j[0]=0),A=M[0],Z=V[0],re&&he&&P==null){te=0;break}if(4>p){te=7;break}if(de&&re||!de&&!re&&!t(s,o[0],"ALPH")){p=[p],J.na=[J.na],J.P=[J.P],J.Sa=[J.Sa];e:{Le=s,te=o,de=p;var Me=J.gb;Ne=J.na,ve=J.P,Be=J.Sa,at=22,e(Le!=null),e(de!=null),ge=te[0];var gt=de[0];for(e(Ne!=null),e(Be!=null),Ne[0]=null,ve[0]=null,Be[0]=0;;){if(te[0]=ge,de[0]=gt,8>gt){te=7;break e}var on=Ue(Le,ge+4);if(4294967286<on){te=3;break e}var ot=8+on+1&-2;if(at+=ot,0<Me&&at>Me){te=3;break e}if(!t(Le,ge,"VP8 ")||!t(Le,ge,"VP8L")){te=0;break e}if(gt[0]<ot){te=7;break e}t(Le,ge,"ALPH")||(Ne[0]=Le,ve[0]=ge+8,Be[0]=on),ge+=ot,gt-=ot}}if(p=p[0],J.na=J.na[0],J.P=J.P[0],J.Sa=J.Sa[0],te!=0)break}p=[p],J.Ja=[J.Ja],J.xa=[J.xa];e:if(Me=s,te=o,de=p,Ne=J.gb[0],ve=J.Ja,Be=J.xa,Le=te[0],ge=!t(Me,Le,"VP8 "),at=!t(Me,Le,"VP8L"),e(Me!=null),e(de!=null),e(ve!=null),e(Be!=null),8>de[0])te=7;else{if(ge||at){if(Me=Ue(Me,Le+4),12<=Ne&&Me>Ne-12){te=3;break e}if(O&&Me>de[0]-8){te=7;break e}ve[0]=Me,te[0]+=8,de[0]-=8,Be[0]=at}else Be[0]=5<=de[0]&&Me[Le+0]==47&&!(Me[Le+4]>>5),ve[0]=de[0];te=0}if(p=p[0],J.Ja=J.Ja[0],J.xa=J.xa[0],o=o[0],te!=0)break;if(4294967286<J.Ja)return 3;if(j==null||he||(j[0]=J.xa?2:1),A=[A],Z=[Z],J.xa){if(5>p){te=7;break}j=A,O=Z,he=N,s==null||5>p?s=0:5<=p&&s[o+0]==47&&!(s[o+4]>>5)?(de=[0],Me=[0],Ne=[0],pe(ve=new T,s,o,p),jr(ve,de,Me,Ne)?(j!=null&&(j[0]=de[0]),O!=null&&(O[0]=Me[0]),he!=null&&(he[0]=Ne[0]),s=1):s=0):s=0}else{if(10>p){te=7;break}j=Z,s==null||10>p||!da(s,o+3,p-3)?s=0:(O=s[o+0]|s[o+1]<<8|s[o+2]<<16,he=16383&(s[o+7]<<8|s[o+6]),s=16383&(s[o+9]<<8|s[o+8]),1&O||3<(O>>1&7)||!(O>>4&1)||O>>5>=J.Ja||!he||!s?s=0:(A&&(A[0]=he),j&&(j[0]=s),s=1))}if(!s||(A=A[0],Z=Z[0],re&&(M[0]!=A||V[0]!=Z)))return 3;P!=null&&(P[0]=J,P.offset=o-P.w,e(4294967286>o-P.w),e(P.offset==P.ha-p));break}return te==0||te==7&&re&&P==null?(N!=null&&(N[0]|=J.na!=null&&0<J.na.length),b!=null&&(b[0]=A),x!=null&&(x[0]=Z),0):te}function Is(s,o,p){var b=o.width,x=o.height,N=0,A=0,j=b,P=x;if(o.Da=s!=null&&0<s.Da,o.Da&&(j=s.cd,P=s.bd,N=s.v,A=s.j,11>p||(N&=-2,A&=-2),0>N||0>A||0>=j||0>=P||N+j>b||A+P>x))return 0;if(o.v=N,o.j=A,o.va=N+j,o.o=A+P,o.U=j,o.T=P,o.da=s!=null&&0<s.da,o.da){if(!We(j,P,p=[s.ib],N=[s.hb]))return 0;o.ib=p[0],o.hb=N[0]}return o.ob=s!=null&&s.ob,o.Kb=s==null||!s.Sd,o.da&&(o.ob=o.ib<3*b/4&&o.hb<3*x/4,o.Kb=0),1}function Ms(s){if(s==null)return 2;if(11>s.S){var o=s.f.RGBA;o.fb+=(s.height-1)*o.A,o.A=-o.A}else o=s.f.kb,s=s.height,o.O+=(s-1)*o.fa,o.fa=-o.fa,o.N+=(s-1>>1)*o.Ab,o.Ab=-o.Ab,o.W+=(s-1>>1)*o.Db,o.Db=-o.Db,o.F!=null&&(o.J+=(s-1)*o.lb,o.lb=-o.lb);return 0}function Kr(s,o,p,b){if(b==null||0>=s||0>=o)return 2;if(p!=null){if(p.Da){var x=p.cd,N=p.bd,A=-2&p.v,j=-2&p.j;if(0>A||0>j||0>=x||0>=N||A+x>s||j+N>o)return 2;s=x,o=N}if(p.da){if(!We(s,o,x=[p.ib],N=[p.hb]))return 2;s=x[0],o=N[0]}}b.width=s,b.height=o;e:{var P=b.width,M=b.height;if(s=b.S,0>=P||0>=M||!(s>=ja&&13>s))s=2;else{if(0>=b.Rd&&b.sd==null){A=N=x=o=0;var V=(j=P*kc[s])*M;if(11>s||(N=(M+1)/2*(o=(P+1)/2),s==12&&(A=(x=P)*M)),(M=i(V+2*N+A))==null){s=1;break e}b.sd=M,11>s?((P=b.f.RGBA).eb=M,P.fb=0,P.A=j,P.size=V):((P=b.f.kb).y=M,P.O=0,P.fa=j,P.Fd=V,P.f=M,P.N=0+V,P.Ab=o,P.Cd=N,P.ea=M,P.W=0+V+N,P.Db=o,P.Ed=N,s==12&&(P.F=M,P.J=0+V+2*N),P.Tc=A,P.lb=x)}if(o=1,x=b.S,N=b.width,A=b.height,x>=ja&&13>x)if(11>x)s=b.f.RGBA,o&=(j=Math.abs(s.A))*(A-1)+N<=s.size,o&=j>=N*kc[x],o&=s.eb!=null;else{s=b.f.kb,j=(N+1)/2,V=(A+1)/2,P=Math.abs(s.fa),M=Math.abs(s.Ab);var re=Math.abs(s.Db),O=Math.abs(s.lb),J=O*(A-1)+N;o&=P*(A-1)+N<=s.Fd,o&=M*(V-1)+j<=s.Cd,o=(o&=re*(V-1)+j<=s.Ed)&P>=N&M>=j&re>=j,o&=s.y!=null,o&=s.f!=null,o&=s.ea!=null,x==12&&(o&=O>=N,o&=J<=s.Tc,o&=s.F!=null)}else o=0;s=o?0:2}}return s!=0||p!=null&&p.fd&&(s=Ms(b)),s}var Pi=64,Mn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],On=24,Xr=32,Dr=8,Zr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(s){return s},B.Predictor2=function(s,o,p){return o[p+0]},B.Predictor3=function(s,o,p){return o[p+1]},B.Predictor4=function(s,o,p){return o[p-1]},B.Predictor5=function(s,o,p){return Ge(Ge(s,o[p+1]),o[p+0])},B.Predictor6=function(s,o,p){return Ge(s,o[p-1])},B.Predictor7=function(s,o,p){return Ge(s,o[p+0])},B.Predictor8=function(s,o,p){return Ge(o[p-1],o[p+0])},B.Predictor9=function(s,o,p){return Ge(o[p+0],o[p+1])},B.Predictor10=function(s,o,p){return Ge(Ge(s,o[p-1]),Ge(o[p+0],o[p+1]))},B.Predictor11=function(s,o,p){var b=o[p+0];return 0>=tt(b>>24&255,s>>24&255,(o=o[p-1])>>24&255)+tt(b>>16&255,s>>16&255,o>>16&255)+tt(b>>8&255,s>>8&255,o>>8&255)+tt(255&b,255&s,255&o)?b:s},B.Predictor12=function(s,o,p){var b=o[p+0];return(wt((s>>24&255)+(b>>24&255)-((o=o[p-1])>>24&255))<<24|wt((s>>16&255)+(b>>16&255)-(o>>16&255))<<16|wt((s>>8&255)+(b>>8&255)-(o>>8&255))<<8|wt((255&s)+(255&b)-(255&o)))>>>0},B.Predictor13=function(s,o,p){var b=o[p-1];return(dt((s=Ge(s,o[p+0]))>>24&255,b>>24&255)<<24|dt(s>>16&255,b>>16&255)<<16|dt(s>>8&255,b>>8&255)<<8|dt(255&s,255&b))>>>0};var Os=B.PredictorAdd0;B.PredictorAdd1=mt,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var ns=B.PredictorAdd2;qe("ColorIndexInverseTransform","MapARGB","32b",function(s){return s>>8&255},function(s){return s}),qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(s){return s},function(s){return s>>8&255});var Vt,ka=B.ColorIndexInverseTransform,vr=B.MapARGB,xr=B.VP8LColorIndexInverseTransformAlpha,Rs=B.MapAlpha,Ts=B.VP8LPredictorsAdd=[];Ts.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Bs,Ds,Qr,ei,ti,Ei,ni,Fi,Kn,wr,_t,jt,Yt,an,qr,qs,rs,Sa,ec,tc,nc,rc,ic,sc,Us,ac,oc,lc,cc=i(511),uc=i(2041),hc=i(225),fc=i(767),dc=0,Oo=uc,Ca=hc,Rn=fc,Xn=cc,ja=0,La=1,pc=2,Pa=3,Ea=4,Ro=5,mc=6,To=7,Bo=8,Fa=9,Do=10,wf=[2,3,7],Nf=[3,3,11],gc=[280,256,256,256,40],_f=[0,1,1,1,0],Af=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],kf=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Sf=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Cf=8,qo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Uo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Gs=null,jf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Lf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Pf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ef=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ff=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],If=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ri=[],sr=[],Ur=[],Mf=1,yc=2,ii=[],Zn=[];Tr("UpsampleRgbLinePair",Jr,3),Tr("UpsampleBgrLinePair",mn,3),Tr("UpsampleRgbaLinePair",Sn,4),Tr("UpsampleBgraLinePair",Fs,4),Tr("UpsampleArgbLinePair",Es,4),Tr("UpsampleRgba4444LinePair",ji,2),Tr("UpsampleRgb565LinePair",Ci,2);var Of=B.UpsampleRgbLinePair,Rf=B.UpsampleBgrLinePair,vc=B.UpsampleRgbaLinePair,xc=B.UpsampleBgraLinePair,wc=B.UpsampleArgbLinePair,Nc=B.UpsampleRgba4444LinePair,Tf=B.UpsampleRgb565LinePair,Ia=16,Ma=1<<Ia-1,zs=-227,Go=482,Bf=6,_c=0,Df=i(256),qf=i(256),Uf=i(256),Gf=i(256),zf=i(Go-zs),Hf=i(Go-zs);Br("YuvToRgbRow",Jr,3),Br("YuvToBgrRow",mn,3),Br("YuvToRgbaRow",Sn,4),Br("YuvToBgraRow",Fs,4),Br("YuvToArgbRow",Es,4),Br("YuvToRgba4444Row",ji,2),Br("YuvToRgb565Row",Ci,2);var Ac=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Oa=[0,2,8],Wf=[8,7,6,4,4,2,2,2,1,1,1,1],$f=1;this.WebPDecodeRGBA=function(s,o,p,b,x){var N=La,A=new me,j=new ft;A.ba=j,j.S=N,j.width=[j.width],j.height=[j.height];var P=j.width,M=j.height,V=new Ve;if(V==null||s==null)var re=2;else e(V!=null),re=Li(s,o,p,V.width,V.height,V.Pd,V.Qd,V.format,null);if(re!=0?P=0:(P!=null&&(P[0]=V.width[0]),M!=null&&(M[0]=V.height[0]),P=1),P){j.width=j.width[0],j.height=j.height[0],b!=null&&(b[0]=j.width),x!=null&&(x[0]=j.height);e:{if(b=new Ji,(x=new ye).data=s,x.w=o,x.ha=p,x.kd=1,o=[0],e(x!=null),((s=Li(x.data,x.w,x.ha,null,null,null,o,null,x))==0||s==7)&&o[0]&&(s=4),(o=s)==0){if(e(A!=null),b.data=x.data,b.w=x.w+x.offset,b.ha=x.ha-x.offset,b.put=Ye,b.ac=dr,b.bc=Cr,b.ma=A,x.xa){if((s=yi())==null){A=1;break e}if((function(O,J){var Z=[0],he=[0],te=[0];t:for(;;){if(O==null)return 0;if(J==null)return O.a=2,0;if(O.l=J,O.a=0,pe(O.m,J.data,J.w,J.ha),!jr(O.m,Z,he,te)){O.a=3;break t}if(O.xb=yc,J.width=Z[0],J.height=he[0],!mr(Z[0],he[0],1,O,null))break t;return 1}return e(O.a!=0),0})(s,b)){if(b=(o=Kr(b.width,b.height,A.Oa,A.ba))==0){t:{b=s;n:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((p=b.l)!=null),e((x=p.ma)!=null),b.xb!=0){if(b.ca=x.ba,b.tb=x.tb,e(b.ca!=null),!Is(x.Oa,p,Pa)){b.a=2;break n}if(!vi(b,p.width)||p.da)break n;if((p.da||Je(b.ca.S))&&ir(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&ir()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!I(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!nr(b,b.V,b.Ba,b.c,b.i,p.o,Vr))break n;x.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(o=s.a)}else o=s.a}else{if((s=new xo)==null){A=1;break e}if(s.Fa=x.na,s.P=x.P,s.qc=x.Sa,br(s,b)){if((o=Kr(b.width,b.height,A.Oa,A.ba))==0){if(s.Aa=0,p=A.Oa,e((x=s)!=null),p!=null){if(0<(P=0>(P=p.Md)?0:100<P?255:255*P/100)){for(M=V=0;4>M;++M)12>(re=x.pb[M]).lc&&(re.ia=P*Wf[0>re.lc?0:re.lc]>>3),V|=re.ia;V&&(alert("todo:VP8InitRandom"),x.ia=1)}x.Ga=p.Id,100<x.Ga?x.Ga=100:0>x.Ga&&(x.Ga=0)}(function(O,J){if(O==null)return 0;if(J==null)return en(O,2,"NULL VP8Io parameter in VP8Decode().");if(!O.cb&&!br(O,J))return 0;if(e(O.cb),J.ac==null||J.ac(J)){J.ob&&(O.L=0);var Z=Oa[O.L];if(O.L==2?(O.yb=0,O.zb=0):(O.yb=J.v-Z>>4,O.zb=J.j-Z>>4,0>O.yb&&(O.yb=0),0>O.zb&&(O.zb=0)),O.Va=J.o+15+Z>>4,O.Hb=J.va+15+Z>>4,O.Hb>O.za&&(O.Hb=O.za),O.Va>O.Ub&&(O.Va=O.Ub),0<O.L){var he=O.ed;for(Z=0;4>Z;++Z){var te;if(O.Qa.Cb){var de=O.Qa.Lb[Z];O.Qa.Fb||(de+=he.Tb)}else de=he.Tb;for(te=0;1>=te;++te){var ge=O.gd[Z][te],Ne=de;if(he.Pc&&(Ne+=he.vd[0],te&&(Ne+=he.od[0])),0<(Ne=0>Ne?0:63<Ne?63:Ne)){var ve=Ne;0<he.wb&&(ve=4<he.wb?ve>>2:ve>>1)>9-he.wb&&(ve=9-he.wb),1>ve&&(ve=1),ge.dd=ve,ge.tc=2*Ne+ve,ge.ld=40<=Ne?2:15<=Ne?1:0}else ge.tc=0;ge.La=te}}}Z=0}else en(O,6,"Frame setup failed"),Z=O.a;if(Z=Z==0){if(Z){O.$c=0,0<O.Aa||(O.Ic=$f);t:{Z=O.Ic,he=4*(ve=O.za);var Be=32*ve,Le=ve+1,at=0<O.L?ve*(0<O.Aa?2:1):0,Me=(O.Aa==2?2:1)*ve;if((ge=he+832+(te=3*(16*Z+Oa[O.L])/2*Be)+(de=O.Fa!=null&&0<O.Fa.length?O.Kc.c*O.Kc.i:0))!=ge)Z=0;else{if(ge>O.Vb){if(O.Vb=0,O.Ec=i(ge),O.Fc=0,O.Ec==null){Z=en(O,1,"no memory during frame initialization.");break t}O.Vb=ge}ge=O.Ec,Ne=O.Fc,O.Ac=ge,O.Bc=Ne,Ne+=he,O.Gd=l(Be,ha),O.Hd=0,O.rb=l(Le+1,xs),O.sb=1,O.wa=at?l(at,Vn):null,O.Y=0,O.D.Nb=0,O.D.wa=O.wa,O.D.Y=O.Y,0<O.Aa&&(O.D.Y+=ve),e(!0),O.oc=ge,O.pc=Ne,Ne+=832,O.ya=l(Me,ws),O.aa=0,O.D.ya=O.ya,O.D.aa=O.aa,O.Aa==2&&(O.D.aa+=ve),O.R=16*ve,O.B=8*ve,ve=(Be=Oa[O.L])*O.R,Be=Be/2*O.B,O.sa=ge,O.ta=Ne+ve,O.qa=O.sa,O.ra=O.ta+16*Z*O.R+Be,O.Ha=O.qa,O.Ia=O.ra+8*Z*O.B+Be,O.$c=0,Ne+=te,O.mb=de?ge:null,O.nb=de?Ne:null,e(Ne+de<=O.Fc+O.Vb),pa(O),a(O.Ac,O.Bc,0,he),Z=1}}if(Z){if(J.ka=0,J.y=O.sa,J.O=O.ta,J.f=O.qa,J.N=O.ra,J.ea=O.Ha,J.Vd=O.Ia,J.fa=O.R,J.Rc=O.B,J.F=null,J.J=0,!dc){for(Z=-255;255>=Z;++Z)cc[255+Z]=0>Z?-Z:Z;for(Z=-1020;1020>=Z;++Z)uc[1020+Z]=-128>Z?-128:127<Z?127:Z;for(Z=-112;112>=Z;++Z)hc[112+Z]=-16>Z?-16:15<Z?15:Z;for(Z=-255;510>=Z;++Z)fc[255+Z]=0>Z?0:255<Z?255:Z;dc=1}ni=Xi,Fi=No,wr=yr,_t=ga,jt=ba,Kn=wo,Yt=Na,an=Ai,qr=v,qs=R,rs=_a,Sa=f,ec=H,tc=X,nc=_i,rc=Ls,ic=xa,sc=wa,sr[0]=Po,sr[1]=_o,sr[2]=jo,sr[3]=Lo,sr[4]=Pr,sr[5]=Eo,sr[6]=Er,sr[7]=Fo,sr[8]=As,sr[9]=Zi,ri[0]=So,ri[1]=ko,ri[2]=Ns,ri[3]=ya,ri[4]=wi,ri[5]=_s,ri[6]=Co,Ur[0]=Mo,Ur[1]=Ao,Ur[2]=Ni,Ur[3]=Io,Ur[4]=Ss,Ur[5]=ks,Ur[6]=va,Z=1}else Z=0}Z&&(Z=(function(gt,on){for(gt.M=0;gt.M<gt.Va;++gt.M){var ot,Oe=gt.Jc[gt.M&gt.Xb],ke=gt.m,Jt=gt;for(ot=0;ot<Jt.za;++ot){var rt=ke,bt=Jt,Rt=bt.Ac,gn=bt.Bc+4*ot,Cn=bt.zc,zt=bt.ya[bt.aa+ot];if(bt.Qa.Bb?zt.$b=be(rt,bt.Pa.jb[0])?2+be(rt,bt.Pa.jb[2]):be(rt,bt.Pa.jb[1]):zt.$b=0,bt.kc&&(zt.Ad=be(rt,bt.Bd)),zt.Za=!be(rt,145)+0,zt.Za){var xn=zt.Ob,jn=0;for(bt=0;4>bt;++bt){var ln,xt=Cn[0+bt];for(ln=0;4>ln;++ln){xt=Ef[Rt[gn+ln]][xt];for(var At=bc[be(rt,xt[0])];0<At;)At=bc[2*At+be(rt,xt[At])];xt=-At,Rt[gn+ln]=xt}r(xn,jn,Rt,gn,4),jn+=4,Cn[0+bt]=xt}}else xt=be(rt,156)?be(rt,128)?1:3:be(rt,163)?2:0,zt.Ob[0]=xt,a(Rt,gn,xt,4),a(Cn,0,xt,4);zt.Dd=be(rt,142)?be(rt,114)?be(rt,183)?1:3:2:0}if(Jt.m.Ka)return en(gt,7,"Premature end-of-partition0 encountered.");for(;gt.ja<gt.za;++gt.ja){if(Jt=Oe,rt=(ke=gt).rb[ke.sb-1],Rt=ke.rb[ke.sb+ke.ja],ot=ke.ya[ke.aa+ke.ja],gn=ke.kc?ot.Ad:0)rt.la=Rt.la=0,ot.Za||(rt.Na=Rt.Na=0),ot.Hc=0,ot.Gc=0,ot.ia=0;else{var Ht,kt;if(rt=Rt,Rt=Jt,gn=ke.Pa.Xc,Cn=ke.ya[ke.aa+ke.ja],zt=ke.pb[Cn.$b],bt=Cn.ad,xn=0,jn=ke.rb[ke.sb-1],xt=ln=0,a(bt,xn,0,384),Cn.Za)var bn=0,ar=gn[3];else{At=i(16);var Kt=rt.Na+jn.Na;if(Kt=Gs(Rt,gn[1],Kt,zt.Eb,0,At,0),rt.Na=jn.Na=(0<Kt)+0,1<Kt)ni(At,0,bt,xn);else{var Pn=At[0]+3>>3;for(At=0;256>At;At+=16)bt[xn+At]=Pn}bn=1,ar=gn[0]}var Lt=15&rt.la,cn=15&jn.la;for(At=0;4>At;++At){var Tn=1&cn;for(Pn=kt=0;4>Pn;++Pn)Lt=Lt>>1|(Tn=(Kt=Gs(Rt,ar,Kt=Tn+(1&Lt),zt.Sc,bn,bt,xn))>bn)<<7,kt=kt<<2|(3<Kt?3:1<Kt?2:bt[xn+0]!=0),xn+=16;Lt>>=4,cn=cn>>1|Tn<<7,ln=(ln<<8|kt)>>>0}for(ar=Lt,bn=cn>>4,Ht=0;4>Ht;Ht+=2){for(kt=0,Lt=rt.la>>4+Ht,cn=jn.la>>4+Ht,At=0;2>At;++At){for(Tn=1&cn,Pn=0;2>Pn;++Pn)Kt=Tn+(1&Lt),Lt=Lt>>1|(Tn=0<(Kt=Gs(Rt,gn[2],Kt,zt.Qc,0,bt,xn)))<<3,kt=kt<<2|(3<Kt?3:1<Kt?2:bt[xn+0]!=0),xn+=16;Lt>>=2,cn=cn>>1|Tn<<5}xt|=kt<<4*Ht,ar|=Lt<<4<<Ht,bn|=(240&cn)<<Ht}rt.la=ar,jn.la=bn,Cn.Hc=ln,Cn.Gc=xt,Cn.ia=43690&xt?0:zt.ia,gn=!(ln|xt)}if(0<ke.L&&(ke.wa[ke.Y+ke.ja]=ke.gd[ot.$b][ot.Za],ke.wa[ke.Y+ke.ja].La|=!gn),Jt.Ka)return en(gt,7,"Premature end-of-file encountered.")}if(pa(gt),ke=on,Jt=1,ot=(Oe=gt).D,rt=0<Oe.L&&Oe.M>=Oe.zb&&Oe.M<=Oe.Va,Oe.Aa==0)t:{if(ot.M=Oe.M,ot.uc=rt,Jn(Oe,ot),Jt=1,ot=(kt=Oe.D).Nb,rt=(xt=Oa[Oe.L])*Oe.R,Rt=xt/2*Oe.B,At=16*ot*Oe.R,Pn=8*ot*Oe.B,gn=Oe.sa,Cn=Oe.ta-rt+At,zt=Oe.qa,bt=Oe.ra-Rt+Pn,xn=Oe.Ha,jn=Oe.Ia-Rt+Pn,cn=(Lt=kt.M)==0,ln=Lt>=Oe.Va-1,Oe.Aa==2&&Jn(Oe,kt),kt.uc)for(Tn=(Kt=Oe).D.M,e(Kt.D.uc),kt=Kt.yb;kt<Kt.Hb;++kt){bn=kt,ar=Tn;var Ln=(Bn=(yn=Kt).D).Nb;Ht=yn.R;var Bn=Bn.wa[Bn.Y+bn],Dn=yn.sa,En=yn.ta+16*Ln*Ht+16*bn,qn=Bn.dd,Ot=Bn.tc;if(Ot!=0)if(e(3<=Ot),yn.L==1)0<bn&&rc(Dn,En,Ht,Ot+4),Bn.La&&sc(Dn,En,Ht,Ot),0<ar&&nc(Dn,En,Ht,Ot+4),Bn.La&&ic(Dn,En,Ht,Ot);else{var Un=yn.B,or=yn.qa,Ii=yn.ra+8*Ln*Un+8*bn,Gr=yn.Ha,yn=yn.Ia+8*Ln*Un+8*bn;Ln=Bn.ld,0<bn&&(an(Dn,En,Ht,Ot+4,qn,Ln),qs(or,Ii,Gr,yn,Un,Ot+4,qn,Ln)),Bn.La&&(Sa(Dn,En,Ht,Ot,qn,Ln),tc(or,Ii,Gr,yn,Un,Ot,qn,Ln)),0<ar&&(Yt(Dn,En,Ht,Ot+4,qn,Ln),qr(or,Ii,Gr,yn,Un,Ot+4,qn,Ln)),Bn.La&&(rs(Dn,En,Ht,Ot,qn,Ln),ec(or,Ii,Gr,yn,Un,Ot,qn,Ln))}}if(Oe.ia&&alert("todo:DitherRow"),ke.put!=null){if(kt=16*Lt,Lt=16*(Lt+1),cn?(ke.y=Oe.sa,ke.O=Oe.ta+At,ke.f=Oe.qa,ke.N=Oe.ra+Pn,ke.ea=Oe.Ha,ke.W=Oe.Ia+Pn):(kt-=xt,ke.y=gn,ke.O=Cn,ke.f=zt,ke.N=bt,ke.ea=xn,ke.W=jn),ln||(Lt-=xt),Lt>ke.o&&(Lt=ke.o),ke.F=null,ke.J=null,Oe.Fa!=null&&0<Oe.Fa.length&&kt<Lt&&(ke.J=Mt(Oe,ke,kt,Lt-kt),ke.F=Oe.mb,ke.F==null&&ke.F.length==0)){Jt=en(Oe,3,"Could not decode alpha data.");break t}kt<ke.j&&(xt=ke.j-kt,kt=ke.j,e(!(1&xt)),ke.O+=Oe.R*xt,ke.N+=Oe.B*(xt>>1),ke.W+=Oe.B*(xt>>1),ke.F!=null&&(ke.J+=ke.width*xt)),kt<Lt&&(ke.O+=ke.v,ke.N+=ke.v>>1,ke.W+=ke.v>>1,ke.F!=null&&(ke.J+=ke.v),ke.ka=kt-ke.j,ke.U=ke.va-ke.v,ke.T=Lt-kt,Jt=ke.put(ke))}ot+1!=Oe.Ic||ln||(r(Oe.sa,Oe.ta-rt,gn,Cn+16*Oe.R,rt),r(Oe.qa,Oe.ra-Rt,zt,bt+8*Oe.B,Rt),r(Oe.Ha,Oe.Ia-Rt,xn,jn+8*Oe.B,Rt))}if(!Jt)return en(gt,6,"Output aborted.")}return 1})(O,J)),J.bc!=null&&J.bc(J),Z&=1}return Z?(O.cb=0,Z):0})(s,b)||(o=s.a)}}else o=s.a}o==0&&A.Oa!=null&&A.Oa.fd&&(o=Ms(A.ba))}A=o}N=A!=0?null:11>N?j.f.RGBA.eb:j.f.kb.y}else N=null;return N};var kc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(B,Q){for(var S="",_=0;_<4;_++)S+=String.fromCharCode(B[Q++]);return S}function g(B,Q){return B[Q+0]|B[Q+1]<<8}function y(B,Q){return(B[Q+0]|B[Q+1]<<8|B[Q+2]<<16)>>>0}function w(B,Q){return(B[Q+0]|B[Q+1]<<8|B[Q+2]<<16|B[Q+3]<<24)>>>0}new h;var m=[0],L=[0],E=[],F=new h,C=n,G=(function(B,Q){var S={},_=0,U=!1,z=0,oe=0;if(S.frames=[],!(function(k,T){for(var q=0;q<4;q++)if(k[T+q]!="RIFF".charCodeAt(q))return!0;return!1})(B,Q)){for(w(B,Q+=4),Q+=8;Q<B.length;){var ue=d(B,Q),fe=w(B,Q+=4);Q+=4;var ie=fe+(1&fe);switch(ue){case"VP8 ":case"VP8L":S.frames[_]===void 0&&(S.frames[_]={}),(xe=S.frames[_]).src_off=U?oe:Q-8,xe.src_size=z+fe+8,_++,U&&(U=!1,z=0,oe=0);break;case"VP8X":(xe=S.header={}).feature_flags=B[Q];var pe=Q+4;xe.canvas_width=1+y(B,pe),pe+=3,xe.canvas_height=1+y(B,pe),pe+=3;break;case"ALPH":U=!0,z=ie+8,oe=Q-8;break;case"ANIM":(xe=S.header).bgcolor=w(B,Q),pe=Q+4,xe.loop_count=g(B,pe),pe+=2;break;case"ANMF":var Ae,xe;(xe=S.frames[_]={}).offset_x=2*y(B,Q),Q+=3,xe.offset_y=2*y(B,Q),Q+=3,xe.width=1+y(B,Q),Q+=3,xe.height=1+y(B,Q),Q+=3,xe.duration=y(B,Q),Q+=3,Ae=B[Q++],xe.dispose=1&Ae,xe.blend=Ae>>1&1}ue!="ANMF"&&(Q+=ie)}return S}})(C,0);G.response=C,G.rgbaoutput=!0,G.dataurl=!1;var W=G.header?G.header:null,D=G.frames?G.frames:null;if(W){W.loop_counter=W.loop_count,m=[W.canvas_height],L=[W.canvas_width];for(var se=0;se<D.length&&D[se].blend!=0;se++);}var ne=D[0],ae=F.WebPDecodeRGBA(C,ne.src_off,ne.src_size,L,m);ne.rgba=ae,ne.imgwidth=L[0],ne.imgheight=m[0];for(var Y=0;Y<L[0]*m[0]*4;Y++)E[Y]=ae[Y];return this.width=L,this.height=m,this.data=E,this}function Pp(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function Ep(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,a,i,l,c,h,d,g=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new h,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new l,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new l,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,d=new g}]);var y=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var T=k;Object.defineProperty(this,"pdf",{get:function(){return T}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(I){q=!!I}});var $=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $},set:function(I){$=!!I}});var K=0;Object.defineProperty(this,"posX",{get:function(){return K},set:function(I){isNaN(I)||(K=I)}});var ee=0;Object.defineProperty(this,"posY",{get:function(){return ee},set:function(I){isNaN(I)||(ee=I)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(I){var Se;typeof I=="number"?Se=[I,I,I,I]:((Se=new Array(4))[0]=I[0],Se[1]=I.length>=2?I[1]:Se[0],Se[2]=I.length>=3?I[2]:Se[0],Se[3]=I.length>=4?I[3]:Se[1]),d.margin=Se}});var le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return le},set:function(I){le=I}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(I){ce=I}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(I){be=I}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(I){I instanceof g&&(d=I)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(I){d.path=I}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(I){_e=I}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(I){var Se;Se=w(I),this.ctx.fillStyle=Se.style,this.ctx.isFillTransparent=Se.a===0,this.ctx.fillOpacity=Se.a,this.pdf.setFillColor(Se.r,Se.g,Se.b,{a:Se.a}),this.pdf.setTextColor(Se.r,Se.g,Se.b,{a:Se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(I){var Se=w(I);this.ctx.strokeStyle=Se.style,this.ctx.isStrokeTransparent=Se.a===0,this.ctx.strokeOpacity=Se.a,Se.a===0?this.pdf.setDrawColor(255,255,255):(Se.a,this.pdf.setDrawColor(Se.r,Se.g,Se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(I){["butt","round","square"].indexOf(I)!==-1&&(this.ctx.lineCap=I,this.pdf.setLineCap(I))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(I){isNaN(I)||(this.ctx.lineWidth=I,this.pdf.setLineWidth(I))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(I){["bevel","round","miter"].indexOf(I)!==-1&&(this.ctx.lineJoin=I,this.pdf.setLineJoin(I))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(I){isNaN(I)||(this.ctx.miterLimit=I,this.pdf.setMiterLimit(I))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(I){this.ctx.textBaseline=I}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(I){["right","end","center","left","start"].indexOf(I)!==-1&&(this.ctx.textAlign=I)}});var je=null,Ce=null,Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(I){je=null,Ce=null,Ue=I}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(I){var Se;if(this.ctx.font=I,(Se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(I))!==null){var lt=Se[1];Se[2];var We=Se[3],we=Se[4];Se[5];var $e=Se[6],Pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(we)[2];we=Math.floor(Pe==="px"?parseFloat(we)*this.pdf.internal.scaleFactor:Pe==="em"?parseFloat(we)*this.pdf.getFontSize():parseFloat(we)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(we);var He=(function(qe){var $t,yt,ct=[],ut=qe.trim();if(ut==="")return gl;if(ut in $u)return[$u[ut]];for(;ut!=="";){switch(yt=null,$t=(ut=Yu(ut)).charAt(0)){case'"':case"'":yt=Ap(ut.substring(1),$t);break;default:yt=kp(ut)}if(yt===null||(ct.push(yt[0]),(ut=Yu(yt[1]))!==""&&ut.charAt(0)!==","))return gl;ut=ut.replace(/^,/,"")}return ct})($e);if(this.fontFaces){var Ge=(function(qe,$t){var yt=qe.getFontList(),ct=JSON.stringify(yt);if(je===null||Ce!==ct){var ut=(function(Bt){var ze=[];return Object.keys(Bt).forEach(function(It){Bt[It].forEach(function(Je){var nt=null;switch(Je){case"bold":nt={family:It,weight:"bold"};break;case"italic":nt={family:It,style:"italic"};break;case"bolditalic":nt={family:It,weight:"bold",style:"italic"};break;case"":case"normal":nt={family:It}}nt!==null&&(nt.ref={name:It,style:Je},ze.push(nt))})}),ze})(yt);je=(function(Bt){for(var ze={},It=0;It<Bt.length;++It){var Je=ml(Bt[It]),nt=Je.family,Dt=Je.stretch,ft=Je.style,Ve=Je.weight;ze[nt]=ze[nt]||{},ze[nt][Dt]=ze[nt][Dt]||{},ze[nt][Dt][ft]=ze[nt][Dt][ft]||{},ze[nt][Dt][ft][Ve]=Je}return ze})(ut.concat($t)),Ce=ct}return je})(this.pdf,this.fontFaces),wt=He.map(function(qe){return{family:qe,stretch:"normal",weight:We,style:lt}}),dt=(function(qe,$t,yt){for(var ct=(yt=yt||{}).defaultFontFamily||"times",ut=Object.assign({},_p,yt.genericFontFamilies||{}),Bt=null,ze=null,It=0;It<$t.length;++It)if(ut[(Bt=ml($t[It])).family]&&(Bt.family=ut[Bt.family]),qe.hasOwnProperty(Bt.family)){ze=qe[Bt.family];break}if(!(ze=ze||qe[ct]))throw new Error("Could not find a font-family for the rule '"+Vu(Bt)+"' and default family '"+ct+"'.");if(ze=(function(Je,nt){if(nt[Je])return nt[Je];var Dt=Bl[Je],ft=Dt<=Bl.normal?-1:1,Ve=Wu(nt,uf,Dt,ft);if(!Ve)throw new Error("Could not find a matching font-stretch value for "+Je);return Ve})(Bt.stretch,ze),ze=(function(Je,nt){if(nt[Je])return nt[Je];for(var Dt=cf[Je],ft=0;ft<Dt.length;++ft)if(nt[Dt[ft]])return nt[Dt[ft]];throw new Error("Could not find a matching font-style for "+Je)})(Bt.style,ze),!(ze=(function(Je,nt){if(nt[Je])return nt[Je];if(Je===400&&nt[500])return nt[500];if(Je===500&&nt[400])return nt[400];var Dt=Np[Je],ft=Wu(nt,hf,Dt,Je<400?-1:1);if(!ft)throw new Error("Could not find a matching font-weight for value "+Je);return ft})(Bt.weight,ze)))throw new Error("Failed to resolve a font for the rule '"+Vu(Bt)+"'.");return ze})(Ge,wt);this.pdf.setFont(dt.ref.name,dt.ref.style)}else{var tt="";(We==="bold"||parseInt(We,10)>=700||lt==="bold")&&(tt="bold"),lt==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var mt="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Re=0;Re<He.length;Re++){if(this.pdf.internal.getFont(He[Re],tt,{noFallback:!0,disableWarning:!0})!==void 0){mt=He[Re];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(He[Re],"bold",{noFallback:!0,disableWarning:!0})!==void 0)mt=He[Re],tt="bold";else if(this.pdf.internal.getFont(He[Re],"normal",{noFallback:!0,disableWarning:!0})!==void 0){mt=He[Re],tt="normal";break}}if(mt===""){for(var it=0;it<He.length;it++)if(pt[He[it]]){mt=pt[He[it]];break}}mt=mt===""?"Times":mt,this.pdf.setFont(mt,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(I){this.ctx.globalCompositeOperation=I}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(I){this.ctx.globalAlpha=I}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(I){this.ctx.lineDashOffset=I,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(I){this.ctx.lineDash=I,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(I){this.ctx.ignoreClearRect=!!I}})};y.prototype.setLineDash=function(k){this.lineDash=k},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){D.call(this,"fill",!1)},y.prototype.stroke=function(){D.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(k,T){if(isNaN(k)||isNaN(T))throw Pt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new l(k,T));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(k,T)},y.prototype.closePath=function(){var k=new l(0,0),T=0;for(T=this.path.length-1;T!==-1;T--)if(this.path[T].type==="begin"&&Ft(this.path[T+1])==="object"&&typeof this.path[T+1].x=="number"){k=new l(this.path[T+1].x,this.path[T+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(k.x,k.y)},y.prototype.lineTo=function(k,T){if(isNaN(k)||isNaN(T))throw Pt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new l(k,T));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(q.x,q.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},y.prototype.quadraticCurveTo=function(k,T,q,$){if(isNaN(q)||isNaN($)||isNaN(k)||isNaN(T))throw Pt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var K=this.ctx.transform.applyToPoint(new l(q,$)),ee=this.ctx.transform.applyToPoint(new l(k,T));this.path.push({type:"qct",x1:ee.x,y1:ee.y,x:K.x,y:K.y}),this.ctx.lastPoint=new l(K.x,K.y)},y.prototype.bezierCurveTo=function(k,T,q,$,K,ee){if(isNaN(K)||isNaN(ee)||isNaN(k)||isNaN(T)||isNaN(q)||isNaN($))throw Pt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var le=this.ctx.transform.applyToPoint(new l(K,ee)),ce=this.ctx.transform.applyToPoint(new l(k,T)),be=this.ctx.transform.applyToPoint(new l(q,$));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:be.x,y2:be.y,x:le.x,y:le.y}),this.ctx.lastPoint=new l(le.x,le.y)},y.prototype.arc=function(k,T,q,$,K,ee){if(isNaN(k)||isNaN(T)||isNaN(q)||isNaN($)||isNaN(K))throw Pt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ee=!!ee,!this.ctx.transform.isIdentity){var le=this.ctx.transform.applyToPoint(new l(k,T));k=le.x,T=le.y;var ce=this.ctx.transform.applyToPoint(new l(0,q)),be=this.ctx.transform.applyToPoint(new l(0,0));q=Math.sqrt(Math.pow(ce.x-be.x,2)+Math.pow(ce.y-be.y,2))}Math.abs(K-$)>=2*Math.PI&&($=0,K=2*Math.PI),this.path.push({type:"arc",x:k,y:T,radius:q,startAngle:$,endAngle:K,counterclockwise:ee})},y.prototype.arcTo=function(k,T,q,$,K){throw new Error("arcTo not implemented.")},y.prototype.rect=function(k,T,q,$){if(isNaN(k)||isNaN(T)||isNaN(q)||isNaN($))throw Pt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,T),this.lineTo(k+q,T),this.lineTo(k+q,T+$),this.lineTo(k,T+$),this.lineTo(k,T),this.lineTo(k+q,T),this.lineTo(k,T)},y.prototype.fillRect=function(k,T,q,$){if(isNaN(k)||isNaN(T)||isNaN(q)||isNaN($))throw Pt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var K={};this.lineCap!=="butt"&&(K.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(K.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,T,q,$),this.fill(),K.hasOwnProperty("lineCap")&&(this.lineCap=K.lineCap),K.hasOwnProperty("lineJoin")&&(this.lineJoin=K.lineJoin)}},y.prototype.strokeRect=function(k,T,q,$){if(isNaN(k)||isNaN(T)||isNaN(q)||isNaN($))throw Pt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");L.call(this)||(this.beginPath(),this.rect(k,T,q,$),this.stroke())},y.prototype.clearRect=function(k,T,q,$){if(isNaN(k)||isNaN(T)||isNaN(q)||isNaN($))throw Pt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,T,q,$))},y.prototype.save=function(k){k=typeof k!="boolean"||k;for(var T=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(T),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var $=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$}},y.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var T=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(T),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(k){var T,q,$,K;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))T=0,q=0,$=0,K=0;else{var ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(ee!==null)T=parseInt(ee[1]),q=parseInt(ee[2]),$=parseInt(ee[3]),K=1;else if((ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)T=parseInt(ee[1]),q=parseInt(ee[2]),$=parseInt(ee[3]),K=parseFloat(ee[4]);else{if(K=1,typeof k=="string"&&k.charAt(0)!=="#"){var le=new tf(k);k=le.ok?le.toHex():"#000000"}k.length===4?(T=k.substring(1,2),T+=T,q=k.substring(2,3),q+=q,$=k.substring(3,4),$+=$):(T=k.substring(1,3),q=k.substring(3,5),$=k.substring(5,7)),T=parseInt(T,16),q=parseInt(q,16),$=parseInt($,16)}}return{r:T,g:q,b:$,a:K,style:k}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},L=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(k,T,q,$){if(isNaN(T)||isNaN(q)||typeof k!="string")throw Pt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($=isNaN($)?void 0:$,!m.call(this)){var K=ie(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;_.call(this,{text:k,x:T,y:q,scale:ee,angle:K,align:this.textAlign,maxWidth:$})}},y.prototype.strokeText=function(k,T,q,$){if(isNaN(T)||isNaN(q)||typeof k!="string")throw Pt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!L.call(this)){$=isNaN($)?void 0:$;var K=ie(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;_.call(this,{text:k,x:T,y:q,scale:ee,renderingMode:"stroke",angle:K,align:this.textAlign,maxWidth:$})}},y.prototype.measureText=function(k){if(typeof k!="string")throw Pt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var T=this.pdf,q=this.pdf.internal.scaleFactor,$=T.internal.getFontSize(),K=T.getStringUnitWidth(k)*$/T.internal.scaleFactor;return new function(ee){var le=(ee=ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this}({width:K*=Math.round(96*q/72*1e4)/1e4})},y.prototype.scale=function(k,T){if(isNaN(k)||isNaN(T))throw Pt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new h(k,0,0,T,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},y.prototype.rotate=function(k){if(isNaN(k))throw Pt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var T=new h(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(T)},y.prototype.translate=function(k,T){if(isNaN(k)||isNaN(T))throw Pt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new h(1,0,0,1,k,T);this.ctx.transform=this.ctx.transform.multiply(q)},y.prototype.transform=function(k,T,q,$,K,ee){if(isNaN(k)||isNaN(T)||isNaN(q)||isNaN($)||isNaN(K)||isNaN(ee))throw Pt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var le=new h(k,T,q,$,K,ee);this.ctx.transform=this.ctx.transform.multiply(le)},y.prototype.setTransform=function(k,T,q,$,K,ee){k=isNaN(k)?1:k,T=isNaN(T)?0:T,q=isNaN(q)?0:q,$=isNaN($)?1:$,K=isNaN(K)?0:K,ee=isNaN(ee)?0:ee,this.ctx.transform=new h(k,T,q,$,K,ee)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(k,T,q,$,K,ee,le,ce,be){var _e=this.pdf.getImageProperties(k),je=1,Ce=1,Ue=1,I=1;$!==void 0&&ce!==void 0&&(Ue=ce/$,I=be/K,je=_e.width/$*ce/$,Ce=_e.height/K*be/K),ee===void 0&&(ee=T,le=q,T=0,q=0),$!==void 0&&ce===void 0&&(ce=$,be=K),$===void 0&&ce===void 0&&(ce=_e.width,be=_e.height);var Se=this.ctx.transform.decompose(),lt=ie(Se.rotate.shx),We=new h,we=(We=(We=(We=We.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale)).applyToRectangle(new c(ee-T*Ue,le-q*I,$*je,K*Ce));if(this.autoPaging){for(var $e,Pe=F.call(this,we),He=[],Ge=0;Ge<Pe.length;Ge+=1)He.indexOf(Pe[Ge])===-1&&He.push(Pe[Ge]);W(He);for(var wt=He[0],dt=He[He.length-1],tt=wt;tt<dt+1;tt++){this.pdf.setPage(tt);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=tt===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=tt===1?0:Re+(tt-2)*it;if(this.ctx.clip_path.length!==0){var $t=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G($e,this.posX+this.margin[3],-qe+pt+this.ctx.prevPageLastElemOffset),se.call(this,"fill",!0),this.path=$t}var yt=JSON.parse(JSON.stringify(we));yt=G([yt],this.posX+this.margin[3],-qe+pt+this.ctx.prevPageLastElemOffset)[0];var ct=(tt>wt||tt<dt)&&E.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,it,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,lt),ct&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",we.x,we.y,we.w,we.h,null,null,lt)};var F=function(k,T,q){var $=[];T=T||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var K=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":$.push(Math.floor((k.y+K)/q)+1);break;case"arc":$.push(Math.floor((k.y+K-k.radius)/q)+1),$.push(Math.floor((k.y+K+k.radius)/q)+1);break;case"qct":var ee=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);$.push(Math.floor((ee.y+K)/q)+1),$.push(Math.floor((ee.y+ee.h+K)/q)+1);break;case"bct":var le=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);$.push(Math.floor((le.y+K)/q)+1),$.push(Math.floor((le.y+le.h+K)/q)+1);break;case"rect":$.push(Math.floor((k.y+K)/q)+1),$.push(Math.floor((k.y+k.h+K)/q)+1)}for(var ce=0;ce<$.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<$[ce];)C.call(this);return $},C=function(){var k=this.fillStyle,T=this.strokeStyle,q=this.font,$=this.lineCap,K=this.lineWidth,ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=T,this.font=q,this.lineCap=$,this.lineWidth=K,this.lineJoin=ee},G=function(k,T,q){for(var $=0;$<k.length;$++)switch(k[$].type){case"bct":k[$].x2+=T,k[$].y2+=q;case"qct":k[$].x1+=T,k[$].y1+=q;default:k[$].x+=T,k[$].y+=q}return k},W=function(k){return k.sort(function(T,q){return T-q})},D=function(k,T){var q=this.fillStyle,$=this.strokeStyle,K=this.lineCap,ee=this.lineWidth,le=Math.abs(ee*this.ctx.transform.scaleX),ce=this.lineJoin;if(this.autoPaging){for(var be,_e,je=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),Ue=[],I=0;I<Ce.length;I++)if(Ce[I].x!==void 0)for(var Se=F.call(this,Ce[I]),lt=0;lt<Se.length;lt+=1)Ue.indexOf(Se[lt])===-1&&Ue.push(Se[lt]);for(var We=0;We<Ue.length;We++)for(;this.pdf.internal.getNumberOfPages()<Ue[We];)C.call(this);W(Ue);for(var we=Ue[0],$e=Ue[Ue.length-1],Pe=we;Pe<$e+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=q,this.strokeStyle=$,this.lineCap=K,this.lineWidth=le,this.lineJoin=ce;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=Pe===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Pe===1?0:wt+(Pe-2)*dt;if(this.ctx.clip_path.length!==0){var mt=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(be,this.posX+this.margin[3],-tt+Ge+this.ctx.prevPageLastElemOffset),se.call(this,k,!0),this.path=mt}if(_e=JSON.parse(JSON.stringify(je)),this.path=G(_e,this.posX+this.margin[3],-tt+Ge+this.ctx.prevPageLastElemOffset),T===!1||Pe===0){var pt=(Pe>we||Pe<$e)&&E.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,dt,null).clip().discardPath()),se.call(this,k,T),pt&&this.pdf.restoreGraphicsState()}this.lineWidth=ee}this.path=je}else this.lineWidth=le,se.call(this,k,T),this.lineWidth=ee},se=function(k,T){if((k!=="stroke"||T||!L.call(this))&&(k==="stroke"||T||!m.call(this))){for(var q,$,K=[],ee=this.path,le=0;le<ee.length;le++){var ce=ee[le];switch(ce.type){case"begin":K.push({begin:!0});break;case"close":K.push({close:!0});break;case"mt":K.push({start:ce,deltas:[],abs:[]});break;case"lt":var be=K.length;if(ee[le-1]&&!isNaN(ee[le-1].x)&&(q=[ce.x-ee[le-1].x,ce.y-ee[le-1].y],be>0)){for(;be>=0;be--)if(K[be-1].close!==!0&&K[be-1].begin!==!0){K[be-1].deltas.push(q),K[be-1].abs.push(ce);break}}break;case"bct":q=[ce.x1-ee[le-1].x,ce.y1-ee[le-1].y,ce.x2-ee[le-1].x,ce.y2-ee[le-1].y,ce.x-ee[le-1].x,ce.y-ee[le-1].y],K[K.length-1].deltas.push(q);break;case"qct":var _e=ee[le-1].x+2/3*(ce.x1-ee[le-1].x),je=ee[le-1].y+2/3*(ce.y1-ee[le-1].y),Ce=ce.x+2/3*(ce.x1-ce.x),Ue=ce.y+2/3*(ce.y1-ce.y),I=ce.x,Se=ce.y;q=[_e-ee[le-1].x,je-ee[le-1].y,Ce-ee[le-1].x,Ue-ee[le-1].y,I-ee[le-1].x,Se-ee[le-1].y],K[K.length-1].deltas.push(q);break;case"arc":K.push({deltas:[],abs:[],arc:!0}),Array.isArray(K[K.length-1].abs)&&K[K.length-1].abs.push(ce)}}$=T?null:k==="stroke"?"stroke":"fill";for(var lt=!1,We=0;We<K.length;We++)if(K[We].arc)for(var we=K[We].abs,$e=0;$e<we.length;$e++){var Pe=we[$e];Pe.type==="arc"?Y.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,T,!lt):U.call(this,Pe.x,Pe.y),lt=!0}else if(K[We].close===!0)this.pdf.internal.out("h"),lt=!1;else if(K[We].begin!==!0){var He=K[We].start.x,Ge=K[We].start.y;z.call(this,K[We].deltas,He,Ge),lt=!0}$&&B.call(this,$),T&&Q.call(this)}},ne=function(k){var T=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=T*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-q;case"top":return k+T-q;case"hanging":return k+T-2*q;case"middle":return k+T/2-q;default:return k}},ae=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(T,q){this.colorStops.push([T,q])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(k,T,q,$,K,ee,le,ce,be){for(var _e=ue.call(this,q,$,K,ee),je=0;je<_e.length;je++){var Ce=_e[je];je===0&&(be?S.call(this,Ce.x1+k,Ce.y1+T):U.call(this,Ce.x1+k,Ce.y1+T)),oe.call(this,k,T,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}ce?Q.call(this):B.call(this,le)},B=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(k,T){this.pdf.internal.out(t(k)+" "+r(T)+" m")},_=function(k){var T;switch(k.align){case"right":case"end":T="right";break;case"center":T="center";break;default:T="left"}var q,$,K,ee=this.pdf.getTextDimensions(k.text),le=ne.call(this,k.y),ce=ae.call(this,le)-ee.h,be=this.ctx.transform.applyToPoint(new l(k.x,le));if(this.autoPaging){var _e=this.ctx.transform.decompose(),je=new h;je=(je=(je=je.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var Ce=this.ctx.transform.applyToRectangle(new c(k.x,le,ee.w,ee.h)),Ue=je.applyToRectangle(new c(k.x,ce,ee.w,ee.h)),I=F.call(this,Ue),Se=[],lt=0;lt<I.length;lt+=1)Se.indexOf(I[lt])===-1&&Se.push(I[lt]);W(Se);for(var We=Se[0],we=Se[Se.length-1],$e=We;$e<we+1;$e++){this.pdf.setPage($e);var Pe=$e===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],wt=Ge-this.margin[0],dt=this.pdf.internal.pageSize.width-this.margin[1],tt=dt-this.margin[3],mt=$e===1?0:He+($e-2)*wt;if(this.ctx.clip_path.length!==0){var pt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(q,this.posX+this.margin[3],-1*mt+Pe),se.call(this,"fill",!0),this.path=pt}var Re=G([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-mt+Pe+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&($=this.pdf.internal.getFontSize(),this.pdf.setFontSize($*k.scale),K=this.lineWidth,this.lineWidth=K*k.scale);var it=this.autoPaging!=="text";if(it||Re.y+Re.h<=Ge){if(it||Re.y>=Pe&&Re.x<=dt){var qe=it?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||dt-Re.x)[0],$t=G([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-mt+Pe+this.ctx.prevPageLastElemOffset)[0],yt=it&&($e>We||$e<we)&&E.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,wt,null).clip().discardPath()),this.pdf.text(qe,$t.x,$t.y,{angle:k.angle,align:T,renderingMode:k.renderingMode}),yt&&this.pdf.restoreGraphicsState()}}else Re.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-Re.y);k.scale>=.01&&(this.pdf.setFontSize($),this.lineWidth=K)}}else k.scale>=.01&&($=this.pdf.internal.getFontSize(),this.pdf.setFontSize($*k.scale),K=this.lineWidth,this.lineWidth=K*k.scale),this.pdf.text(k.text,be.x+this.posX,be.y+this.posY,{angle:k.angle,align:T,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize($),this.lineWidth=K)},U=function(k,T,q,$){q=q||0,$=$||0,this.pdf.internal.out(t(k+q)+" "+r(T+$)+" l")},z=function(k,T,q){return this.pdf.lines(k,T,q,null,null)},oe=function(k,T,q,$,K,ee,le,ce){this.pdf.internal.out([e(a(q+k)),e(i($+T)),e(a(K+k)),e(i(ee+T)),e(a(le+k)),e(i(ce+T)),"c"].join(" "))},ue=function(k,T,q,$){for(var K=2*Math.PI,ee=Math.PI/2;T>q;)T-=K;var le=Math.abs(q-T);le<K&&$&&(le=K-le);for(var ce=[],be=$?-1:1,_e=T;le>1e-5;){var je=_e+be*Math.min(le,ee);ce.push(fe.call(this,k,_e,je)),le-=Math.abs(je-_e),_e=je}return ce},fe=function(k,T,q){var $=(q-T)/2,K=k*Math.cos($),ee=k*Math.sin($),le=K,ce=-ee,be=le*le+ce*ce,_e=be+le*K+ce*ee,je=4/3*(Math.sqrt(2*be*_e)-_e)/(le*ee-ce*K),Ce=le-je*ce,Ue=ce+je*le,I=Ce,Se=-Ue,lt=$+T,We=Math.cos(lt),we=Math.sin(lt);return{x1:k*Math.cos(T),y1:k*Math.sin(T),x2:Ce*We-Ue*we,y2:Ce*we+Ue*We,x3:I*We-Se*we,y3:I*we+Se*We,x4:k*Math.cos(q),y4:k*Math.sin(q)}},ie=function(k){return 180*k/Math.PI},pe=function(k,T,q,$,K,ee){var le=k+.5*(q-k),ce=T+.5*($-T),be=K+.5*(q-K),_e=ee+.5*($-ee),je=Math.min(k,K,le,be),Ce=Math.max(k,K,le,be),Ue=Math.min(T,ee,ce,_e),I=Math.max(T,ee,ce,_e);return new c(je,Ue,Ce-je,I-Ue)},Ae=function(k,T,q,$,K,ee,le,ce){var be,_e,je,Ce,Ue,I,Se,lt,We,we,$e,Pe,He,Ge,wt=q-k,dt=$-T,tt=K-q,mt=ee-$,pt=le-K,Re=ce-ee;for(_e=0;_e<41;_e++)We=(Se=(je=k+(be=_e/40)*wt)+be*((Ue=q+be*tt)-je))+be*(Ue+be*(K+be*pt-Ue)-Se),we=(lt=(Ce=T+be*dt)+be*((I=$+be*mt)-Ce))+be*(I+be*(ee+be*Re-I)-lt),_e==0?($e=We,Pe=we,He=We,Ge=we):($e=Math.min($e,We),Pe=Math.min(Pe,we),He=Math.max(He,We),Ge=Math.max(Ge,we));return new c(Math.round($e),Math.round(Pe),Math.round(He-$e),Math.round(Ge-Pe))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,T,q=(k=this.ctx.lineDash,T=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:T}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(De.API),(function(n){var e=function(l){var c,h,d,g,y,w,m,L,E,F;for(h=[],d=0,g=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;g>d;d+=4)(y=(l.charCodeAt(d)<<24)+(l.charCodeAt(d+1)<<16)+(l.charCodeAt(d+2)<<8)+l.charCodeAt(d+3))!==0?(w=(y=((y=((y=((y=(y-(F=y%85))/85)-(E=y%85))/85)-(L=y%85))/85)-(m=y%85))/85)%85,h.push(w+33,m+33,L+33,E+33,F+33)):h.push(122);return(function(C,G){for(var W=G;W>0;W--)C.pop()})(h,c.length),String.fromCharCode.apply(String,h)+"~>"},t=function(l){var c,h,d,g,y,w=String,m="length",L=255,E="charCodeAt",F="slice",C="replace";for(l[F](-2),l=l[F](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),d=[],g=0,y=(l+=c="uuuuu"[F](l[m]%5||5))[m];y>g;g+=5)h=52200625*(l[E](g)-33)+614125*(l[E](g+1)-33)+7225*(l[E](g+2)-33)+85*(l[E](g+3)-33)+(l[E](g+4)-33),d.push(L&h>>24,L&h>>16,L&h>>8,L&h);return(function(G,W){for(var D=W;D>0;D--)G.pop()})(d,c[m]),w.fromCharCode.apply(w,d)},r=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var h="",d=0;d<l.length;d+=2)h+=String.fromCharCode("0x"+(l[d]+l[d+1]));return h},i=function(l){for(var c=new Uint8Array(l.length),h=l.length;h--;)c[h]=l.charCodeAt(h);return(c=El(c)).reduce(function(d,g){return d+String.fromCharCode(g)},"")};n.processDataByFilters=function(l,c){var h=0,d=l||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),h=0;h<c.length;h+=1)switch(c[h]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[h]+'" is not implemented')}return{data:d,reverseChain:g.reverse().join(" ")}}})(De.API),(function(n){n.loadFile=function(e,t,r){return(function(a,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(h,d,g){var y=new XMLHttpRequest,w=0,m=function(L){var E=L.length,F=[],C=String.fromCharCode;for(w=0;w<E;w+=1)F.push(C(255&L.charCodeAt(w)));return F.join("")};if(y.open("GET",h,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?g(m(this.responseText)):g(void 0)}),y.send(null),d&&y.status===200)return m(y.responseText)})(a,i,l)}catch{}return c})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(De.API),(function(n){function e(){return(Xe.html2canvas?Promise.resolve(Xe.html2canvas):Xo(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Xe.DOMPurify?Promise.resolve(Xe.DOMPurify):Xo(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var h=Ft(c);return h==="undefined"?"undefined":h==="string"||c instanceof String?"string":h==="number"||c instanceof Number?"number":h==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":h==="object"?"object":"unknown"},a=function(c,h){var d=document.createElement(c);for(var g in h.className&&(d.className=h.className),h.innerHTML&&h.dompurify&&(d.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)d.style[g]=h.style[g];return d},i=function c(h,d){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),y=h.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||g.appendChild(c(y,d));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g},l=function c(h){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),d);return(g=g.setProgress(1,c,1,[c])).set(h)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,h){return c.__proto__=h||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,h){return this.then(function(){switch(h=h||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),h){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,h(this.prop.container,d)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var d=this.opt.jsPDF,g=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=g,g)for(var m=0;m<g.length;++m){var L=g[m],E=L.src.find(function(F){return F.format==="truetype"});E&&d.addFont(E.url,L.ref.name,L.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,d.context2d.save(!0),h(this.prop.container,w)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,h,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,h):this.outputPdf(c,h)},l.prototype.outputPdf=function(c,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,h)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(r(c)!=="object")return this;var h=Object.keys(c||{}).map(function(d){if(d in l.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(h)})},l.prototype.get=function(c,h){return this.then(function(){var d=c in l.template.prop?this.prop[c]:this.opt[c];return h?h(d):d})},l.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function h(d,g){return Math.floor(d*g/72*96)}return this.then(function(){(c=c||De.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:h(c.inner.width,c.k),height:h(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,h,d,g){return c!=null&&(this.progress.val=c),h!=null&&(this.progress.state=h),d!=null&&(this.progress.n=d),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,h,d,g){return this.setProgress(c?this.progress.val+c:null,h||null,d?this.progress.n+d:null,g?this.progress.stack.concat(g):null)},l.prototype.then=function(c,h){var d=this;return this.thenCore(c,h,function(g,y){return d.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(w){return d.updateProgress(null,g),w}).then(g,y).then(function(w){return d.updateProgress(1),w})})},l.prototype.thenCore=function(c,h,d){d=d||Promise.prototype.then;var g=this;c&&(c=c.bind(g)),h&&(h=h.bind(g));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:l.convert(Object.assign({},g),Promise.prototype),w=d.call(y,c,h);return l.convert(w,g.__proto__)},l.prototype.thenExternal=function(c,h){return Promise.prototype.then.call(this,c,h)},l.prototype.thenList=function(c){var h=this;return c.forEach(function(d){h=h.thenCore(d)}),h},l.prototype.catch=function(c){c&&(c=c.bind(this));var h=Promise.prototype.catch.call(this,c);return l.convert(h,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,De.getPageSize=function(c,h,d){if(Ft(c)==="object"){var g=c;c=g.orientation,h=g.unit||h,d=g.format||d}h=h||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var y,w=(""+d).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+h}var L,E=0,F=0;if(m.hasOwnProperty(w))E=m[w][1]/y,F=m[w][0]/y;else try{E=d[1],F=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",F>E&&(L=F,F=E,E=L);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",E>F&&(L=F,F=E,E=L)}return{width:F,height:E,unit:h,k:y,orientation:c}},n.html=function(c,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(ml):null;var d=new l(h);return h.worker?d:d.from(c).doCallback()}})(De.API),De.API.addJS=function(n){var e,t,r=n;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),i=0;i<a.length;i++){var l=a[i],c=r.exec(l);if(c!=null){var h=c[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(i=0;i<d;i++){var y=t.internal.newObject();g.push(y);var w=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<g.length;i++)t.internal.write("(page_"+(i+1)+")"+g[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,i){var l={title:a,options:i,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var l=r.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var h=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var i=0;i<a.children.length;i++)r.count++,this.count_r(r,a.children[i]);return r.count}}])})(De.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,a,i,l,c){var h,d=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,h=(function(y){for(var w,m=256*y.charCodeAt(4)+y.charCodeAt(5),L=y.length,E={width:0,height:0,numcomponents:1},F=4;F<L;F+=2){if(F+=m,e.indexOf(y.charCodeAt(F+1))!==-1){w=256*y.charCodeAt(F+5)+y.charCodeAt(F+6),E={width:256*y.charCodeAt(F+7)+y.charCodeAt(F+8),height:w,numcomponents:y.charCodeAt(F+9)};break}m=256*y.charCodeAt(F+2)+y.charCodeAt(F+3)}return E})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),h.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:t,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:a}}return g}})(De.API),De.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,i=lp(n,{checkCrc:!0}),l=i.width,c=i.height,h=i.channels,d=i.palette,g=i.depth;a=d&&h===1?(function(Y){for(var B=Y.width,Q=Y.height,S=Y.data,_=Y.palette,U=Y.depth,z=!1,oe=[],ue=[],fe=void 0,ie=!1,pe=0,Ae=0;Ae<_.length;Ae++){var xe=eu(_[Ae],4),k=xe[0],T=xe[1],q=xe[2],$=xe[3];oe.push(k,T,q),$!=null&&($===0?(pe++,ue.length<1&&ue.push(Ae)):$<255&&(ie=!0))}if(ie||pe>1){z=!0,ue=void 0;var K=B*Q;fe=new Uint8Array(K);for(var ee=new DataView(S.buffer),le=0;le<K;le++){var ce=bl(ee,le,U),be=eu(_[ce],4)[3];fe[le]=be}}else pe===0&&(ue=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:S,alphaBytes:fe,needSMask:z,palette:oe,mask:ue}})(i):h===2||h===4?(function(Y){for(var B=Y.data,Q=Y.width,S=Y.height,_=Y.channels,U=Y.depth,z=_===2?"DeviceGray":"DeviceRGB",oe=_-1,ue=Q*S,fe=oe,ie=ue*fe,pe=1*ue,Ae=Math.ceil(ie*U/8),xe=Math.ceil(pe*U/8),k=new Uint8Array(Ae),T=new Uint8Array(xe),q=new DataView(B.buffer),$=new DataView(k.buffer),K=new DataView(T.buffer),ee=!1,le=0;le<ue;le++){for(var ce=le*_,be=0;be<fe;be++)rh($,bl(q,ce+be,U),le*fe+be,U);var _e=bl(q,ce+fe,U);_e<(1<<U)-1&&(ee=!0),rh(K,_e,1*le,U)}return{colorSpace:z,colorsPerPixel:oe,sMaskBitsPerComponent:ee?U:void 0,colorBytes:k,alphaBytes:T,needSMask:ee}})(i):(function(Y){var B=Y.data,Q=Y.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Q,colorsPerPixel:Q==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(S){for(var _=S.length,U=new Uint8Array(2*_),z=new DataView(U.buffer,U.byteOffset,U.byteLength),oe=0;oe<_;oe++)z.setUint16(2*oe,S[oe],!1);return U})(B):B,needSMask:!1}})(i);var y,w,m,L=a,E=L.colorSpace,F=L.colorsPerPixel,C=L.sMaskBitsPerComponent,G=L.colorBytes,W=L.alphaBytes,D=L.needSMask,se=L.palette,ne=L.mask,ae=null;return r!==De.API.image_compression.NONE&&typeof El=="function"?(ae=(function(Y){var B;switch(Y){case De.API.image_compression.FAST:B=11;break;case De.API.image_compression.MEDIUM:B=13;break;case De.API.image_compression.SLOW:B=14;break;default:B=12}return B})(r),y=this.decode.FLATE_DECODE,w="/Predictor ".concat(ae," /Colors ").concat(F," /BitsPerComponent ").concat(g," /Columns ").concat(l),n=Zu(G,Math.ceil(l*F*g/8),F,g,r),D&&(m=Zu(W,Math.ceil(l*C/8),1,C,r))):(y=void 0,w=void 0,n=G,D&&(m=W)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:n,index:e,filter:y,decodeParameters:w,transparency:ne,palette:se,sMask:m,predictor:ae,width:l,height:c,bitsPerComponent:g,sMaskBitsPerComponent:C,colorSpace:E}}},(function(n){n.processGIF89A=function(e,t,r,a){var i=new Lp(e),l=i.width,c=i.height,h=[];i.decodeAndBlitFrameRGBA(0,h);var d={data:h,width:l,height:c},g=new yl(100).encode(d,100);return n.processJPEG.call(this,g,t,r,a)},n.processGIF87A=n.processGIF89A})(De.API),lr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},lr.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){Pt.log("bit decode error:"+t)}},lr.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var h=this.palette[i>>7-c&1];this.data[l+4*c]=h.blue,this.data[l+4*c+1]=h.green,this.data[l+4*c+2]=h.red,this.data[l+4*c+3]=255}t!==0&&(this.pos+=4-t)}},lr.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*a*4,c=i>>4,h=15&i,d=this.palette[c];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*a+1>=this.width)break;d=this.palette[h],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},lr.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;if(a<this.palette.length){var l=this.palette[a];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}n!==0&&(this.pos+=4-n)}},lr.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&e)/e*255|0,c=(i>>5&e)/e*255|0,h=(i>>10&e)/e*255|0,d=i>>15?255:0,g=r*this.width*4+4*a;this.data[g]=h,this.data[g+1]=c,this.data[g+2]=l,this.data[g+3]=d}this.pos+=n}},lr.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,h=(l>>5&t)/t*255|0,d=(l>>11)/e*255|0,g=a*this.width*4+4*i;this.data[g]=d,this.data[g+1]=h,this.data[g+2]=c,this.data[g+3]=255}this.pos+=n}},lr.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},lr.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=i,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=l}},lr.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,a){var i=new lr(e,!1),l=i.width,c=i.height,h={data:i.getData(),width:l,height:c},d=new yl(100).encode(h,100);return n.processJPEG.call(this,d,t,r,a)}})(De.API),sh.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,a){var i=new sh(e),l=i.width,c=i.height,h={data:i.getData(),width:l,height:c},d=new yl(100).encode(h,100);return n.processJPEG.call(this,d,t,r,a)}})(De.API),De.API.processRGBA=function(n,e,t){for(var r=n.data,a=r.length,i=new Uint8Array(a/4*3),l=new Uint8Array(a/4),c=0,h=0,d=0;d<a;d+=4){var g=r[d],y=r[d+1],w=r[d+2],m=r[d+3];i[c++]=g,i[c++]=y,i[c++]=w,l[h++]=m}var L=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:L,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},De.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},os=De.API,Xa=os.getCharWidthsArray=function(n,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,h=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,g=d.fof?d.fof:1,y=e.doKerning!==!1,w=0,m=n.length,L=0,E=c[0]||h,F=[];for(t=0;t<m;t++)r=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?F.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+l*(1e3/i)||0)/1e3):(w=y&&Ft(d[r])==="object"&&!isNaN(parseInt(d[r][L],10))?d[r][L]/g:0,F.push((c[r]||E)/h+w)),L=r;return F},Ju=os.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return os.processArabic&&(n=os.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,a)/t:Xa.apply(this,arguments).reduce(function(i,l){return i+l},0)},Ku=function(n,e,t,r){for(var a=[],i=0,l=n.length,c=0;i!==l&&c+e[i]<t;)c+=e[i],i++;a.push(n.slice(0,i));var h=i;for(c=0;i!==l;)c+e[i]>r&&(a.push(n.slice(h,i)),c=0,h=i),c+=e[i],i++;return h!==i&&a.push(n.slice(h,i)),a},Xu=function(n,e,t){t||(t={});var r,a,i,l,c,h,d,g=[],y=[g],w=t.textIndent||0,m=0,L=0,E=n.split(" "),F=Xa.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?E[0].length+2:t.lineIndent||0){var C=Array(h).join(" "),G=[];E.map(function(D){(D=D.split(/\s*\n/)).length>1?G=G.concat(D.map(function(se,ne){return(ne&&se.length?`
`:"")+se})):G.push(D[0])}),E=G,h=Ju.apply(this,[C,t])}for(i=0,l=E.length;i<l;i++){var W=0;if(r=E[i],h&&r[0]==`
`&&(r=r.substr(1),W=1),w+m+(L=(a=Xa.apply(this,[r,t])).reduce(function(D,se){return D+se},0))>e||W){if(L>e){for(c=Ku.apply(this,[r,a,e-(w+m),e]),g.push(c.shift()),g=[c.pop()];c.length;)y.push([c.shift()]);L=a.slice(r.length-(g[0]?g[0].length:0)).reduce(function(D,se){return D+se},0)}else g=[r];y.push(g),w=L+h,m=F}else g.push(r),w+=m+L,m=F}return d=h?function(D,se){return(se?C:"")+D.join(" ")}:function(D){return D.join(" ")},y.map(d)},os.splitTextToSize=function(n,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var y=this.internal.getFont(g.fontName,g.fontStyle),w="Unicode";return y.metadata[w]?{widths:y.metadata[w].widths||{0:1},kerning:y.metadata[w].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/a;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=t.lineIndent;var c,h,d=[];for(c=0,h=r.length;c<h;c++)d=d.concat(Xu.apply(this,[r[c],l,i]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},i=0;i<16;i++)r[t[i]]=e[i],a[e[i]]=t[i];var l=function(w){return"0x"+parseInt(w,10).toString(16)},c=n.__fontmetrics__.compress=function(w){var m,L,E,F,C=["{"];for(var G in w){if(m=w[G],isNaN(parseInt(G,10))?L="'"+G+"'":(G=parseInt(G,10),L=(L=l(G).slice(2)).slice(0,-1)+a[L.slice(-1)]),typeof m=="number")m<0?(E=l(m).slice(3),F="-"):(E=l(m).slice(2),F=""),E=F+E.slice(0,-1)+a[E.slice(-1)];else{if(Ft(m)!=="object")throw new Error("Don't know what to do with value type "+Ft(m)+".");E=c(m)}C.push(L+E)}return C.push("}"),C.join("")},h=n.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,L,E,F,C={},G=1,W=C,D=[],se="",ne="",ae=w.length-1,Y=1;Y<ae;Y+=1)(F=w[Y])=="'"?m?(E=m.join(""),m=void 0):m=[]:m?m.push(F):F=="{"?(D.push([W,E]),W={},E=void 0):F=="}"?((L=D.pop())[0][L[1]]=W,E=void 0,W=L[0]):F=="-"?G=-1:E===void 0?r.hasOwnProperty(F)?(se+=r[F],E=parseInt(se,16)*G,G=1,se=""):se+=F:r.hasOwnProperty(F)?(ne+=r[F],W[E]=parseInt(ne,16)*G,G=1,E=void 0,ne=""):ne+=F;return C},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(w){var m=w.font,L=y.Unicode[m.postScriptName];L&&(m.metadata.Unicode={},m.metadata.Unicode.widths=L.widths,m.metadata.Unicode.kerning=L.kerning);var E=g.Unicode[m.postScriptName];E&&(m.metadata.Unicode.encoding=E,m.encoding=E.codePages[0])}])})(De.API),(function(n){var e=function(t){for(var r=t.length,a=new Uint8Array(r),i=0;i<r;i++)a[i]=t.charCodeAt(i);return a};n.API.events.push(["addFont",function(t){var r=void 0,a=t.font,i=t.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(eo(c)),l.metadata=n.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,r)}}])})(De),De.API.addSvgAsImage=function(n,e,t,r,a,i,l,c){if(isNaN(e)||isNaN(t))throw Pt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw Pt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=r,h.height=a;var d=h.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(Xe.canvg?Promise.resolve(Xe.canvg):Xo(()=>import("./index.es-xRC-1UMm.js"),__vite__mapDeps([0,1,2]))).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(g)}).then(function(){y.addImage(h.toDataURL("image/jpeg",1),e,t,r,a,l,c)})},De.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},De.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,a,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),h=[],d=0,g=0,y=0;function w(L,E){var F,C=!1;for(F=0;F<L.length;F+=1)L[F]===E&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var m=c.length;for(y=0;y<m;y+=1)t[c[y]].value=t[c[y]].defaultValue,t[c[y]].explicitSet=!1}if(Ft(n)==="object"){for(a in n)if(i=n[a],w(c,a)&&i!==void 0){if(t[a].type==="boolean"&&typeof i=="boolean")t[a].value=i;else if(t[a].type==="name"&&w(t[a].valueSet,i))t[a].value=i;else if(t[a].type==="integer"&&Number.isInteger(i))t[a].value=i;else if(t[a].type==="array"){for(d=0;d<i.length;d+=1)if(r=!0,i[d].length===1&&typeof i[d][0]=="number")h.push(String(i[d]-1));else if(i[d].length>1){for(g=0;g<i[d].length;g+=1)typeof i[d][g]!="number"&&(r=!1);r===!0&&h.push([i[d][0]-1,i[d][1]-1].join(" "))}t[a].value="["+h.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var L,E=[];for(L in t)t[L].explicitSet===!0&&(t[L].type==="name"?E.push("/"+L+" /"+t[L].value):E.push("/"+L+" "+t[L].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},De.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",Ep),this.internal.events.subscribe("postPutResources",Pp)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(i,l){for(var c,h=l.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],y=0,w=i.length;y<w;++y){if(c=l.metadata.characterToGlyph(i.charCodeAt(y)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=i.charCodeAt(y),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(d[4-c.length],c)}return g.join("")},r=function(i){var l,c,h,d,g,y,w;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],y=0,w=(c=Object.keys(i).sort(function(m,L){return m-L})).length;y<w;y++)l=c[y],h.length>=100&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(d=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+d+">"));return h.length&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(l){var c=l.font,h=l.out,d=l.newObject,g=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),m="",L=0;L<w.length;L++)m+=String.fromCharCode(w[L]);var E=d();g({data:m,addLength1:!0,objectId:E}),h("endobj");var F=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:F}),h("endobj");var C=d();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+cs(c.fontName)),h("/FontFile2 "+E+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var G=d();h("<<"),h("/Type /Font"),h("/BaseFont /"+cs(c.fontName)),h("/FontDescriptor "+C+" 0 R"),h("/W "+n.API.PDFObject.convert(y)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=d(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+F+" 0 R"),h("/BaseFont /"+cs(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+G+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(l){var c=l.font,h=l.out,d=l.newObject,g=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,w="",m=0;m<y.length;m++)w+=String.fromCharCode(y[m]);var L=d();g({data:w,addLength1:!0,objectId:L}),h("endobj");var E=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:E}),h("endobj");var F=d();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+L+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+cs(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=d();for(var C=0;C<c.metadata.hmtx.widths.length;C++)c.metadata.hmtx.widths[C]=parseInt(c.metadata.hmtx.widths[C]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+cs(c.fontName)+"/FontDescriptor "+F+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(i)}]);var a=function(i){var l,c=i.text||"",h=i.x,d=i.y,g=i.options||{},y=i.mutex||{},w=y.pdfEscape,m=y.activeFontKey,L=y.fonts,E=m,F="",C=0,G="",W=L[E].encoding;if(L[E].encoding!=="Identity-H")return{text:c,x:h,y:d,options:g,mutex:y};for(G=c,E=m,Array.isArray(c)&&(G=c[0]),C=0;C<G.length;C+=1)L[E].metadata.hasOwnProperty("cmap")&&(l=L[E].metadata.cmap.unicode.codeMap[G[C].charCodeAt(0)]),l||G[C].charCodeAt(0)<256&&L[E].metadata.hasOwnProperty("Unicode")?F+=G[C]:F+="";var D="";return parseInt(E.slice(1))<14||W==="WinAnsiEncoding"?D=w(F,E).split("").map(function(se){return se.charCodeAt(0).toString(16)}).join(""):W==="Identity-H"&&(D=t(F,L[E])),y.isHex=!0,{text:D,x:h,y:d,options:g,mutex:y}};e.events.push(["postProcessText",function(i){var l=i.text||"",c=[],h={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?c.push([a(Object.assign({},h,{text:l[d][0]})).text,l[d][1],l[d][2]]):c.push(a(Object.assign({},h,{text:l[d]})).text);i.text=c}else i.text=a(Object.assign({},h,{text:l})).text}])})(De),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(De.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,i,l,c,h,d,g,y=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],L={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},F=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),G=!1,W=0;this.__bidiEngine__={};var D=function(S){var _=S.charCodeAt(),U=_>>8,z=E[U];return z!==void 0?y[256*z+(255&_)]:U===252||U===253?"AL":C.test(U)?"L":U===8?"R":"N"},se=function(S){for(var _,U=0;U<S.length;U++){if((_=D(S.charAt(U)))==="L")return!1;if(_==="R")return!0}return!1},ne=function(S,_,U,z){var oe,ue,fe,ie,pe=_[z];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":G=!1;break;case"N":case"AN":break;case"EN":G&&(pe="AN");break;case"AL":G=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":z<1||z+1>=_.length||(oe=U[z-1])!=="EN"&&oe!=="AN"||(ue=_[z+1])!=="EN"&&ue!=="AN"?pe="N":G&&(ue="AN"),pe=ue===oe?ue:"N";break;case"ES":pe=(oe=z>0?U[z-1]:"B")==="EN"&&z+1<_.length&&_[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&U[z-1]==="EN"){pe="EN";break}if(G){pe="N";break}for(fe=z+1,ie=_.length;fe<ie&&_[fe]==="ET";)fe++;pe=fe<ie&&_[fe]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(ie=_.length,fe=z+1;fe<ie&&_[fe]==="NSM";)fe++;if(fe<ie){var Ae=S[z],xe=Ae>=1425&&Ae<=2303||Ae===64286;if(oe=_[fe],xe&&(oe==="R"||oe==="AL")){pe="R";break}}}pe=z<1||(oe=_[z-1])==="B"?"N":U[z-1];break;case"B":G=!1,a=!0,pe=W;break;case"S":i=!0,pe="N"}return pe},ae=function(S,_,U){var z=S.split("");return U&&Y(z,U,{hiLevel:W}),z.reverse(),_&&_.reverse(),z.join("")},Y=function(S,_,U){var z,oe,ue,fe,ie,pe=-1,Ae=S.length,xe=0,k=[],T=W?m:w,q=[];for(G=!1,a=!1,i=!1,oe=0;oe<Ae;oe++)q[oe]=D(S[oe]);for(ue=0;ue<Ae;ue++){if(ie=xe,k[ue]=ne(S,q,k,ue),z=240&(xe=T[ie][L[k[ue]]]),xe&=15,_[ue]=fe=T[xe][5],z>0)if(z===16){for(oe=pe;oe<ue;oe++)_[oe]=1;pe=-1}else pe=-1;if(T[xe][6])pe===-1&&(pe=ue);else if(pe>-1){for(oe=pe;oe<ue;oe++)_[oe]=fe;pe=-1}q[ue]==="B"&&(_[ue]=0),U.hiLevel|=fe}i&&(function($,K,ee){for(var le=0;le<ee;le++)if($[le]==="S"){K[le]=W;for(var ce=le-1;ce>=0&&$[ce]==="WS";ce--)K[ce]=W}})(q,_,Ae)},B=function(S,_,U,z,oe){if(!(oe.hiLevel<S)){if(S===1&&W===1&&!a)return _.reverse(),void(U&&U.reverse());for(var ue,fe,ie,pe,Ae=_.length,xe=0;xe<Ae;){if(z[xe]>=S){for(ie=xe+1;ie<Ae&&z[ie]>=S;)ie++;for(pe=xe,fe=ie-1;pe<fe;pe++,fe--)ue=_[pe],_[pe]=_[fe],_[fe]=ue,U&&(ue=U[pe],U[pe]=U[fe],U[fe]=ue);xe=ie}xe++}}},Q=function(S,_,U){var z=S.split(""),oe={hiLevel:W};return U||(U=[]),Y(z,U,oe),(function(ue,fe,ie){if(ie.hiLevel!==0&&g)for(var pe,Ae=0;Ae<ue.length;Ae++)fe[Ae]===1&&(pe=F.indexOf(ue[Ae]))>=0&&(ue[Ae]=F[pe+1])})(z,U,oe),B(2,z,_,U,oe),B(1,z,_,U,oe),z.join("")};return this.__bidiEngine__.doBidiReorder=function(S,_,U){if((function(oe,ue){if(ue)for(var fe=0;fe<oe.length;fe++)ue[fe]=fe;c===void 0&&(c=se(oe)),d===void 0&&(d=se(oe))})(S,_),l||!h||d)if(l&&h&&c^d)W=c?1:0,S=ae(S,_,U);else if(!l&&h&&d)W=c?1:0,S=Q(S,_,U),S=ae(S,_);else if(!l||c||h||d){if(l&&!h&&c^d)S=ae(S,_),c?(W=0,S=Q(S,_,U)):(W=1,S=Q(S,_,U),S=ae(S,_));else if(l&&c&&!h&&d)W=1,S=Q(S,_,U),S=ae(S,_);else if(!l&&!h&&c^d){var z=g;c?(W=1,S=Q(S,_,U),W=0,g=!1,S=Q(S,_,U),g=z):(W=0,S=Q(S,_,U),S=ae(S,_),W=1,g=!1,S=Q(S,_,U),g=z,S=ae(S,_))}}else W=0,S=Q(S,_,U);else W=c?1:0,S=Q(S,_,U);return S},this.__bidiEngine__.setOptions=function(S){S&&(l=S.isInputVisual,h=S.isOutputVisual,c=S.isInputRtl,d=S.isOutputRtl,g=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(l=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?l.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):l.push([t.doBidiReorder(a[c])]);r.text=l}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(De),De.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new mi(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new $p(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Fp(this.contents),this.head=new Mp(this),this.name=new Dp(this),this.cmap=new df(this),this.toUnicode={},this.hhea=new Op(this),this.maxp=new qp(this),this.hmtx=new Up(this),this.post=new Tp(this),this.os2=new Rp(this),this.loca=new Wp(this),this.glyf=new Gp(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,h,d;for(d=[],l=0,c=(h=this.bbox).length;l<c;l++)e=h[l],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var a,i,l,c;for(l=0,i=0,c=(e=""+e).length;0<=c?i<c:i>c;i=0<=c?++i:--i)a=e.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var fr,mi=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,a,i,l,c,h;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^i)+65536*(255^l)+256*(255^c)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*i+65536*l+256*c+h},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,a,i;for(i=[],r=0,a=e.length;r<a;r++)t=e[r],i.push(this.writeByte(t));return i},n})(),Fp=(function(){var n;function e(t){var r,a,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,i,l,c,h,d,g,y,w,m,L,E;for(E in m=Object.keys(t).length,h=Math.log(2),y=16*Math.floor(Math.log(m)/h),l=Math.floor(y/h),g=16*m-y,(a=new mi).writeInt(this.scalarType),a.writeShort(m),a.writeShort(y),a.writeShort(l),a.writeShort(g),i=16*m,d=a.pos+i,c=null,L=[],t)for(w=t[E],a.writeString(E),a.writeInt(n(w)),a.writeInt(d),a.writeInt(w.length),L=L.concat(w),E==="head"&&(c=d),d+=w.length;d%4;)L.push(0),d++;return a.write(L),r=2981146554-n(a.data),a.pos=c+8,a.writeUInt32(r),a.data},n=function(t){var r,a,i,l;for(t=pf.call(t);t.length%4;)t.push(0);for(i=new mi(t),a=0,r=0,l=t.length;r<l;r=r+=4)a+=i.readUInt32();return 4294967295&a},e})(),Ip={}.hasOwnProperty,kr=function(n,e){for(var t in e)Ip.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};fr=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var Mp=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return kr(n,fr),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new mi).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),ah=(function(){function n(e,t){var r,a,i,l,c,h,d,g,y,w,m,L,E,F,C,G,W;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(m=e.readUInt16(),w=m/2,e.pos+=6,i=(function(){var D,se;for(se=[],h=D=0;0<=w?D<w:D>w;h=0<=w?++D:--D)se.push(e.readUInt16());return se})(),e.pos+=2,E=(function(){var D,se;for(se=[],h=D=0;0<=w?D<w:D>w;h=0<=w?++D:--D)se.push(e.readUInt16());return se})(),d=(function(){var D,se;for(se=[],h=D=0;0<=w?D<w:D>w;h=0<=w?++D:--D)se.push(e.readUInt16());return se})(),g=(function(){var D,se;for(se=[],h=D=0;0<=w?D<w:D>w;h=0<=w?++D:--D)se.push(e.readUInt16());return se})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var D,se;for(se=[],h=D=0;0<=a?D<a:D>a;h=0<=a?++D:--D)se.push(e.readUInt16());return se})(),h=C=0,W=i.length;C<W;h=++C)for(F=i[h],r=G=L=E[h];L<=F?G<=F:G>=F;r=L<=F?++G:--G)g[h]===0?l=r+d[h]:(l=c[g[h]/2+(r-L)-(w-h)]||0)!==0&&(l+=d[h]),this.codeMap[r]=65535&l}e.pos=y}return n.encode=function(e,t){var r,a,i,l,c,h,d,g,y,w,m,L,E,F,C,G,W,D,se,ne,ae,Y,B,Q,S,_,U,z,oe,ue,fe,ie,pe,Ae,xe,k,T,q,$,K,ee,le,ce,be,_e,je;switch(z=new mi,l=Object.keys(e).sort(function(Ce,Ue){return Ce-Ue}),t){case"macroman":for(E=0,F=(function(){var Ce=[];for(L=0;L<256;++L)Ce.push(0);return Ce})(),G={0:0},i={},oe=0,pe=l.length;oe<pe;oe++)G[ce=e[a=l[oe]]]==null&&(G[ce]=++E),i[a]={old:e[a],new:G[e[a]]},F[a]=G[e[a]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(F),{charMap:i,subtable:z.data,maxGlyphID:E+1};case"unicode":for(_=[],y=[],W=0,G={},r={},C=d=null,ue=0,Ae=l.length;ue<Ae;ue++)G[se=e[a=l[ue]]]==null&&(G[se]=++W),r[a]={old:se,new:G[se]},c=G[se]-a,C!=null&&c===d||(C&&y.push(C),_.push(a),d=c),C=a;for(C&&y.push(C),y.push(65535),_.push(65535),Q=2*(B=_.length),Y=2*Math.pow(Math.log(B)/Math.LN2,2),w=Math.log(Y/2)/Math.LN2,ae=2*B-Y,h=[],ne=[],m=[],L=fe=0,xe=_.length;fe<xe;L=++fe){if(S=_[L],g=y[L],S===65535){h.push(0),ne.push(0);break}if(S-(U=r[S].new)>=32768)for(h.push(0),ne.push(2*(m.length+B-L)),a=ie=S;S<=g?ie<=g:ie>=g;a=S<=g?++ie:--ie)m.push(r[a].new);else h.push(U-S),ne.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*B+2*m.length),z.writeUInt16(0),z.writeUInt16(Q),z.writeUInt16(Y),z.writeUInt16(w),z.writeUInt16(ae),ee=0,k=y.length;ee<k;ee++)a=y[ee],z.writeUInt16(a);for(z.writeUInt16(0),le=0,T=_.length;le<T;le++)a=_[le],z.writeUInt16(a);for(be=0,q=h.length;be<q;be++)c=h[be],z.writeUInt16(c);for(_e=0,$=ne.length;_e<$;_e++)D=ne[_e],z.writeUInt16(D);for(je=0,K=m.length;je<K;je++)E=m[je],z.writeUInt16(E);return{charMap:r,subtable:z.data,maxGlyphID:W+1}}},n})(),df=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return kr(n,fr),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new ah(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=ah.encode(e,t),(a=new mi).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),Op=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return kr(n,fr),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),Rp=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return kr(n,fr),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),Tp=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return kr(n,fr),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var l,c,h;for(h=[],i=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;i=0<=c?++l:--l)h.push(e.readUInt32());return h}).call(this)}},n})(),Bp=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Dp=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return kr(n,fr),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,a,i,l,c,h,d,g,y,w;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(h={},i=g=0,y=r.length;g<y;i=++g)a=r[i],e.pos=a.offset,d=e.readString(a.length),l=new Bp(d,a),h[w=a.nameID]==null&&(h[w]=[]),h[a.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},n})(),qp=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return kr(n,fr),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),Up=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return kr(n,fr),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,a,i,l,c,h;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,g;for(g=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)g.push(e.readInt16());return g})(),this.widths=(function(){var d,g,y,w;for(w=[],d=0,g=(y=this.metrics).length;d<g;d++)i=y[d],w.push(i.advance);return w}).call(this),r=this.widths[this.widths.length-1],h=[],t=l=0;0<=a?l<a:l>a;t=0<=a?++l:--l)h.push(this.widths.push(r));return h},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),pf=[].slice,Gp=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return kr(n,fr),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,a,i,l,c,h,d,g,y;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,r=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,l=(c=new mi(t.read(a))).readShort(),d=c.readShort(),y=c.readShort(),h=c.readShort(),g=c.readShort(),this.cache[e]=l===-1?new Hp(c,d,y,h,g):new zp(c,l,d,y,h,g),this.cache[e]))},n.prototype.encode=function(e,t,r){var a,i,l,c,h;for(l=[],i=[],c=0,h=t.length;c<h;c++)a=e[t[c]],i.push(l.length),a&&(l=l.concat(a.encode(r)));return i.push(l.length),{table:l,offsets:i}},n})(),zp=(function(){function n(e,t,r,a,i,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),Hp=(function(){function n(e,t,r,a,i){var l,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new mi(pf.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),Wp=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return kr(n,fr),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,i;for(i=[],r=0,a=this.length;r<a;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],r=0,a=this.length;r<a;r+=4)i.push(e.readUInt32());return i}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,i=0,l=0;l<r.length;++l)if(r[l]=a,i<t.length&&t[i]==l){++i,r[l]=a;var c=this.offsets[l],h=this.offsets[l+1]-c;h>0&&(a+=h)}for(var d=new Array(4*r.length),g=0;g<r.length;++g)d[4*g+3]=255&r[g],d[4*g+2]=(65280&r[g])>>8,d[4*g+1]=(16711680&r[g])>>16,d[4*g]=(4278190080&r[g])>>24;return d},n})(),$p=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,a,i;for(t in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[t],e[t]=a[r];return e},n.prototype.glyphsFor=function(e){var t,r,a,i,l,c,h;for(a={},l=0,c=e.length;l<c;l++)a[i=e[l]]=this.font.glyf.glyphFor(i);for(i in t=[],a)(r=a[i])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(i in h=this.glyphsFor(t))r=h[i],a[i]=r;return a},n.prototype.encode=function(e,t){var r,a,i,l,c,h,d,g,y,w,m,L,E,F,C;for(a in r=df.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),m={0:0},C=r.charMap)m[(h=C[a]).old]=h.new;for(L in w=r.maxGlyphID,l)L in m||(m[L]=w++);return g=(function(G){var W,D;for(W in D={},G)D[G[W]]=W;return D})(m),y=Object.keys(g).sort(function(G,W){return G-W}),E=(function(){var G,W,D;for(D=[],G=0,W=y.length;G<W;G++)c=y[G],D.push(g[c]);return D})(),i=this.font.glyf.encode(l,E,m),d=this.font.loca.encode(i.offsets,E),F={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(F["OS/2"]=this.font.os2.raw()),this.font.directory.encode(F)},n})();De.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,i,l;if(Array.isArray(t))return"["+(function(){var c,h,d;for(d=[],c=0,h=t.length;c<h;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in i=["<<"],t)l=t[a],i.push("/"+a+" "+e.convert(l));return i.push(">>"),i.join(`
`)}return""+t},e})();const Vp={orientation:"portrait",unit:"mm",format:"a4",margins:{top:20,right:20,bottom:20,left:20},fonts:{title:{size:20,style:"bold"},heading:{size:14,style:"bold"},subheading:{size:12,style:"bold"},body:{size:10,style:"normal"},small:{size:8,style:"normal"}},colors:{primary:[16,185,129],secondary:[71,85,105],scope1:[239,68,68],scope2:[245,158,11],scope3:[59,130,246],text:[15,23,42],muted:[100,116,139]}};function go(n,e={}){const t={...Vp,...e},r=new De({orientation:t.orientation,unit:t.unit,format:t.format}),a=r.internal.pageSize.getWidth(),i=r.internal.pageSize.getHeight();a-t.margins.left-t.margins.right;let l=t.margins.top;const c=F=>{const C=t.fonts[F];r.setFontSize(C.size),r.setFont("helvetica",C.style)},h=F=>{const C=t.colors[F];r.setTextColor(C[0],C[1],C[2])},d=(F,C="body",G="text")=>{c(C),h(G),r.text(F,t.margins.left,l),l+=t.fonts[C].size*.5},g=(F=5)=>{l+=F},y=(F=20)=>l+F>i-t.margins.bottom?(r.addPage(),l=t.margins.top,!0):!1;c("title"),h("primary"),r.text("Carbon Emissions Report",t.margins.left,l),l+=10,n.facility&&(c("body"),h("muted"),r.text(`Facility: ${n.facility.name}`,t.margins.left,l),l+=5,n.facility.location&&(r.text(`Location: ${n.facility.location}`,t.margins.left,l),l+=5)),c("small"),h("muted"),r.text(`Generated: ${new Date().toLocaleDateString()}`,t.margins.left,l),l+=3,n.metadata?.reportingPeriod&&(r.text(`Reporting Period: ${n.metadata.reportingPeriod}`,t.margins.left,l),l+=3),r.text(`GWP Version: ${n.metadata?.gwpVersion||"AR5"}`,t.margins.left,l),g(10),r.setDrawColor(226,232,240),r.line(t.margins.left,l,a-t.margins.right,l),g(10),d("Executive Summary","heading","text"),g(5);const w=n.totals||{},m=w.total_tonnes||0;if(c("body"),h("text"),r.text(`Total GHG Emissions: ${Fn(m)} tonnes CO2e`,t.margins.left,l),l+=6,[{name:"Scope 1 (Direct)",value:w.scope1_tonnes||0,color:t.colors.scope1},{name:"Scope 2 (Energy)",value:w.scope2_tonnes||0,color:t.colors.scope2},{name:"Scope 3 (Value Chain)",value:w.scope3_tonnes||0,color:t.colors.scope3}].forEach(F=>{const C=m>0?F.value/m*100:0;r.setTextColor(F.color[0],F.color[1],F.color[2]),r.text(`${F.name}: ${Fn(F.value)} tonnes (${C.toFixed(1)}%)`,t.margins.left+5,l),l+=5}),g(10),n.scope1&&w.scope1_tonnes>0&&(y(40),d("Scope 1 - Direct Emissions","heading","scope1"),g(5),c("body"),h("text"),n.scope1.stationaryCombustion&&(r.text(`Stationary Combustion: ${Fn(n.scope1.stationaryCombustion.co2e_tonnes)} tonnes CO2e`,t.margins.left+5,l),l+=5),n.scope1.mobileCombustion&&(r.text(`Mobile Combustion: ${Fn(n.scope1.mobileCombustion.co2e_tonnes)} tonnes CO2e`,t.margins.left+5,l),l+=5),n.scope1.flaring&&(r.text(`Flaring: ${Fn(n.scope1.flaring.co2e_tonnes)} tonnes CO2e`,t.margins.left+5,l),l+=5),n.scope1.venting&&(r.text(`Venting: ${Fn(n.scope1.venting.co2e_tonnes)} tonnes CO2e`,t.margins.left+5,l),l+=5),n.scope1.fugitive&&(r.text(`Fugitive Emissions: ${Fn(n.scope1.fugitive.co2e_tonnes)} tonnes CO2e`,t.margins.left+5,l),l+=5),g(8)),n.scope2&&w.scope2_tonnes>0&&(y(30),d("Scope 2 - Energy Indirect Emissions","heading","scope2"),g(5),c("body"),h("text"),n.scope2.locationBased&&(r.text(`Location-Based: ${Fn(n.scope2.locationBased.co2e_tonnes)} tonnes CO2e`,t.margins.left+5,l),l+=5),n.scope2.marketBased&&(r.text(`Market-Based: ${Fn(n.scope2.marketBased.co2e_tonnes)} tonnes CO2e`,t.margins.left+5,l),l+=5),g(8)),n.scope3&&w.scope3_tonnes>0){y(30),d("Scope 3 - Value Chain Emissions","heading","scope3"),g(5),c("body"),h("text");const F=n.scope3.categories||{};Object.entries(F).forEach(([C,G])=>{G&&(G.co2_tonnes||G.co2e_tonnes)&&(r.text(`Category ${C}: ${Fn(G.co2_tonnes||G.co2e_tonnes)} tonnes CO2e`,t.margins.left+5,l),l+=5)}),g(8)}n.intensity&&(y(40),d("Intensity Metrics","heading","text"),g(5),c("body"),h("text"),n.intensity.carbonIntensity&&(r.text(`Carbon Intensity: ${Fn(n.intensity.carbonIntensity.intensity)} kg CO2e/BOE`,t.margins.left+5,l),l+=5),n.intensity.methaneIntensity&&(r.text(`Methane Intensity: ${n.intensity.methaneIntensity.intensity.toFixed(3)}%`,t.margins.left+5,l),l+=5),n.intensity.flaringIntensity&&(r.text(`Flaring Intensity: ${Fn(n.intensity.flaringIntensity.intensity)} m/BOE`,t.margins.left+5,l),l+=5),g(8)),n.thresholds&&n.thresholds.length>0&&(y(30),d("Regulatory Threshold Alerts","heading","text"),g(5),c("body"),n.thresholds.forEach(F=>{r.setTextColor(239,68,68),r.text(` ${F.threshold}: ${Fn(F.value)} ${F.unit} (Limit: ${Fn(F.limit)})`,t.margins.left+5,l),l+=5}),g(8));const E=i-10;return c("small"),h("muted"),r.text("Generated by CarbonScope - ESG Carbon Footprint Calculator",t.margins.left,E),r.text("Page 1",a-t.margins.right-20,E),r}function mf(n,e="emissions-report.pdf",t={}){go(n,t).save(e)}function Yp(n,e={}){return go(n,e).output("blob")}function Jp(n,e={}){return go(n,e).output("datauristring")}function Fn(n){return n==null?"0":Number(n).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})}const Kp={generateReport:go,downloadReport:mf,getReportBlob:Yp,getReportBase64:Jp},Xp={industryAverage:{upstream:18.5}},Zp={targets:{OGCI_2025:.2}},vl={carbonIntensity:Xp,methaneIntensity:Zp},Qp=Object.entries(Qs).map(([n,e])=>({value:n,label:e})),e5=[{value:"US",label:"United States"},{value:"GB",label:"United Kingdom"},{value:"AU",label:"Australia"},{value:"MY",label:"Malaysia"},{value:"SG",label:"Singapore"},{value:"AE",label:"United Arab Emirates"},{value:"SA",label:"Saudi Arabia"},{value:"OTHER",label:"Other"}];function t5(){const[n,e]=Ie.useState([]),[t,r]=Ie.useState(null),[a,i]=Ie.useState(!1),[l,c]=Ie.useState(!1),[h,d]=Ie.useState([]),[g,y]=Ie.useState(null),[w,m]=Ie.useState({name:"",type:"",region:""}),{notify:L}=ia(),E=Ie.useCallback(()=>{e(Cl())},[]);Ie.useEffect(()=>{E()},[E]);const F=ne=>{ne.preventDefault(),w.name.trim()&&(Nh(w),m({name:"",type:"",region:""}),i(!1),E(),L.success("Facility created successfully"))},C=ne=>{window.confirm("Delete this facility and all its data?")&&(Q1(ne),E(),r(null),L.info("Facility deleted"))},G=n.filter(Vc),W=ne=>{d(ae=>ae.includes(ne)?ae.filter(Y=>Y!==ne):[...ae,ne])},D=()=>{const ne=n.filter(Y=>h.includes(Y.id));if(ne.length===0)return;const ae=ne.map(Y=>{const B=Y.calculations,Q=B?.totals?.scope1_tonnes??0,S=B?.totals?.scope2_tonnes??0,_=B?.totals?.total_tonnes??0,U=vl.carbonIntensity.industryAverage.upstream,z={facilityId:Y.id,facilityName:Y.name,scope1_tonnes:Q,scope2_tonnes:S,total_tonnes:_,carbonIntensity:{value:_>0?_:0,industryAverage:U,rating:_<=U?"Below Average":"Above Average"},methaneTarget:vl.methaneIntensity.targets.OGCI_2025};return e0(Y.id,z),z});y(ae),c(!1),d([]),E(),L.success("Benchmarking completed")},se=ne=>{const ae=ne.calculations;if(!ae)return;const Y={facility:{name:ne.name,location:ne.region},metadata:{gwpVersion:ae.gwpVersion||"AR5"},totals:ae.totals||{},scope1:ae.scope1||{},scope2:ae.scope2||{},scope3:ae.scope3||{}};mf(Y,`${ne.name.replace(/\s+/g,"-")}-report.pdf`),L.success("PDF report downloaded")};return u.jsxs("div",{className:"py-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Dashboard"}),u.jsx(ht,{leftIcon:Ui,onClick:()=>i(!0),children:"Add Facility"})]}),a&&u.jsxs(Ct,{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx(un,{children:"Add New Facility"}),u.jsx("button",{onClick:()=>i(!1),className:"p-1 text-secondary-400 hover:text-secondary-600 rounded-lg",children:u.jsx(bs,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:F,children:[u.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[u.jsx(St,{label:"Facility Name",placeholder:"e.g., Permian Basin Platform A",value:w.name,onChange:ne=>m({...w,name:ne.target.value}),required:!0}),u.jsx(Et,{label:"Facility Type",options:Qp,value:w.type,onChange:ne=>m({...w,type:ne.target.value}),placeholder:"Select type"}),u.jsx(Et,{label:"Region",options:e5,value:w.region,onChange:ne=>m({...w,region:ne.target.value}),placeholder:"Select region"})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[u.jsx(ht,{type:"button",variant:"secondary",onClick:()=>i(!1),children:"Cancel"}),u.jsx(ht,{type:"submit",children:"Create Facility"})]})]})]}),n.length===0?u.jsx(Ct,{children:u.jsx(Z1,{icon:kl,title:"No facilities yet",description:"Add a facility to start tracking emissions.",action:u.jsx(ht,{leftIcon:Ui,onClick:()=>i(!0),children:"Add Facility"})})}):u.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:n.map(ne=>{const ae=Vc(ne);return u.jsxs(Ct,{hover:!0,className:"cursor-pointer relative",onClick:()=>r(ne),children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${ae?"bg-green-100":"bg-secondary-100"}`,children:u.jsx(kl,{className:`w-5 h-5 ${ae?"text-green-600":"text-secondary-500"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-semibold text-secondary-900 truncate",children:ne.name}),u.jsx("p",{className:"text-sm text-secondary-500",children:Qs[ne.type]||ne.type||"Unspecified"}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-secondary-400 mt-1",children:[u.jsx(vh,{className:"w-3 h-3"}),u.jsx("span",{children:ne.region||"No region"})]})]})]}),u.jsx("div",{className:"mt-3",children:ae?u.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-green-700 bg-green-50 border border-green-200 px-2 py-1 rounded-full",children:[u.jsx(Gl,{className:"w-3 h-3"})," Results Saved"]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-secondary-500 bg-secondary-50 border border-secondary-200 px-2 py-1 rounded-full",children:[u.jsx(Gd,{className:"w-3 h-3"})," No Calculations Yet"]}),u.jsx(Bi,{to:"/calculator",onClick:Y=>Y.stopPropagation(),className:"text-xs text-primary-600 hover:underline font-medium",children:"Calculate"})]})})]},ne.id)})}),G.length>0&&u.jsx("div",{className:"mb-8",children:l?u.jsxs(Ct,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx(un,{children:"Select Facilities to Benchmark"}),u.jsx("button",{onClick:()=>c(!1),className:"p-1 text-secondary-400 hover:text-secondary-600 rounded-lg",children:u.jsx(bs,{className:"w-5 h-5"})})]}),u.jsx("p",{className:"text-sm text-secondary-600 mb-4",children:"Only facilities with saved calculations are shown."}),u.jsx("div",{className:"space-y-2 mb-4",children:G.map(ne=>u.jsxs("label",{className:"flex items-center gap-3 p-3 bg-secondary-50 rounded-lg cursor-pointer hover:bg-secondary-100",children:[u.jsx("input",{type:"checkbox",checked:h.includes(ne.id),onChange:()=>W(ne.id),className:"w-4 h-4 rounded text-primary-600 focus:ring-primary-500"}),u.jsx("span",{className:"text-secondary-900 font-medium",children:ne.name}),u.jsxs("span",{className:"text-xs text-secondary-500 ml-auto",children:[ne.calculations?.totals?.total_tonnes?.toLocaleString(void 0,{maximumFractionDigits:2})??""," tCO2e"]})]},ne.id))}),u.jsx("div",{className:"flex justify-end",children:u.jsxs(ht,{onClick:D,disabled:h.length===0,leftIcon:Sl,children:["Run Benchmark (",h.length," selected)"]})})]}):u.jsx(ht,{variant:"outline",leftIcon:Sl,onClick:()=>c(!0),children:"Run Benchmark"})}),g&&u.jsxs(Ct,{className:"mb-8",children:[u.jsx(un,{children:"Benchmark Results"}),u.jsx("div",{className:"mt-4 overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-secondary-200",children:[u.jsx("th",{className:"text-left py-2 pr-4 text-secondary-600 font-medium",children:"Facility"}),u.jsx("th",{className:"text-right py-2 px-4 text-secondary-600 font-medium",children:"Scope 1"}),u.jsx("th",{className:"text-right py-2 px-4 text-secondary-600 font-medium",children:"Scope 2"}),u.jsx("th",{className:"text-right py-2 px-4 text-secondary-600 font-medium",children:"Total"}),u.jsx("th",{className:"text-left py-2 pl-4 text-secondary-600 font-medium",children:"vs Industry Avg"})]})}),u.jsx("tbody",{children:g.map(ne=>u.jsxs("tr",{className:"border-b border-secondary-100",children:[u.jsx("td",{className:"py-2 pr-4 font-medium text-secondary-900",children:ne.facilityName}),u.jsx("td",{className:"py-2 px-4 text-right text-secondary-700",children:ne.scope1_tonnes.toLocaleString(void 0,{maximumFractionDigits:2})}),u.jsx("td",{className:"py-2 px-4 text-right text-secondary-700",children:ne.scope2_tonnes.toLocaleString(void 0,{maximumFractionDigits:2})}),u.jsx("td",{className:"py-2 px-4 text-right font-medium text-secondary-900",children:ne.total_tonnes.toLocaleString(void 0,{maximumFractionDigits:2})}),u.jsx("td",{className:"py-2 pl-4",children:u.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded ${ne.carbonIntensity.rating==="Below Average"?"bg-green-50 text-green-700":"bg-amber-50 text-amber-700"}`,children:ne.carbonIntensity.rating})})]},ne.facilityId))})]})}),u.jsxs("p",{className:"text-xs text-secondary-400 mt-3",children:["Industry average (upstream): ",vl.carbonIntensity.industryAverage.upstream," kgCO2e/BOE. Benchmark data saved to each facility."]})]}),u.jsx(K1,{isOpen:!!t,onClose:()=>r(null),title:t?.name||"Facility Details",size:"xl",children:t&&u.jsx(n5,{facility:t,onDelete:()=>C(t.id),onGenerateReport:()=>se(t)})})]})}function n5({facility:n,onDelete:e,onGenerateReport:t}){const r=n.calculations,a=n.benchmarks,i=!!r;return u.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-1",children:[u.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-secondary-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-secondary-500",children:"Type"}),u.jsx("p",{className:"font-medium text-secondary-900",children:Qs[n.type]||n.type||""})]}),u.jsxs("div",{className:"bg-secondary-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-secondary-500",children:"Region"}),u.jsx("p",{className:"font-medium text-secondary-900",children:n.region||""})]}),u.jsxs("div",{className:"bg-secondary-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-secondary-500",children:"Created"}),u.jsx("p",{className:"font-medium text-secondary-900",children:new Date(n.createdAt).toLocaleDateString()})]})]}),i?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-secondary-700 mb-3",children:"Calculation Results"}),u.jsxs("div",{className:"grid sm:grid-cols-3 gap-3",children:[u.jsx(xl,{label:"Scope 1",value:r.totals?.scope1_tonnes,icon:zl,color:"red"}),u.jsx(xl,{label:"Scope 2",value:r.totals?.scope2_tonnes,icon:ho,color:"amber"}),u.jsx(xl,{label:"Scope 3",value:r.totals?.scope3_tonnes,icon:Yl,color:"blue"})]}),u.jsxs("div",{className:"mt-3 bg-primary-50 border border-primary-200 rounded-lg p-3 text-center",children:[u.jsx("p",{className:"text-xs text-primary-600",children:"Total GHG Emissions"}),u.jsx("p",{className:"text-2xl font-bold text-primary-800",children:(r.totals?.total_tonnes??0).toLocaleString(void 0,{maximumFractionDigits:2})}),u.jsx("p",{className:"text-xs text-primary-500",children:"tonnes CO2e"})]}),u.jsxs("p",{className:"text-xs text-secondary-400 mt-2",children:["Calculated: ",new Date(r.savedAt).toLocaleString()]})]}),r.scope1&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-secondary-700 mb-2",children:"Scope 1 Breakdown"}),u.jsxs("div",{className:"space-y-1",children:[r.scope1.stationaryCombustion&&u.jsx(Js,{label:"Stationary Combustion",value:r.scope1.stationaryCombustion.co2e_tonnes}),r.scope1.mobileCombustion&&u.jsx(Js,{label:"Mobile Combustion",value:r.scope1.mobileCombustion.co2e_tonnes}),r.scope1.flaring&&u.jsx(Js,{label:"Flaring",value:r.scope1.flaring.co2e_tonnes}),r.scope1.venting&&u.jsx(Js,{label:"Venting",value:r.scope1.venting.co2e_tonnes}),r.scope1.fugitive&&u.jsx(Js,{label:"Fugitive Emissions",value:r.scope1.fugitive.co2e_tonnes})]})]})]}):u.jsx(cr,{variant:"info",title:"No Calculations",children:"This facility has no saved calculations yet. Go to the Calculator to run one."}),a&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-secondary-700 mb-2",children:"Benchmark Results"}),u.jsxs("div",{className:"bg-secondary-50 rounded-lg p-3 space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-secondary-600",children:"Total Emissions"}),u.jsxs("span",{className:"font-medium",children:[a.total_tonnes?.toLocaleString(void 0,{maximumFractionDigits:2})," tCO2e"]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-secondary-600",children:"Industry Avg (upstream)"}),u.jsxs("span",{className:"font-medium",children:[a.carbonIntensity?.industryAverage," kgCO2e/BOE"]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-secondary-600",children:"Rating"}),u.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded ${a.carbonIntensity?.rating==="Below Average"?"bg-green-50 text-green-700":"bg-amber-50 text-amber-700"}`,children:a.carbonIntensity?.rating})]}),u.jsxs("p",{className:"text-xs text-secondary-400",children:["Benchmarked: ",new Date(a.savedAt).toLocaleString()]})]})]}),u.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-secondary-200",children:[i&&u.jsx(ht,{variant:"primary",leftIcon:Hl,onClick:t,children:"Generate Report (PDF)"}),u.jsx(ht,{variant:"danger",leftIcon:gs,onClick:e,className:"ml-auto",children:"Delete Facility"})]})]})}function xl({label:n,value:e,icon:t,color:r}){const a=e??0,i={red:{bg:"bg-red-50",text:"text-red-700",icon:"text-red-500"},amber:{bg:"bg-amber-50",text:"text-amber-700",icon:"text-amber-500"},blue:{bg:"bg-blue-50",text:"text-blue-700",icon:"text-blue-500"}},l=i[r]||i.red;return u.jsxs("div",{className:`${l.bg} rounded-lg p-3`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(t,{className:`w-4 h-4 ${l.icon}`}),u.jsx("span",{className:"text-xs font-medium text-secondary-600",children:n})]}),u.jsx("p",{className:`text-lg font-bold ${l.text}`,children:a.toLocaleString(void 0,{maximumFractionDigits:2})}),u.jsx("p",{className:"text-xs text-secondary-400",children:"tonnes CO2e"})]})}function Js({label:n,value:e}){return!e&&e!==0?null:u.jsxs("div",{className:"flex justify-between text-sm py-1",children:[u.jsx("span",{className:"text-secondary-600",children:n}),u.jsxs("span",{className:"font-medium text-secondary-900",children:[e.toLocaleString(void 0,{maximumFractionDigits:2})," tCO2e"]})]})}const r5=[{id:"simple",name:"Simple Mode",description:"Quick estimates with pre-configured emission factors",icon:ho,color:"bg-green-100 text-green-600",features:["Pre-configured EPA emission factors","Common fuel types only","Default regional grid factors","Industry average fugitive estimates","Results in minutes"],recommended:!0},{id:"expert",name:"Expert Mode",description:"Equipment-level inputs with full customization",icon:$l,color:"bg-blue-100 text-blue-600",features:["Custom emission factors","Equipment-level inputs","Component count method for fugitives","Gas composition analysis for flaring","Uncertainty quantification"],recommended:!1}];function i5({onSelectMode:n}){return u.jsxs("div",{className:"py-8 max-w-4xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Select Calculation Mode"}),u.jsx("p",{className:"text-secondary-600",children:"Choose the level of detail for your emission calculations"})]}),u.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:r5.map(e=>u.jsxs(Ct,{hover:!0,className:`cursor-pointer relative ${e.recommended?"ring-2 ring-primary-500":""}`,onClick:()=>n(e.id),children:[e.recommended&&u.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:u.jsx("span",{className:"bg-primary-600 text-white text-xs font-medium px-3 py-1 rounded-full",children:"Recommended"})}),u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`w-12 h-12 ${e.color} rounded-xl flex items-center justify-center flex-shrink-0`,children:u.jsx(e.icon,{className:"w-6 h-6"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:e.name}),u.jsx("p",{className:"text-sm text-secondary-500 mt-1",children:e.description})]})]}),u.jsx("ul",{className:"mt-4 space-y-2",children:e.features.map((t,r)=>u.jsxs("li",{className:"flex items-center gap-2 text-sm text-secondary-600",children:[u.jsx(ea,{className:"w-4 h-4 text-primary-500 flex-shrink-0"}),t]},r))}),u.jsxs(ht,{variant:e.recommended?"primary":"outline",className:"w-full mt-6",rightIcon:Dl,children:["Select ",e.name]})]},e.id))}),u.jsx("p",{className:"text-center text-sm text-secondary-500 mt-6",children:"You can switch between modes at any time during the calculation process"})]})}function s5({steps:n,currentStep:e,onStepClick:t}){return u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center",children:n.map((r,a)=>u.jsxs("div",{className:"flex-1 flex items-center",children:[u.jsxs("button",{onClick:()=>t(a),disabled:a>e+1,className:`
                flex items-center gap-3 p-2 rounded-lg transition-colors
                ${a<=e?"cursor-pointer hover:bg-primary-50":a===e+1?"cursor-pointer hover:bg-secondary-50":"cursor-not-allowed opacity-50"}
              `,children:[u.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center font-medium
                  ${a<e?"bg-primary-600 text-white":a===e?"bg-primary-600 text-white ring-4 ring-primary-100":"bg-secondary-200 text-secondary-600"}
                `,children:a<e?u.jsx(ea,{className:"w-5 h-5"}):a+1}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:`font-medium ${a<=e?"text-secondary-900":"text-secondary-500"}`,children:r.label}),u.jsx("p",{className:"text-xs text-secondary-500",children:r.description})]})]}),a<n.length-1&&u.jsx("div",{className:`flex-1 h-1 mx-2 rounded ${a<e?"bg-primary-600":"bg-secondary-200"}`})]},r.id))}),u.jsxs("div",{className:"sm:hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-sm font-medium text-secondary-900",children:["Step ",e+1," of ",n.length]}),u.jsx("span",{className:"text-sm text-secondary-500",children:n[e].label})]}),u.jsx("div",{className:"w-full bg-secondary-200 rounded-full h-2",children:u.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${(e+1)/n.length*100}%`}})}),u.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:n[e].description})]})]})}const a5=[{value:"naturalGas",label:"Natural Gas"},{value:"distillateFuelOil",label:"Diesel / Distillate Fuel Oil"},{value:"residualFuelOil",label:"Residual Fuel Oil"},{value:"crudeOil",label:"Crude Oil"},{value:"lpg",label:"LPG / Propane"},{value:"motorGasoline",label:"Motor Gasoline"},{value:"kerosene",label:"Kerosene / Jet Fuel"}],o5=[{value:"MMBtu",label:"MMBtu"},{value:"mcf",label:"MCF (thousand cubic feet)"},{value:"gallon",label:"Gallons"},{value:"barrel",label:"Barrels"},{value:"therm",label:"Therms"}],l5=[{value:"PassengerCar",label:"Passenger Cars"},{value:"LightTruck",label:"Light-Duty Trucks"},{value:"HeavyTruck",label:"Heavy-Duty Trucks"},{value:"Equipment",label:"Off-Road Equipment"}],c5=[{value:"production_onshore",label:"Onshore Production"},{value:"production_offshore",label:"Offshore Production"},{value:"gathering",label:"Gathering & Boosting"},{value:"processing",label:"Gas Processing"},{value:"transmission",label:"Transmission"}];function u5({mode:n,data:e,onUpdate:t}){const[r,a]=Ie.useState("stationary"),i=[{id:"stationary",label:"Stationary",icon:zl},{id:"mobile",label:"Mobile",icon:Ed},{id:"flaring",label:"Flaring",icon:e1},{id:"venting",label:"Venting",icon:O1},{id:"fugitive",label:"Fugitive",icon:Wd}],l=()=>{t({stationaryCombustion:[...e.stationaryCombustion,{id:Date.now(),fuelType:"",quantity:"",unit:"MMBtu"}]})},c=(w,m,L)=>{t({stationaryCombustion:e.stationaryCombustion.map(E=>E.id===w?{...E,[m]:L}:E)})},h=w=>{t({stationaryCombustion:e.stationaryCombustion.filter(m=>m.id!==w)})},d=()=>{t({mobileCombustion:[...e.mobileCombustion,{id:Date.now(),vehicleType:"",fuelType:"motorGasoline",quantity:"",unit:"gallon"}]})},g=(w,m,L)=>{t({mobileCombustion:e.mobileCombustion.map(E=>E.id===w?{...E,[m]:L}:E)})},y=w=>{t({mobileCombustion:e.mobileCombustion.filter(m=>m.id!==w)})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-secondary-900",children:"Scope 1: Direct Emissions"}),u.jsx("p",{className:"text-secondary-600 mt-1",children:"Emissions from sources owned or controlled by your organization"})]}),u.jsx("div",{className:"flex flex-wrap gap-2 border-b border-secondary-200 pb-2",children:i.map(w=>u.jsxs("button",{onClick:()=>a(w.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r===w.id?"bg-primary-100 text-primary-700":"text-secondary-600 hover:bg-secondary-100"}`,children:[u.jsx(w.icon,{className:"w-4 h-4"}),w.label]},w.id))}),r==="stationary"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(cr,{variant:"info",children:"Enter fuel consumption from boilers, heaters, furnaces, turbines, and other stationary equipment."}),e.stationaryCombustion.map((w,m)=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-secondary-50 rounded-lg",children:[u.jsx(Et,{label:"Fuel Type",options:a5,value:w.fuelType,onChange:L=>c(w.id,"fuelType",L.target.value),placeholder:"Select fuel"}),u.jsx(St,{label:"Quantity",type:"number",placeholder:"Enter amount",value:w.quantity,onChange:L=>c(w.id,"quantity",L.target.value)}),u.jsx(Et,{label:"Unit",options:o5,value:w.unit,onChange:L=>c(w.id,"unit",L.target.value)}),u.jsx("div",{className:"flex items-end",children:u.jsx(ht,{variant:"ghost",onClick:()=>h(w.id),className:"text-red-600 hover:bg-red-50",children:u.jsx(gs,{className:"w-4 h-4"})})})]},w.id)),u.jsx(ht,{variant:"outline",onClick:l,leftIcon:Ui,children:"Add Fuel Source"})]}),r==="mobile"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(cr,{variant:"info",children:"Enter fuel consumption from company-owned vehicles and mobile equipment."}),e.mobileCombustion.map(w=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 bg-secondary-50 rounded-lg",children:[u.jsx(Et,{label:"Vehicle Type",options:l5,value:w.vehicleType,onChange:m=>g(w.id,"vehicleType",m.target.value),placeholder:"Select type"}),u.jsx(Et,{label:"Fuel Type",options:[{value:"motorGasoline",label:"Gasoline"},{value:"diesel",label:"Diesel"}],value:w.fuelType,onChange:m=>g(w.id,"fuelType",m.target.value)}),u.jsx(St,{label:"Quantity",type:"number",placeholder:"Enter amount",value:w.quantity,onChange:m=>g(w.id,"quantity",m.target.value)}),u.jsx(Et,{label:"Unit",options:[{value:"gallon",label:"Gallons"},{value:"liter",label:"Liters"}],value:w.unit,onChange:m=>g(w.id,"unit",m.target.value)}),u.jsx("div",{className:"flex items-end",children:u.jsx(ht,{variant:"ghost",onClick:()=>y(w.id),className:"text-red-600 hover:bg-red-50",children:u.jsx(gs,{className:"w-4 h-4"})})})]},w.id)),u.jsx(ht,{variant:"outline",onClick:d,leftIcon:Ui,children:"Add Vehicle"})]}),r==="flaring"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(cr,{variant:"info",children:"Enter flare gas volumes. Default method uses 98% combustion efficiency per 40 CFR  98.253."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(St,{label:"Flare Gas Volume",type:"number",placeholder:"Enter volume",value:e.flaring.volume,onChange:w=>t({flaring:{...e.flaring,volume:w.target.value}})}),u.jsx(Et,{label:"Unit",options:[{value:"MMscf",label:"MMscf (million standard cubic feet)"},{value:"mcf",label:"MCF (thousand cubic feet)"},{value:"scf",label:"SCF (standard cubic feet)"}],value:e.flaring.unit,onChange:w=>t({flaring:{...e.flaring,unit:w.target.value}})})]}),n==="expert"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-secondary-50 rounded-lg",children:[u.jsx(St,{label:"Combustion Efficiency (%)",type:"number",placeholder:"98",helperText:"Default: 98% per EPA methodology"}),u.jsx(St,{label:"Higher Heating Value (MMBtu/MMscf)",type:"number",placeholder:"1000",helperText:"Default: 1000 MMBtu/MMscf"})]})]}),r==="venting"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(cr,{variant:"info",children:"Enter volumes of gas vented directly to the atmosphere."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(Et,{label:"Venting Source",options:[{value:"tanks",label:"Storage Tanks"},{value:"pneumatic",label:"Pneumatic Devices"},{value:"blowdowns",label:"Equipment Blowdowns"},{value:"compressors",label:"Compressor Starts"},{value:"other",label:"Other"}],placeholder:"Select source"}),u.jsx(St,{label:"Volume",type:"number",placeholder:"Enter volume"}),u.jsx(Et,{label:"Unit",options:[{value:"mcf",label:"MCF"},{value:"scf",label:"SCF"}]})]})]}),r==="fugitive"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(cr,{variant:"info",children:"Fugitive emissions from equipment leaks. Simple mode uses industry averages; Expert mode allows component counting."}),n==="simple"?u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Et,{label:"Facility Type",options:c5,value:e.fugitives.facilityType,onChange:w=>t({fugitives:{...e.fugitives,facilityType:w.target.value}}),helperText:"Industry average factors will be applied"}),u.jsx(St,{label:"Annual Production (BOE)",type:"number",placeholder:"Enter production",helperText:"Barrels of oil equivalent"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-secondary-600",children:"Enter component counts for the EPA Protocol method:"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[u.jsx(St,{label:"Valves (Gas Service)",type:"number",placeholder:"0"}),u.jsx(St,{label:"Connectors",type:"number",placeholder:"0"}),u.jsx(St,{label:"Pump Seals",type:"number",placeholder:"0"}),u.jsx(St,{label:"Compressor Seals",type:"number",placeholder:"0"}),u.jsx(St,{label:"PRVs",type:"number",placeholder:"0"}),u.jsx(St,{label:"Open-Ended Lines",type:"number",placeholder:"0"})]})]})]})]})}const h5=[{value:"US",label:"United States"},{value:"GB",label:"United Kingdom"},{value:"DE",label:"Germany"},{value:"FR",label:"France"},{value:"MY",label:"Malaysia"},{value:"SG",label:"Singapore"},{value:"AU",label:"Australia"},{value:"AE",label:"United Arab Emirates"},{value:"SA",label:"Saudi Arabia"},{value:"QA",label:"Qatar"},{value:"BR",label:"Brazil"}],f5=[{value:"",label:"National Average"},{value:"CAMX",label:"California (CAMX)"},{value:"ERCT",label:"Texas - ERCOT (ERCT)"},{value:"FRCC",label:"Florida (FRCC)"},{value:"MROW",label:"Midwest (MROW)"},{value:"NEWE",label:"New England (NEWE)"},{value:"NWPP",label:"Northwest (NWPP)"},{value:"RFCE",label:"Mid-Atlantic (RFCE)"},{value:"SRMW",label:"Upper Midwest (SRMW)"}],d5=[{value:"",label:"National Average"},{value:"NSW",label:"New South Wales"},{value:"VIC",label:"Victoria"},{value:"QLD",label:"Queensland"},{value:"SA",label:"South Australia"},{value:"WA",label:"Western Australia"},{value:"TAS",label:"Tasmania"}],p5=[{value:"peninsular",label:"Peninsular Malaysia"},{value:"sabah",label:"Sabah"},{value:"sarawak",label:"Sarawak"}],m5={US:{factor:.373,unit:"kgCO2/kWh"},GB:{factor:.212,unit:"kgCO2/kWh"},DE:{factor:.38,unit:"kgCO2/kWh"},FR:{factor:.052,unit:"kgCO2/kWh"},MY:{factor:.774,unit:"kgCO2/kWh"},SG:{factor:.402,unit:"kgCO2/kWh"},AU:{factor:.68,unit:"kgCO2/kWh"},AE:{factor:.45,unit:"kgCO2/kWh"},SA:{factor:.52,unit:"kgCO2/kWh"},QA:{factor:.48,unit:"kgCO2/kWh"},BR:{factor:.085,unit:"kgCO2/kWh"}};function g5({mode:n,data:e,onUpdate:t}){const[r,a]=Ie.useState("location"),{settings:i}=ra(),l=e.electricity.region||i.defaultRegion,c=m5[l],d=(()=>{switch(l){case"US":return f5;case"AU":return d5;case"MY":return p5;default:return[]}})();return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-secondary-900",children:"Scope 2: Energy Emissions"}),u.jsx("p",{className:"text-secondary-600 mt-1",children:"Indirect emissions from purchased electricity, steam, heat, and cooling"})]}),u.jsxs("div",{className:"flex gap-2 border-b border-secondary-200 pb-2",children:[u.jsxs("button",{onClick:()=>a("location"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="location"?"bg-primary-100 text-primary-700":"text-secondary-600 hover:bg-secondary-100"}`,children:[u.jsx(vh,{className:"w-4 h-4"}),"Location-Based"]}),u.jsxs("button",{onClick:()=>a("market"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="market"?"bg-primary-100 text-primary-700":"text-secondary-600 hover:bg-secondary-100"}`,children:[u.jsx(j1,{className:"w-4 h-4"}),"Market-Based"]})]}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(St,{label:"Electricity Consumption",type:"number",placeholder:"Enter kWh",value:e.electricity.kWh,onChange:g=>t({electricity:{...e.electricity,kWh:g.target.value}}),helperText:"Annual electricity consumption in kilowatt-hours"}),u.jsx(Et,{label:"Unit",options:[{value:"kWh",label:"kWh"},{value:"MWh",label:"MWh"},{value:"GWh",label:"GWh"}],value:"kWh"})]})}),r==="location"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(cr,{variant:"info",children:"Location-based method uses average grid emission factors for your region. This reflects the average emissions intensity of the local grid."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Et,{label:"Region",options:h5,value:l,onChange:g=>t({electricity:{...e.electricity,region:g.target.value,subregion:""}})}),d.length>0&&u.jsx(Et,{label:"Subregion (Optional)",options:d,value:e.electricity.subregion,onChange:g=>t({electricity:{...e.electricity,subregion:g.target.value}}),helperText:"More specific regional factors available"})]}),c&&u.jsxs("div",{className:"bg-secondary-50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(ho,{className:"w-5 h-5 text-amber-500"}),u.jsx("span",{className:"font-medium text-secondary-900",children:"Grid Emission Factor"})]}),u.jsxs("div",{className:"text-2xl font-bold text-secondary-900",children:[c.factor," ",c.unit]}),u.jsx("p",{className:"text-sm text-secondary-500 mt-1",children:"Source: EPA eGRID / IEA / Regional data"})]})]}),r==="market"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(cr,{variant:"info",children:"Market-based method accounts for renewable energy purchases (RECs, PPAs) and supplier-specific emission factors."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(St,{label:"Renewable Energy Certificates (RECs)",type:"number",placeholder:"Enter MWh",helperText:"MWh of renewable electricity purchased"}),u.jsx(Et,{label:"REC Type",options:[{value:"green_e",label:"Green-e Certified"},{value:"i_rec",label:"I-REC"},{value:"go",label:"Guarantee of Origin (EU)"},{value:"other",label:"Other"}],placeholder:"Select type"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(St,{label:"Supplier-Specific Emission Factor",type:"number",placeholder:"kgCO2/kWh",helperText:"If known from your utility provider"}),u.jsx(St,{label:"Power Purchase Agreement (PPA)",type:"number",placeholder:"Enter MWh",helperText:"MWh from direct renewable PPAs"})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(uo,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"text-sm text-blue-800",children:[u.jsx("p",{className:"font-medium",children:"GHG Protocol Dual Reporting"}),u.jsx("p",{className:"mt-1",children:"Organizations are required to report both location-based and market-based Scope 2 emissions to provide a complete picture."})]})]})})]}),u.jsxs("div",{className:"border-t border-secondary-200 pt-6",children:[u.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-4",children:"Other Purchased Energy"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(St,{label:"Purchased Steam",type:"number",placeholder:"Enter MMBtu",helperText:"If applicable"}),u.jsx(St,{label:"Purchased Heating",type:"number",placeholder:"Enter MMBtu",helperText:"If applicable"}),u.jsx(St,{label:"Purchased Cooling",type:"number",placeholder:"Enter ton-hours",helperText:"If applicable"})]})]})]})}const b5=[{id:1,name:"Purchased Goods and Services",relevance:"medium"},{id:2,name:"Capital Goods",relevance:"medium"},{id:3,name:"Fuel and Energy Related Activities",relevance:"high"},{id:4,name:"Upstream Transportation and Distribution",relevance:"high"},{id:5,name:"Waste Generated in Operations",relevance:"low"},{id:6,name:"Business Travel",relevance:"low"},{id:7,name:"Employee Commuting",relevance:"low"},{id:8,name:"Upstream Leased Assets",relevance:"medium"},{id:9,name:"Downstream Transportation and Distribution",relevance:"high"},{id:10,name:"Processing of Sold Products",relevance:"high"},{id:11,name:"Use of Sold Products",relevance:"critical"},{id:12,name:"End-of-Life Treatment of Sold Products",relevance:"low"},{id:13,name:"Downstream Leased Assets",relevance:"low"},{id:14,name:"Franchises",relevance:"none"},{id:15,name:"Investments",relevance:"medium"}],y5=[{value:"motorGasoline",label:"Motor Gasoline"},{value:"diesel",label:"Diesel"},{value:"jetFuel",label:"Jet Fuel"},{value:"lpg",label:"LPG"},{value:"residualFuelOil",label:"Residual Fuel Oil"},{value:"naturalGas",label:"Natural Gas"},{value:"crudeOil",label:"Crude Oil"}],v5={critical:"bg-red-100 text-red-700 border-red-200",high:"bg-amber-100 text-amber-700 border-amber-200",medium:"bg-blue-100 text-blue-700 border-blue-200",low:"bg-secondary-100 text-secondary-600 border-secondary-200",none:"bg-secondary-50 text-secondary-400 border-secondary-100"};function x5({mode:n,data:e,onUpdate:t}){const[r,a]=Ie.useState(11),i=()=>{t({includeScope3:!e.includeScope3})},l=()=>{t({category11:[...e.category11,{id:Date.now(),productType:"",quantity:"",unit:"gallon"}]})},c=(d,g,y)=>{t({category11:e.category11.map(w=>w.id===d?{...w,[g]:y}:w)})},h=d=>{t({category11:e.category11.filter(g=>g.id!==d)})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-secondary-900",children:"Scope 3: Value Chain Emissions"}),u.jsx("p",{className:"text-secondary-600 mt-1",children:"Indirect emissions from upstream and downstream activities"})]}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-secondary-900",children:"Include Scope 3 Emissions"}),u.jsx("p",{className:"text-sm text-secondary-500",children:"Optional but recommended for comprehensive carbon footprinting"})]}),u.jsx("button",{onClick:i,className:`w-12 h-6 rounded-full transition-colors ${e.includeScope3?"bg-primary-600":"bg-secondary-300"}`,children:u.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform ${e.includeScope3?"translate-x-6":"translate-x-0.5"}`})})]}),e.includeScope3?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Vl,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-amber-800",children:"Important for Oil & Gas"}),u.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Category 11 (Use of Sold Products) is the largest emission source for most O&G companies, often exceeding Scope 1 and 2 combined."})]})]})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-secondary-700 mb-3",children:"Select Categories to Include"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:b5.map(d=>u.jsxs("button",{onClick:()=>a(d.id),className:`text-left p-3 rounded-lg border transition-colors ${r===d.id?"border-primary-500 bg-primary-50":v5[d.relevance]}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-xs font-medium",children:["Cat ",d.id]}),d.relevance==="critical"&&u.jsx("span",{className:"text-xs bg-red-500 text-white px-1.5 py-0.5 rounded",children:"Critical"})]}),u.jsx("p",{className:"text-sm mt-1 line-clamp-1",children:d.name})]},d.id))})]}),r===11&&u.jsxs("div",{className:"space-y-4 border-t border-secondary-200 pt-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(n1,{className:"w-5 h-5 text-red-500"}),u.jsx("h3",{className:"text-lg font-medium text-secondary-900",children:"Category 11: Use of Sold Products"})]}),u.jsx("p",{className:"text-sm text-secondary-600",children:"Enter volumes of petroleum products sold to customers. Emissions are calculated based on end-use combustion."}),e.category11.map(d=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-secondary-50 rounded-lg",children:[u.jsx(Et,{label:"Product Type",options:y5,value:d.productType,onChange:g=>c(d.id,"productType",g.target.value),placeholder:"Select product"}),u.jsx(St,{label:"Quantity Sold",type:"number",placeholder:"Enter amount",value:d.quantity,onChange:g=>c(d.id,"quantity",g.target.value)}),u.jsx(Et,{label:"Unit",options:[{value:"gallon",label:"Gallons"},{value:"barrel",label:"Barrels"},{value:"liter",label:"Liters"},{value:"MMBtu",label:"MMBtu (gas)"}],value:d.unit,onChange:g=>c(d.id,"unit",g.target.value)}),u.jsx("div",{className:"flex items-end",children:u.jsx(ht,{variant:"ghost",onClick:()=>h(d.id),className:"text-red-600 hover:bg-red-50",children:u.jsx(gs,{className:"w-4 h-4"})})})]},d.id)),u.jsx(ht,{variant:"outline",onClick:l,leftIcon:Ui,children:"Add Product"})]}),r===4&&u.jsxs("div",{className:"space-y-4 border-t border-secondary-200 pt-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Yl,{className:"w-5 h-5 text-blue-500"}),u.jsx("h3",{className:"text-lg font-medium text-secondary-900",children:"Category 4: Upstream Transportation"})]}),u.jsx("p",{className:"text-sm text-secondary-600",children:"Transportation of purchased products from suppliers."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(Et,{label:"Transport Mode",options:[{value:"truck",label:"Truck"},{value:"rail",label:"Rail"},{value:"ship",label:"Ship"},{value:"pipeline",label:"Pipeline"}],placeholder:"Select mode"}),u.jsx(St,{label:"Weight (tonnes)",type:"number",placeholder:"Enter weight"}),u.jsx(St,{label:"Distance (km)",type:"number",placeholder:"Enter distance"}),u.jsx("div",{className:"flex items-end",children:u.jsx(ht,{variant:"outline",leftIcon:Ui,children:"Add"})})]})]}),r!==11&&r!==4&&u.jsx("div",{className:"border-t border-secondary-200 pt-6",children:u.jsxs("div",{className:"text-center py-8",children:[u.jsx(g1,{className:"w-12 h-12 text-secondary-300 mx-auto mb-3"}),u.jsxs("p",{className:"text-secondary-500",children:["Detailed input form for Category ",r," coming soon."]}),u.jsx("p",{className:"text-sm text-secondary-400 mt-1",children:"Focus on Category 11 for the most material O&G emissions."})]})})]}):u.jsx(cr,{variant:"info",children:"Scope 3 emissions are optional. For oil and gas companies, Category 11 (Use of Sold Products) typically represents 70-90% of total value chain emissions."})]})}function bo(n,e={}){const{includeMetadata:t=!0,includeBreakdown:r=!0,includeIntensity:a=!0,includeThresholds:i=!0}=e,l=[];l.push("# Carbon Emissions Report"),l.push(""),n.facility&&(l.push(`**Facility:** ${n.facility.name}`),n.facility.location&&l.push(`**Location:** ${n.facility.location}`),l.push("")),t&&(l.push(`**Generated:** ${new Date().toLocaleString()}`),n.metadata?.reportingPeriod&&l.push(`**Reporting Period:** ${n.metadata.reportingPeriod}`),l.push(`**GWP Version:** ${n.metadata?.gwpVersion||"AR5"}`),l.push("")),l.push("---"),l.push(""),l.push("## Executive Summary"),l.push("");const c=n.totals||{},h=c.total_tonnes||0;if(l.push(`**Total GHG Emissions:** ${kn(h)} tonnes CO2e`),l.push(""),l.push("| Scope | Emissions (tonnes CO2e) | Percentage |"),l.push("|-------|------------------------|------------|"),[{name:"Scope 1 (Direct)",value:c.scope1_tonnes||0},{name:"Scope 2 (Energy)",value:c.scope2_tonnes||0},{name:"Scope 3 (Value Chain)",value:c.scope3_tonnes||0}].forEach(g=>{const y=h>0?g.value/h*100:0;l.push(`| ${g.name} | ${kn(g.value)} | ${y.toFixed(1)}% |`)}),l.push(`| **Total** | **${kn(h)}** | **100%** |`),l.push(""),r&&(n.scope1&&(c.scope1_tonnes||0)>0&&(l.push("## Scope 1 - Direct Emissions"),l.push(""),l.push("Direct emissions from owned or controlled sources."),l.push(""),l.push("| Source | Emissions (tonnes CO2e) |"),l.push("|--------|------------------------|"),n.scope1.stationaryCombustion&&l.push(`| Stationary Combustion | ${kn(n.scope1.stationaryCombustion.co2e_tonnes)} |`),n.scope1.mobileCombustion&&l.push(`| Mobile Combustion | ${kn(n.scope1.mobileCombustion.co2e_tonnes)} |`),n.scope1.flaring&&l.push(`| Flaring | ${kn(n.scope1.flaring.co2e_tonnes)} |`),n.scope1.venting&&l.push(`| Venting | ${kn(n.scope1.venting.co2e_tonnes)} |`),n.scope1.fugitive&&l.push(`| Fugitive Emissions | ${kn(n.scope1.fugitive.co2e_tonnes)} |`),l.push(""),n.scope1.flaring?.methodology&&(l.push(`> **Flaring Methodology:** ${n.scope1.flaring.methodology}`),l.push(""))),n.scope2&&(c.scope2_tonnes||0)>0&&(l.push("## Scope 2 - Energy Indirect Emissions"),l.push(""),l.push("Indirect emissions from purchased electricity, steam, heating, and cooling."),l.push(""),l.push("| Method | Emissions (tonnes CO2e) |"),l.push("|--------|------------------------|"),n.scope2.locationBased&&l.push(`| Location-Based | ${kn(n.scope2.locationBased.co2e_tonnes)} |`),n.scope2.marketBased&&l.push(`| Market-Based | ${kn(n.scope2.marketBased.co2e_tonnes)} |`),n.scope2.steam&&l.push(`| Purchased Steam | ${kn(n.scope2.steam.co2e_tonnes)} |`),l.push(""),n.scope2.locationBased?.gridFactor&&(l.push(`> **Grid Factor:** ${n.scope2.locationBased.gridFactor} ${n.scope2.locationBased.gridFactorUnit}`),l.push(`> **Region:** ${n.scope2.locationBased.region}${n.scope2.locationBased.subregion?" / "+n.scope2.locationBased.subregion:""}`),l.push(""))),n.scope3&&(c.scope3_tonnes||0)>0)){l.push("## Scope 3 - Value Chain Emissions"),l.push(""),l.push("All other indirect emissions in the value chain."),l.push("");const g=n.scope3.categories||{},y={1:"Purchased Goods and Services",2:"Capital Goods",3:"Fuel and Energy Related Activities",4:"Upstream Transportation",5:"Waste Generated",6:"Business Travel",7:"Employee Commuting",8:"Upstream Leased Assets",9:"Downstream Transportation",10:"Processing of Sold Products",11:"Use of Sold Products",12:"End-of-Life Treatment",13:"Downstream Leased Assets",14:"Franchises",15:"Investments"};l.push("| Category | Description | Emissions (tonnes CO2e) |"),l.push("|----------|-------------|------------------------|"),Object.entries(g).forEach(([w,m])=>{m&&(m.co2_tonnes||m.co2e_tonnes)&&l.push(`| ${w} | ${y[w]||"Unknown"} | ${kn(m.co2_tonnes||m.co2e_tonnes)} |`)}),l.push(""),g[11]&&(l.push("> **Note:** Category 11 (Use of Sold Products) typically represents 70-90% of Scope 3 emissions for oil and gas companies."),l.push(""))}if(a&&n.intensity){if(l.push("## Intensity Metrics"),l.push(""),l.push("| Metric | Value | Unit |"),l.push("|--------|-------|------|"),n.intensity.carbonIntensity){const g=n.intensity.carbonIntensity;l.push(`| Carbon Intensity | ${kn(g.intensity)} | kg CO2e/BOE |`),g.comparison?.rating&&l.push(`| Industry Benchmark | ${g.comparison.percentile} | ${g.comparison.rating} |`)}if(n.intensity.methaneIntensity){const g=n.intensity.methaneIntensity;if(l.push(`| Methane Intensity | ${g.intensity.toFixed(3)} | % |`),g.targetComparison?.ogci2025){const y=g.targetComparison.ogci2025.met?" Met":" Not Met";l.push(`| OGCI 2025 Target (0.20%) | ${y} | - |`)}}if(n.intensity.flaringIntensity){const g=n.intensity.flaringIntensity;l.push(`| Flaring Intensity | ${kn(g.intensity)} | m/BOE |`)}l.push("")}return i&&n.thresholds&&n.thresholds.length>0&&(l.push("## Regulatory Threshold Alerts"),l.push(""),l.push(">  **Warning:** The following regulatory thresholds have been exceeded."),l.push(""),l.push("| Regulation | Value | Threshold | Requirement |"),l.push("|------------|-------|-----------|-------------|"),n.thresholds.forEach(g=>{l.push(`| ${g.threshold} | ${kn(g.value)} ${g.unit} | ${kn(g.limit)} | ${g.requirement} |`)}),l.push("")),l.push("## Methodology"),l.push(""),l.push("This report was generated following:"),l.push(""),l.push("- **GHG Protocol Corporate Standard** for Scope 1 and 2 emissions"),l.push("- **GHG Protocol Scope 3 Standard** for value chain emissions"),l.push("- **40 CFR Part 98** for flaring calculations (Subpart Y)"),l.push("- **EPA Emission Factors Hub** for combustion emission factors"),l.push(""),l.push("---"),l.push(""),l.push("*Generated by [CarbonScope](https://github.com/carbonscope) - ESG Carbon Footprint Calculator*"),l.join(`
`)}function w5(n,e="emissions-report.md",t={}){const r=bo(n,t),a=new Blob([r],{type:"text/markdown;charset=utf-8"}),i=URL.createObjectURL(a),l=document.createElement("a");l.href=i,l.download=e,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i)}async function N5(n,e={}){try{const t=bo(n,e);return await navigator.clipboard.writeText(t),!0}catch{return!1}}function kn(n){return n==null?"0":Number(n).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})}const _5={generateMarkdownReport:bo,downloadMarkdownReport:w5,copyMarkdownToClipboard:N5};function gf(n,e={}){const{includeMetadata:t=!0,separator:r=",",lineBreak:a=`
`}=e,i=[];i.push(["Scope","Category","Source","Emissions (tonnes CO2e)","Unit","Methodology"].join(r));const l=n.totals||{};if(n.scope1&&(n.scope1.stationaryCombustion&&i.push(["1","Stationary Combustion",n.scope1.stationaryCombustion.fuelType||"Mixed",n.scope1.stationaryCombustion.co2e_tonnes||0,"tonnes CO2e","EPA Emission Factors"].join(r)),n.scope1.mobileCombustion&&i.push(["1","Mobile Combustion",n.scope1.mobileCombustion.vehicleType||"Mixed",n.scope1.mobileCombustion.co2e_tonnes||0,"tonnes CO2e","EPA Emission Factors"].join(r)),n.scope1.flaring&&i.push(["1","Flaring","Natural Gas",n.scope1.flaring.co2e_tonnes||0,"tonnes CO2e",n.scope1.flaring.methodology||"40 CFR Part 98"].join(r)),n.scope1.venting&&i.push(["1","Venting","Natural Gas",n.scope1.venting.co2e_tonnes||0,"tonnes CO2e",n.scope1.venting.methodology||"Direct Venting"].join(r)),n.scope1.fugitive&&i.push(["1","Fugitive Emissions",n.scope1.fugitive.serviceType||"Gas Service",n.scope1.fugitive.co2e_tonnes||0,"tonnes CO2e",n.scope1.fugitive.methodology||"EPA Protocol"].join(r))),n.scope2&&(n.scope2.locationBased&&i.push(["2","Purchased Electricity",`Location-Based (${n.scope2.locationBased.region||"Unknown"})`,n.scope2.locationBased.co2e_tonnes||0,"tonnes CO2e","GHG Protocol Scope 2 Guidance"].join(r)),n.scope2.marketBased&&i.push(["2","Purchased Electricity","Market-Based",n.scope2.marketBased.co2e_tonnes||0,"tonnes CO2e","GHG Protocol Scope 2 Guidance"].join(r)),n.scope2.steam&&i.push(["2","Purchased Steam","Steam",n.scope2.steam.co2e_tonnes||0,"tonnes CO2e","GHG Protocol Scope 2 Guidance"].join(r))),n.scope3?.categories){const c={1:"Purchased Goods and Services",2:"Capital Goods",3:"Fuel and Energy Related Activities",4:"Upstream Transportation",5:"Waste Generated",6:"Business Travel",7:"Employee Commuting",8:"Upstream Leased Assets",9:"Downstream Transportation",10:"Processing of Sold Products",11:"Use of Sold Products",12:"End-of-Life Treatment",13:"Downstream Leased Assets",14:"Franchises",15:"Investments"};Object.entries(n.scope3.categories).forEach(([h,d])=>{d&&i.push(["3",`Category ${h}`,c[h]||"Unknown",d.co2_tonnes||d.co2e_tonnes||0,"tonnes CO2e",d.methodology||"GHG Protocol Scope 3"].join(r))})}return i.push(["Total","Scope 1","All Sources",l.scope1_tonnes||0,"tonnes CO2e",""].join(r)),i.push(["Total","Scope 2","All Sources",l.scope2_tonnes||0,"tonnes CO2e",""].join(r)),i.push(["Total","Scope 3","All Sources",l.scope3_tonnes||0,"tonnes CO2e",""].join(r)),i.push(["Total","All Scopes","Total GHG Emissions",l.total_tonnes||0,"tonnes CO2e",""].join(r)),i.join(a)}function bf(n,e={}){const{separator:t=",",lineBreak:r=`
`}=e,a=[];if(a.push(["Scope","Category","Source","CO2 (kg)","CH4 (kg)","N2O (kg)","CO2e (kg)","CO2e (tonnes)","GWP Version","Methodology"].join(t)),n.scope1?.stationaryCombustion){const i=n.scope1.stationaryCombustion;a.push(["1","Stationary Combustion",i.fuelType||"Unknown",i.co2_kg||0,i.ch4_kg||0,i.n2o_kg||0,i.co2e_kg||0,i.co2e_tonnes||0,i.gwpVersion||"AR5","EPA Emission Factors"].join(t))}if(n.scope1?.flaring){const i=n.scope1.flaring;a.push(["1","Flaring","Natural Gas",i.co2_kg||0,i.ch4_kg||0,i.n2o_kg||0,i.co2e_kg||0,i.co2e_tonnes||0,i.gwpVersion||"AR5",i.methodology||"40 CFR Part 98"].join(t))}if(n.scope1?.fugitive){const i=n.scope1.fugitive;a.push(["1","Fugitive Emissions",i.serviceType||"Gas Service",0,i.ch4_kg||0,0,i.co2e_kg||0,i.co2e_tonnes||0,i.gwpVersion||"AR5",i.methodology||"EPA Protocol"].join(t))}if(n.scope2?.locationBased){const i=n.scope2.locationBased;a.push(["2","Purchased Electricity (Location)",i.region||"Unknown",i.co2e_kg||0,0,0,i.co2e_kg||0,i.co2e_tonnes||0,"N/A","GHG Protocol Location-Based"].join(t))}if(n.scope2?.marketBased){const i=n.scope2.marketBased;a.push(["2","Purchased Electricity (Market)","Market Instruments",i.co2e_kg||0,0,0,i.co2e_kg||0,i.co2e_tonnes||0,"N/A","GHG Protocol Market-Based"].join(t))}return n.scope3?.categories&&Object.entries(n.scope3.categories).forEach(([i,l])=>{l&&a.push(["3",`Category ${i}`,l.categoryName||"Unknown",l.co2_kg||0,0,0,l.co2_kg||l.co2e_kg||0,l.co2_tonnes||l.co2e_tonnes||0,l.gwpVersion||"AR5",l.methodology||"GHG Protocol Scope 3"].join(t))}),a.join(r)}function yf(n,e={}){const{separator:t=",",lineBreak:r=`
`}=e,a=[];if(a.push(["Metric","Value","Unit","Benchmark","Rating"].join(t)),n.intensity){if(n.intensity.carbonIntensity){const i=n.intensity.carbonIntensity;a.push(["Carbon Intensity",i.intensity||0,i.unit||"kgCO2e/BOE",i.comparison?.industryAverage||"",i.comparison?.rating||""].join(t))}if(n.intensity.methaneIntensity){const i=n.intensity.methaneIntensity;a.push(["Methane Intensity",i.intensity||0,i.unit||"percent",i.industryAverage||"",i.targetComparison?.ogci2025?.met?"Met Target":"Below Target"].join(t))}if(n.intensity.flaringIntensity){const i=n.intensity.flaringIntensity;a.push(["Flaring Intensity",i.intensity||0,i.unit||"m/BOE",i.comparison?.globalAverage||"",i.comparison?.rating||""].join(t))}if(n.intensity.revenueIntensity){const i=n.intensity.revenueIntensity;a.push(["Revenue Intensity",i.intensity||0,i.unit||"tCO2e/million revenue","",""].join(t))}}return a.join(r)}function yo(n,e="emissions-data.csv"){const r=new Blob(["\uFEFF"+n],{type:"text/csv;charset=utf-8"}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)}function A5(n,e="emissions-summary.csv",t={}){const r=gf(n,t);yo(r,e)}function k5(n,e="emissions-detailed.csv",t={}){const r=bf(n,t);yo(r,e)}function S5(n,e="intensity-metrics.csv",t={}){const r=yf(n,t);yo(r,e)}const wl={generateEmissionsCSV:gf,generateDetailedCSV:bf,generateIntensityCSV:yf,downloadCSV:yo,downloadEmissionsCSV:A5,downloadDetailedCSV:k5,downloadIntensityCSV:S5};async function C5(n,e,t={}){const{filename:r}=t,a=new Date().toISOString().split("T")[0],i=n.facility?.name?.replace(/\s+/g,"-")||"report";switch(e){case"pdf":Kp.downloadReport(n,r||`${i}-emissions-${a}.pdf`,t);break;case"markdown":_5.downloadMarkdownReport(n,r||`${i}-emissions-${a}.md`,t);break;case"csv":wl.downloadEmissionsCSV(n,r||`${i}-emissions-${a}.csv`,t);break;case"csv-detailed":wl.downloadDetailedCSV(n,r||`${i}-emissions-detailed-${a}.csv`,t);break;case"csv-intensity":wl.downloadIntensityCSV(n,r||`${i}-intensity-${a}.csv`,t);break;case"json":j5(n,r||`${i}-emissions-${a}.json`);break;default:throw new Error(`Unknown export format: ${e}`)}}function j5(n,e){const t=JSON.stringify(n,null,2),r=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)}function L5({data:n,results:e,gwpVersion:t}){const{notify:r}=ia(),[a,i]=Ie.useState(!1),[l,c]=Ie.useState(!1),[h,d]=Ie.useState(null),[g,y]=Ie.useState(""),[w,m]=Ie.useState({name:"",type:"other",region:"US"});if(!e)return u.jsx("div",{className:"py-12 text-center",children:u.jsx("p",{className:"text-secondary-500",children:'No results yet. Complete the previous steps and click "Calculate Emissions".'})});const{totals:L,scope1:E,scope2:F,scope3:C}=e,G=L.total_tonnes,W=[];L.scope1_tonnes>0&&W.push({name:"Scope 1",value:L.scope1_tonnes,color:"bg-scope1",textColor:"text-scope1",icon:zl,description:"Direct emissions"}),L.scope2_tonnes>0&&W.push({name:"Scope 2",value:L.scope2_tonnes,color:"bg-scope2",textColor:"text-scope2",icon:ho,description:"Energy emissions"}),L.scope3_tonnes>0&&W.push({name:"Scope 3",value:L.scope3_tonnes,color:"bg-scope3",textColor:"text-scope3",icon:Yl,description:"Value chain"});function D(){return{totals:e.totals,scope1:e.scope1,scope2:e.scope2,scope3:e.scope3?{categories:{11:{co2e_tonnes:e.scope3.total_co2e_tonnes,methodology:"GHG Protocol Scope 3"}}}:void 0,metadata:{gwpVersion:e.gwpVersion,calculatedAt:e.calculatedAt}}}const se=_=>{try{C5(D(),_),r.success(`Exported as ${_.toUpperCase()}`)}catch(U){console.error("Export error:",U),r.error("Export failed: "+U.message)}i(!1)},ne=async()=>{try{const _=bo(D());await navigator.clipboard.writeText(_),r.success("Results copied to clipboard as Markdown")}catch{r.error("Failed to copy to clipboard")}},ae=()=>{if(!g){r.error("Select a facility first");return}const _=Cl().find(z=>z.id===g);_?.calculations&&!window.confirm("This facility already has saved calculations. Overwrite?")||($c(g,e),r.success(`Saved to "${_.name}"`),c(!1),d(null))},Y=()=>{if(!w.name.trim()){r.error("Facility name is required");return}const _=Nh(w);$c(_.id,e),r.success(`Created "${_.name}" and saved results`),c(!1),d(null),m({name:"",type:"other",region:"US"})},B=_=>Number(_).toLocaleString("en-US",{maximumFractionDigits:2}),Q=_=>G>0?(_/G*100).toFixed(1):"0",S=Cl();return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-secondary-900",children:"Calculation Results"}),u.jsxs("p",{className:"text-secondary-600 mt-1",children:["GWP: ",e.gwpVersion,"  ",new Date(e.calculatedAt).toLocaleString()]})]}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsx(ht,{variant:"outline",leftIcon:A1,onClick:ne,children:"Share"}),u.jsxs("div",{className:"relative",children:[u.jsx(ht,{variant:"outline",leftIcon:Vd,rightIcon:Ul,onClick:()=>i(!a),children:"Export"}),a&&u.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-secondary-200 z-10",children:[{fmt:"pdf",label:"PDF Report"},{fmt:"markdown",label:"Markdown"},{fmt:"csv",label:"CSV Data"},{fmt:"json",label:"JSON"}].map(_=>u.jsxs("button",{onClick:()=>se(_.fmt),className:"w-full text-left px-4 py-2 text-sm hover:bg-secondary-50 first:rounded-t-lg last:rounded-b-lg flex items-center gap-2",children:[u.jsx(Hl,{className:"w-4 h-4 text-secondary-400"}),_.label]},_.fmt))})]})]})]}),u.jsxs(cr,{variant:"success",title:"Calculation Complete",children:["Your emissions have been calculated using GHG Protocol methodologies with IPCC ",e.gwpVersion," Global Warming Potentials."]}),u.jsx(Ct,{className:"bg-gradient-to-br from-primary-50 to-primary-100 border-primary-200",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-primary-700 font-medium",children:"Total GHG Emissions"}),u.jsx("p",{className:"text-5xl font-bold text-primary-900 mt-2",children:B(G)}),u.jsx("p",{className:"text-primary-600 mt-1",children:"tonnes CO2e"})]})}),W.length>0&&u.jsx("div",{className:`grid gap-4 ${W.length===1?"grid-cols-1":W.length===2?"md:grid-cols-2":"md:grid-cols-3"}`,children:W.map(_=>u.jsx(Ct,{children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${_.color}`}),u.jsx("span",{className:"font-medium text-secondary-900",children:_.name})]}),u.jsx("p",{className:"text-2xl font-bold text-secondary-900 mt-2",children:B(_.value)}),u.jsx("p",{className:"text-sm text-secondary-500",children:"tonnes CO2e"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx(_.icon,{className:`w-8 h-8 ${_.textColor}`}),u.jsxs("p",{className:"text-lg font-semibold text-secondary-700 mt-2",children:[Q(_.value),"%"]})]})]})},_.name))}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[L.scope1_tonnes>0&&E&&u.jsxs(Ct,{children:[u.jsx(un,{children:"Scope 1 Breakdown"}),u.jsxs("div",{className:"mt-4 space-y-3",children:[E.stationaryCombustion&&u.jsx(Nl,{label:"Stationary Combustion",value:E.stationaryCombustion.co2e_tonnes,detail:`${E.stationaryCombustion.sourceCount} source(s)`}),E.mobileCombustion&&u.jsx(Nl,{label:"Mobile Combustion",value:E.mobileCombustion.co2e_tonnes,detail:`${E.mobileCombustion.sourceCount} source(s)`}),E.flaring&&u.jsx(Nl,{label:"Flaring",value:E.flaring.co2e_tonnes,detail:E.flaring.methodology})]})]}),L.scope2_tonnes>0&&F&&u.jsxs(Ct,{children:[u.jsx(un,{children:"Scope 2 Details"}),u.jsx("div",{className:"mt-4 space-y-4",children:F.locationBased&&u.jsxs("div",{className:"p-3 bg-secondary-50 rounded-lg",children:[u.jsx("p",{className:"text-sm text-secondary-500",children:"Location-Based"}),u.jsxs("p",{className:"text-xl font-bold text-secondary-900",children:[B(F.locationBased.co2e_tonnes)," tCO2e"]}),u.jsxs("p",{className:"text-xs text-secondary-500 mt-1",children:["Grid factor: ",F.locationBased.gridFactor," kgCO2/kWh  Region: ",F.locationBased.region]})]})})]}),L.scope3_tonnes>0&&C&&u.jsxs(Ct,{children:[u.jsx(un,{children:"Scope 3 Details"}),u.jsx("div",{className:"mt-4",children:u.jsxs("div",{className:"p-3 bg-secondary-50 rounded-lg",children:[u.jsx("p",{className:"text-sm text-secondary-500",children:"Category 11  Use of Sold Products"}),u.jsxs("p",{className:"text-xl font-bold text-secondary-900",children:[B(C.total_co2e_tonnes)," tCO2e"]})]})})]})]}),u.jsxs(Ct,{children:[u.jsx(un,{children:"Summary"}),u.jsxs("div",{className:"grid sm:grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[u.jsx(Za,{label:"Scope 1",value:`${B(L.scope1_tonnes)} t`,sub:"Direct"}),u.jsx(Za,{label:"Scope 2",value:`${B(L.scope2_tonnes)} t`,sub:"Energy"}),u.jsx(Za,{label:"Scope 3",value:`${B(L.scope3_tonnes)} t`,sub:"Value chain"}),u.jsx(Za,{label:"GWP",value:e.gwpVersion,sub:e.gwpVersion==="AR6"?"IPCC 2021":"IPCC 2014"})]})]}),u.jsxs(Ct,{children:[u.jsx(un,{children:"Save to Facility"}),u.jsx("p",{className:"text-secondary-600 mt-1 text-sm",children:"Save these results to a facility for benchmarking and reporting."}),l?u.jsxs("div",{className:"mt-4 space-y-4",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:()=>d("existing"),className:`flex-1 p-3 rounded-lg border text-left transition-colors ${h==="existing"?"border-primary-500 bg-primary-50":"border-secondary-200 hover:border-secondary-300"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(zc,{className:"w-4 h-4 text-primary-600"}),u.jsx("span",{className:"font-medium text-secondary-900",children:"Save to Existing"})]}),u.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:"Choose from your saved facilities"})]}),u.jsxs("button",{onClick:()=>d("new"),className:`flex-1 p-3 rounded-lg border text-left transition-colors ${h==="new"?"border-primary-500 bg-primary-50":"border-secondary-200 hover:border-secondary-300"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ui,{className:"w-4 h-4 text-primary-600"}),u.jsx("span",{className:"font-medium text-secondary-900",children:"Create New Facility"})]}),u.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:"Create a new facility and save"})]})]}),h==="existing"&&u.jsx("div",{className:"space-y-3",children:S.length===0?u.jsx("p",{className:"text-secondary-500 text-sm",children:"No facilities found. Create one instead."}):u.jsxs(u.Fragment,{children:[u.jsxs("select",{value:g,onChange:_=>y(_.target.value),className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[u.jsx("option",{value:"",children:"Select a facility..."}),S.map(_=>u.jsxs("option",{value:_.id,children:[_.name," (",Qs[_.type]||_.type,")",_.calculations?"  has data":""]},_.id))]}),u.jsx(ht,{onClick:ae,leftIcon:Dc,children:"Save"})]})}),h==="new"&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("input",{type:"text",placeholder:"Facility name",value:w.name,onChange:_=>m({...w,name:_.target.value}),className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("select",{value:w.type,onChange:_=>m({...w,type:_.target.value}),className:"px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:Object.entries(Qs).map(([_,U])=>u.jsx("option",{value:_,children:U},_))}),u.jsx("input",{type:"text",placeholder:"Region (e.g. US)",value:w.region,onChange:_=>m({...w,region:_.target.value}),className:"px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),u.jsx(ht,{onClick:Y,leftIcon:Dc,children:"Create & Save"})]}),u.jsx("button",{onClick:()=>{c(!1),d(null)},className:"text-sm text-secondary-500 hover:text-secondary-700",children:"Cancel"})]}):u.jsx("div",{className:"mt-4",children:u.jsx(ht,{leftIcon:zc,onClick:()=>c(!0),children:"Save Results"})})]})]})}function Nl({label:n,value:e,detail:t}){const r=a=>Number(a).toLocaleString("en-US",{maximumFractionDigits:2});return u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-secondary-700",children:n}),t&&u.jsxs("span",{className:"text-xs text-secondary-400 ml-2",children:["(",t,")"]})]}),u.jsxs("span",{className:"font-medium text-secondary-900",children:[r(e)," tCO2e"]})]})}function Za({label:n,value:e,sub:t}){return u.jsxs("div",{className:"p-4 bg-secondary-50 rounded-lg text-center",children:[u.jsx("p",{className:"text-sm text-secondary-500",children:n}),u.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:e}),u.jsx("p",{className:"text-xs text-secondary-400",children:t})]})}const P5={source:"EPA GHG Emission Factors Hub 2024",url:"https://www.epa.gov/climateleadership",lastUpdated:"2024-02"},E5={naturalGas:{co2:53.06,ch4:.001,n2o:1e-4,unit:"kg/MMBtu",hhv:1.028,hhvUnit:"MMBtu/mcf"},distillateFuelOil:{co2:73.96,ch4:.003,n2o:6e-4,unit:"kg/MMBtu",hhv:.138,hhvUnit:"MMBtu/gallon"},residualFuelOil:{co2:75.1,ch4:.003,n2o:6e-4,unit:"kg/MMBtu",hhv:.15,hhvUnit:"MMBtu/gallon"},crudeOil:{co2:74.54,ch4:.003,n2o:6e-4,unit:"kg/MMBtu",hhv:.138,hhvUnit:"MMBtu/gallon"},lpg:{co2:62.98,ch4:.003,n2o:6e-4,unit:"kg/MMBtu",hhv:.092,hhvUnit:"MMBtu/gallon"},motorGasoline:{co2:70.22,ch4:.003,n2o:6e-4,unit:"kg/MMBtu",hhv:.125,hhvUnit:"MMBtu/gallon"},kerosene:{co2:72.22,ch4:.003,n2o:6e-4,unit:"kg/MMBtu",hhv:.135,hhvUnit:"MMBtu/gallon"},petroleumCoke:{co2:102.41,ch4:.003,n2o:6e-4,unit:"kg/MMBtu"},propane:{co2:62.87,ch4:.003,n2o:6e-4,unit:"kg/MMBtu",hhv:.091,hhvUnit:"MMBtu/gallon"},butane:{co2:65.15,ch4:.003,n2o:6e-4,unit:"kg/MMBtu",hhv:.103,hhvUnit:"MMBtu/gallon"}},F5={gasolinePassengerCar:{co2:8.887,ch4:195e-6,n2o:89e-6,unit:"kg/gallon"},gasolineLightTruck:{co2:8.887,ch4:397e-6,n2o:177e-6,unit:"kg/gallon"},dieselHeavyTruck:{co2:10.21,ch4:.0051,n2o:.0048,unit:"kg/gallon"},dieselEquipment:{co2:10.21,ch4:97e-5,n2o:97e-5,unit:"kg/gallon"},jetFuel:{co2:9.57,ch4:48e-6,n2o:21e-6,unit:"kg/gallon"},marineDistillate:{co2:10.21,ch4:.0097,n2o:.0015,unit:"kg/gallon"},marineResidual:{co2:11.27,ch4:.0097,n2o:.0015,unit:"kg/gallon"}},I5={defaultCO2Factor:60,defaultCombustionEfficiency:.98,molarVolumeConversion68F:849.5,molarVolumeConversion60F:836.6,unit:"kg CO2/MMBtu",defaultHHV:1e3,defaultHHVUnit:"MMBtu/MMscf",methodology:"40 CFR  98.253"},M5={production:{onshore:.15,offshore:.08,unit:"kg CH4/BOE"},gathering:.12,processing:.1,transmission:.05,distribution:.08},di={metadata:P5,stationaryCombustion:E5,mobileCombustion:F5,flaring:I5,fugitiveFactors:M5},O5={CO2:1,CH4_fossil:30,CH4_non_fossil:28,N2O:265,SF6:23500,NF3:16100,HFC_23:12400,HFC_32:677,HFC_125:3170,HFC_134a:1300,HFC_143a:4800,HFC_152a:138,HFC_227ea:3350,HFC_245fa:858,PFC_14:6630,PFC_116:11100,source:"IPCC AR5 (2014)",timeHorizon:100,default:!0,description:"Most commonly used for current regulatory reporting"},R5={CO2:1,CH4_fossil:29.8,CH4_non_fossil:27,N2O:273,SF6:24300,NF3:17400,HFC_23:14600,HFC_32:771,HFC_125:3740,HFC_134a:1530,HFC_143a:5810,HFC_152a:164,HFC_227ea:3600,HFC_245fa:962,PFC_14:7380,PFC_116:12400,source:"IPCC AR6 (2021)",timeHorizon:100,default:!1,description:"Latest scientific values, being adopted by some frameworks"},T5={CO2:1,CH4:25,N2O:298,SF6:22800,source:"IPCC AR4 (2007)",timeHorizon:100,deprecated:!0,description:"Legacy - still used in some regulatory contexts"},ms={AR5:O5,AR6:R5,AR4:T5},B5={naturalGas:{hhv:1.028,unit:"MMBtu/mcf",density:.8,densityUnit:"kg/m",carbonContent:.75,carbonContentUnit:"kg C/kg fuel"},distillateFuelOil:{hhv:.138,unit:"MMBtu/gallon",hhvPerLiter:.0365,density:.84,densityUnit:"kg/liter",carbonContent:.86},residualFuelOil:{hhv:.15,unit:"MMBtu/gallon",density:.95,densityUnit:"kg/liter",carbonContent:.87},crudeOil:{hhv:.138,unit:"MMBtu/gallon",hhvPerBarrel:5.8,hhvPerBarrelUnit:"MMBtu/barrel",density:.85,densityUnit:"kg/liter",carbonContent:.85},lpg:{hhv:.092,unit:"MMBtu/gallon",density:.51,densityUnit:"kg/liter",carbonContent:.82},motorGasoline:{hhv:.125,unit:"MMBtu/gallon",density:.74,densityUnit:"kg/liter",carbonContent:.85},kerosene:{hhv:.135,unit:"MMBtu/gallon",density:.8,densityUnit:"kg/liter",carbonContent:.86},jetFuel:{hhv:.135,unit:"MMBtu/gallon",density:.81,densityUnit:"kg/liter",carbonContent:.86},propane:{hhv:.0913,unit:"MMBtu/gallon",density:.51,densityUnit:"kg/liter",carbonContent:.82},butane:{hhv:.103,unit:"MMBtu/gallon",density:.58,densityUnit:"kg/liter",carbonContent:.83},ethane:{hhv:.0664,unit:"MMBtu/gallon",density:.37,densityUnit:"kg/liter",carbonContent:.8}},D5={gallonToLiter:3.78541},vf={heatingValues:B5,unitConversions:D5};function q5(n,e,t,r="AR5"){const a=di.stationaryCombustion[n];if(!a)throw new Error(`Unknown fuel type: ${n}`);let i=e;t!=="MMBtu"&&(i=H5(e,t,n));const l=ms[r],c=i*a.co2,h=i*a.ch4,d=i*a.n2o,g=h*l.CH4_fossil,y=d*l.N2O,w=c+g+y;return{co2_kg:c,ch4_kg:h,n2o_kg:d,ch4_co2e_kg:g,n2o_co2e_kg:y,co2e_kg:w,co2e_tonnes:w/1e3,quantityMMBtu:i,fuelType:n,methodology:"EPA GHG Emission Factors Hub 2024",gwpVersion:r}}function U5(n,e,t,r,a="AR5"){const i=W5(n,e),l=di.mobileCombustion[i];if(!l)throw new Error(`Unknown mobile source: ${n}/${e}`);let c=t;r==="liter"?c=t/vf.unitConversions?.gallonToLiter||3.78541:r==="barrel"&&(c=t*42);const h=ms[a],d=c*l.co2,g=c*l.ch4,y=c*l.n2o,w=g*h.CH4_fossil,m=y*h.N2O,L=d+w+m;return{co2_kg:d,ch4_kg:g,n2o_kg:y,ch4_co2e_kg:w,n2o_co2e_kg:m,co2e_kg:L,co2e_tonnes:L/1e3,quantityGallons:c,vehicleType:n,fuelType:e,methodology:"EPA Mobile Combustion Factors",gwpVersion:a}}function G5(n,e="AR5"){let t=0,r=0,a=0,i=0;const l=[];for(const c of n)if(!(!c.fuelType||!c.quantity))try{const h=q5(c.fuelType,parseFloat(c.quantity),c.unit||"MMBtu",e);t+=h.co2_kg,r+=h.ch4_kg,a+=h.n2o_kg,i+=h.co2e_kg,l.push({...c,emissions:h})}catch(h){console.warn(`Skipping invalid source: ${h.message}`)}return{total_co2_kg:t,total_ch4_kg:r,total_n2o_kg:a,total_co2e_kg:i,total_co2e_tonnes:i/1e3,breakdown:l,sourceCount:l.length,gwpVersion:e}}function z5(n,e="AR5"){let t=0,r=0,a=0,i=0;const l=[];for(const c of n)if(!(!c.vehicleType||!c.quantity))try{const h=U5(c.vehicleType,c.fuelType||"motorGasoline",parseFloat(c.quantity),c.unit||"gallon",e);t+=h.co2_kg,r+=h.ch4_kg,a+=h.n2o_kg,i+=h.co2e_kg,l.push({...c,emissions:h})}catch(h){console.warn(`Skipping invalid mobile source: ${h.message}`)}return{total_co2_kg:t,total_ch4_kg:r,total_n2o_kg:a,total_co2e_kg:i,total_co2e_tonnes:i/1e3,breakdown:l,sourceCount:l.length,gwpVersion:e}}function H5(n,e,t){const r=vf.heatingValues[t];if(!r){const i={mcf:1.028,gallon:.138,liter:.0365,barrel:5.8,therm:.1}[e];if(i)return n*i;throw new Error(`Cannot convert ${e} to MMBtu for ${t}`)}if(e===r.hhvUnit?.replace("MMBtu/",""))return n*r.hhv;switch(e){case"mcf":return n*(r.hhv||1.028);case"gallon":return n*(r.hhv||.138);case"liter":return n*(r.hhvPerLiter||r.hhv/3.78541);case"barrel":return n*(r.hhvPerBarrel||r.hhv*42);case"therm":return n*.1;default:throw new Error(`Unknown unit: ${e}`)}}function W5(n,e){return{PassengerCar:{motorGasoline:"gasolinePassengerCar",diesel:"dieselHeavyTruck"},LightTruck:{motorGasoline:"gasolineLightTruck",diesel:"dieselHeavyTruck"},HeavyTruck:{motorGasoline:"gasolineLightTruck",diesel:"dieselHeavyTruck"},Equipment:{motorGasoline:"gasolineLightTruck",diesel:"dieselEquipment"}}[n]?.[e]||`${e}${n}`}const{flaring:_l}=di;function $5(n,e=_l.defaultHHV,t=_l.defaultCombustionEfficiency,r="AR5"){if(n<0)throw new Error("Volume cannot be negative");if(t<0||t>1)throw new Error("Combustion efficiency must be between 0 and 1");const a=ms[r],i=_l.defaultCO2Factor,l=n*e,c=l*i*t,h=c/1e3,d=1-t,m=c*(12/44)/t*d*.4*(16/12),L=l*6e-5,E=m*a.CH4_fossil,F=L*a.N2O,C=c+E+F,G=C/1e3;return{co2_kg:c,co2_tonnes:h,ch4_kg:m,ch4_tonnes:m/1e3,n2o_kg:L,ch4_co2e_kg:E,n2o_co2e_kg:F,co2e_kg:C,co2e_tonnes:G,volumeMMscf:n,hhv:e,combustionEfficiency:t,totalEnergyMMBtu:l,methodology:"40 CFR  98.253 (Default Method - Equation Y-2)",gwpVersion:r}}const V5={sources:["EPA eGRID 2022","IEA 2023","Regional authorities"],lastUpdated:"2024-01"},Y5={national:{factor:.373,unit:"kgCO2/kWh",year:2022,source:"EPA eGRID"},subregions:{AKGD:{factor:.448,name:"ASCC Alaska Grid"},AKMS:{factor:.263,name:"ASCC Miscellaneous"},AZNM:{factor:.394,name:"WECC Southwest"},CAMX:{factor:.226,name:"WECC California"},ERCT:{factor:.37,name:"ERCOT All (Texas)"},FRCC:{factor:.374,name:"FRCC All (Florida)"},HIMS:{factor:.519,name:"HICC Miscellaneous"},HIOA:{factor:.649,name:"HICC Oahu"},MROE:{factor:.489,name:"MRO East"},MROW:{factor:.449,name:"MRO West"},NEWE:{factor:.206,name:"NPCC New England"},NWPP:{factor:.278,name:"WECC Northwest"},NYCW:{factor:.218,name:"NPCC NYC/Westchester"},NYLI:{factor:.436,name:"NPCC Long Island"},NYUP:{factor:.114,name:"NPCC Upstate NY"},PRMS:{factor:.499,name:"Puerto Rico"},RFCE:{factor:.289,name:"RFC East"},RFCM:{factor:.501,name:"RFC Michigan"},RFCW:{factor:.445,name:"RFC West"},RMPA:{factor:.465,name:"WECC Rockies"},SPNO:{factor:.382,name:"SPP North"},SPSO:{factor:.398,name:"SPP South"},SRMV:{factor:.345,name:"SERC Mississippi Valley"},SRMW:{factor:.622,name:"SERC Midwest"},SRSO:{factor:.371,name:"SERC South"},SRTV:{factor:.404,name:"SERC Tennessee Valley"},SRVC:{factor:.293,name:"SERC Virginia/Carolina"}}},J5={factor:.212,unit:"kgCO2/kWh",year:2024,source:"UK DESNZ",apiAvailable:!0},K5={factor:.38,unit:"kgCO2/kWh",year:2023,source:"UBA Germany"},X5={factor:.052,unit:"kgCO2/kWh",year:2023,source:"RTE France"},Z5={factor:.144,unit:"kgCO2/kWh",year:2023,source:"REE Spain"},Q5={factor:.265,unit:"kgCO2/kWh",year:2023,source:"ISPRA Italy"},em={factor:.376,unit:"kgCO2/kWh",year:2023,source:"CBS Netherlands"},tm={peninsular:{factor:.774,unit:"tCO2e/MWh",year:2022,name:"Peninsular Malaysia"},sabah:{factor:.531,unit:"tCO2e/MWh",year:2022,name:"Sabah"},sarawak:{factor:.199,unit:"tCO2e/MWh",year:2022,name:"Sarawak"},source:"Malaysia Energy Commission"},nm={factor:.402,unit:"kgCO2/kWh",year:2023,source:"EMA Singapore"},rm={national:{factor:.68,unit:"kgCO2e/kWh",year:2023,source:"Clean Energy Regulator"},states:{NSW:{factor:.68,name:"New South Wales"},VIC:{factor:.79,name:"Victoria"},QLD:{factor:.73,name:"Queensland"},SA:{factor:.3,name:"South Australia"},WA:{factor:.54,name:"Western Australia"},TAS:{factor:.13,name:"Tasmania"},NT:{factor:.54,name:"Northern Territory"}}},im={factor:.45,unit:"kgCO2/kWh",year:2023,source:"UAE Ministry of Energy"},sm={factor:.52,unit:"kgCO2/kWh",year:2023,source:"ECRA Saudi Arabia"},am={factor:.48,unit:"kgCO2/kWh",year:2023,source:"Qatar General Electricity"},om={factor:.56,unit:"kgCO2/kWh",year:2023},lm={factor:.51,unit:"kgCO2/kWh",year:2023},cm={factor:.54,unit:"kgCO2/kWh",year:2023},um={factor:.085,unit:"tCO2/MWh",year:2023,source:"MCTI Brazil"},hm={national:{factor:.12,unit:"kgCO2/kWh"},provinces:{AB:{factor:.53,name:"Alberta"},BC:{factor:.015,name:"British Columbia"},ON:{factor:.03,name:"Ontario"},QC:{factor:.002,name:"Quebec"},SK:{factor:.65,name:"Saskatchewan"}}},fm={factor:.423,unit:"kgCO2/kWh",year:2023},dm={factor:.017,unit:"kgCO2/kWh",year:2023,source:"NVE Norway"},pm={factor:.045,unit:"kgCO2/kWh",year:2023},mm={factor:.166,unit:"kgCO2/kWh",year:2023},gm={factor:.707,unit:"kgCO2/kWh",year:2023},bm={factor:.708,unit:"kgCO2/kWh",year:2023},ym={factor:.555,unit:"kgCO2/kWh",year:2023},vm={factor:.457,unit:"kgCO2/kWh",year:2023},xm={factor:.417,unit:"kgCO2/kWh",year:2023},wm={factor:.95,unit:"kgCO2/kWh",year:2023,source:"Eskom South Africa"},Nm={factor:.41,unit:"kgCO2/kWh",year:2023},_m={factor:.45,unit:"kgCO2/kWh",year:2023},Am={metadata:V5,US:Y5,GB:J5,DE:K5,FR:X5,ES:Z5,IT:Q5,NL:em,MY:tm,SG:nm,AU:rm,AE:im,SA:sm,QA:am,KW:om,OM:lm,BH:cm,BR:um,CA:hm,MX:fm,NO:dm,SE:pm,DK:mm,PL:gm,IN:bm,CN:ym,JP:vm,KR:xm,ZA:wm,NG:Nm,EG:_m};function km(n,e,t=null){const r=Sm(e,t);if(!r)throw new Error(`Grid factor not found for region: ${e}${t?"/"+t:""}`);let a=r.factor;r.unit==="tCO2e/MWh"||r.unit==="tCO2/MWh"?a=r.factor:r.unit==="lbCO2/MWh"&&(a=r.factor*.453592/1e3);const i=n*a,l=i/1e3;return{electricityKWh:n,electricityMWh:n/1e3,gridFactor:a,gridFactorUnit:"kgCO2e/kWh",co2e_kg:i,co2e_tonnes:l,region:e,subregion:t,source:r.source||"Regional database",year:r.year,methodology:"GHG Protocol Location-Based Method"}}function Sm(n,e=null){const t=Am[n];if(!t)return null;if(e){if(t.subregions?.[e])return t.subregions[e];if(t.states?.[e])return t.states[e];if(t.provinces?.[e])return t.provinces[e];if(t[e])return t[e]}return t.factor!==void 0?t:t.national?t.national:null}const Cm={motorGasoline:{factor:8.887,unit:"gallon",kgPerLiter:2.348},diesel:{factor:10.18,unit:"gallon",kgPerLiter:2.689},jetFuel:{factor:9.57,unit:"gallon",kgPerLiter:2.53},kerosene:{factor:9.57,unit:"gallon",kgPerLiter:2.53},lpg:{factor:5.68,unit:"gallon",kgPerLiter:1.5},residualFuelOil:{factor:11.27,unit:"gallon",kgPerLiter:2.98},naturalGas:{factor:53.06,unit:"MMBtu",kgPerMJ:.0503},crudeOil:{factor:430,unit:"barrel",kgPerGallon:10.24},propane:{factor:5.72,unit:"gallon",kgPerLiter:1.51},butane:{factor:6.67,unit:"gallon",kgPerLiter:1.76}};function jm(n,e="AR5"){let t=0;const r={};for(const a of n){const{productType:i,quantity:l,unit:c}=a,h=Cm[i];if(!h){console.warn(`Unknown product type: ${i}`);continue}let d;if(c===h.unit)d=l*h.factor;else if(c==="liter"&&h.kgPerLiter)d=l*h.kgPerLiter;else if(c==="gallon"&&h.kgPerGallon)d=l*h.kgPerGallon;else if(c==="barrel"&&i!=="crudeOil")d=l*42*h.factor;else if(c==="MJ"&&h.kgPerMJ)d=l*h.kgPerMJ;else if(c==="mcf"&&i==="naturalGas")d=l*1.028*h.factor;else{console.warn(`Cannot convert ${c} for ${i}`);continue}t+=d,r[i]||(r[i]={quantity:0,unit:c,co2_kg:0}),r[i].quantity+=l,r[i].co2_kg+=d,r[i].co2_tonnes=r[i].co2_kg/1e3}return{category:11,categoryName:"Use of Sold Products",co2_kg:t,co2_tonnes:t/1e3,breakdown:r,productCount:Object.keys(r).length,methodology:"GHG Protocol Scope 3 Category 11 - End-use Combustion",note:"Represents emissions from customer combustion of sold petroleum products"}}function Lm(n,e="AR5"){const t={naturalGas:{factor:8.5,unit:"MMBtu",description:"Well-to-gate"},electricity:{factor:.05,unit:"kWh",description:"T&D losses"},diesel:{factor:15.2,unit:"gallon",description:"Well-to-tank"},gasoline:{factor:14.5,unit:"gallon",description:"Well-to-tank"},coal:{factor:12,unit:"short ton",description:"Mining & transport"}};let r=0;const a={};for(const i of n){const{energyType:l,quantity:c,unit:h}=i,d=t[l];if(!d){console.warn(`Unknown energy type for Category 3: ${l}`);continue}const g=c*d.factor;r+=g,a[l]={quantity:c,unit:h,factor:d.factor,co2e_kg:g,co2e_tonnes:g/1e3}}return{category:3,categoryName:"Fuel and Energy Related Activities",co2e_kg:r,co2e_tonnes:r/1e3,breakdown:a,methodology:"GHG Protocol Scope 3 Category 3"}}function xf(n){const e={truck:.107,rail:.028,ship:.016,barge:.02,pipeline:.005,air:.602};let t=0;const r=[];for(const a of n){const{mode:i,tonnes:l,distanceKm:c}=a,h=e[i];if(!h){console.warn(`Unknown transport mode: ${i}`);continue}const d=l*c*h;t+=d,r.push({mode:i,tonnes:l,distanceKm:c,tonneKm:l*c,factor:h,co2e_kg:d})}return{category:4,categoryName:"Upstream Transportation and Distribution",co2e_kg:t,co2e_tonnes:t/1e3,breakdown:r,methodology:"GHG Protocol Scope 3 Category 4"}}function Pm(n){return{...xf(n),category:9,categoryName:"Downstream Transportation and Distribution"}}function Em(n){const e={crudeOil:{factor:45,unit:"barrel",description:"Refining"},naturalGas:{factor:5,unit:"mcf",description:"Processing"},ngl:{factor:25,unit:"barrel",description:"Fractionation"}};let t=0;const r=[];for(const a of n){const{productType:i,quantity:l,processingEmissionFactor:c}=a,h=e[i],d=c||h?.factor||0,g=l*d;t+=g,r.push({productType:i,quantity:l,factor:d,co2e_kg:g})}return{category:10,categoryName:"Processing of Sold Products",co2e_kg:t,co2e_tonnes:t/1e3,breakdown:r,methodology:"GHG Protocol Scope 3 Category 10"}}function Fm(n,e="AR5"){const t={categories:{},total_co2e_kg:0,total_co2e_tonnes:0};if(n.category11?.length>0){const r=jm(n.category11,e);t.categories[11]=r,t.total_co2e_kg+=r.co2_kg}if(n.category3?.length>0){const r=Lm(n.category3,e);t.categories[3]=r,t.total_co2e_kg+=r.co2e_kg}if(n.category4?.length>0){const r=xf(n.category4);t.categories[4]=r,t.total_co2e_kg+=r.co2e_kg}if(n.category9?.length>0){const r=Pm(n.category9);t.categories[9]=r,t.total_co2e_kg+=r.co2e_kg}if(n.category10?.length>0){const r=Em(n.category10);t.categories[10]=r,t.total_co2e_kg+=r.co2e_kg}return t.total_co2e_tonnes=t.total_co2e_kg/1e3,t.methodology="GHG Protocol Corporate Value Chain (Scope 3)",t.gwpVersion=e,t}const Ks=[{id:"scope1",label:"Scope 1",description:"Direct emissions"},{id:"scope2",label:"Scope 2",description:"Energy emissions"},{id:"scope3",label:"Scope 3",description:"Value chain (optional)"},{id:"results",label:"Results",description:"Summary & export"}],oh={scope1:{stationaryCombustion:[],mobileCombustion:[],flaring:{volume:0,unit:"MMscf"},venting:[],fugitives:{method:"average",facilityType:"production_onshore"}},scope2:{electricity:{kWh:0,region:"US",subregion:""},steam:{amount:0}},scope3:{includeScope3:!1,category11:[],category3:[],category4:[]}};function Im({mode:n,onChangeMode:e}){const[t,r]=Ie.useState(0),[a,i]=Ie.useState(oh),[l,c]=Ie.useState(null),{notify:h}=ia(),{settings:d}=ra(),g=d?.gwpVersion||"AR5",y=()=>{t<Ks.length-1&&r(t+1)},w=()=>{t>0&&r(t-1)},m=D=>{(D<=t||D===t+1)&&r(D)},L=D=>{i(se=>({...se,scope1:{...se.scope1,...D}}))},E=D=>{i(se=>({...se,scope2:{...se.scope2,...D}}))},F=D=>{i(se=>({...se,scope3:{...se.scope3,...D}}))},C=()=>{try{const D=Mm(a,g);c(D),h.success("Calculation completed successfully!"),y()}catch(D){console.error("Calculation error:",D),h.error("Calculation failed: "+D.message)}},G=()=>{window.confirm("Are you sure you want to reset all inputs?")&&(i(oh),c(null),r(0),h.info("Calculator has been reset"))},W=()=>{switch(Ks[t].id){case"scope1":return u.jsx(u5,{mode:n,data:a.scope1,onUpdate:L});case"scope2":return u.jsx(g5,{mode:n,data:a.scope2,onUpdate:E});case"scope3":return u.jsx(x5,{mode:n,data:a.scope3,onUpdate:F});case"results":return u.jsx(L5,{data:a,results:l,gwpVersion:g});default:return null}};return u.jsxs("div",{className:"py-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Emission Calculator"}),u.jsxs("p",{className:"text-secondary-600",children:[u.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold mr-2 ${n==="simple"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:n==="simple"?"Simple Mode":"Expert Mode"}),u.jsx("button",{onClick:e,className:"text-primary-600 hover:underline text-sm",children:"Change mode"})]})]}),u.jsx(ht,{variant:"ghost",onClick:G,leftIcon:Gc,children:"Reset"})]}),u.jsx(s5,{steps:Ks,currentStep:t,onStepClick:m}),u.jsx(Ct,{className:"mt-6",children:W()}),u.jsxs("div",{className:"flex justify-between mt-6",children:[u.jsx(ht,{variant:"secondary",onClick:w,disabled:t===0,leftIcon:mh,children:"Back"}),t===Ks.length-2?u.jsx(ht,{onClick:C,rightIcon:ea,children:"Calculate Emissions"}):t===Ks.length-1?u.jsx(ht,{onClick:()=>r(0),leftIcon:Gc,children:"Start New Calculation"}):u.jsx(ht,{onClick:y,rightIcon:Dl,children:"Continue"})]})]})}function Mm(n,e){let t=0,r=0,a=0;const i={},l={};let c=null;const h=n.scope1.stationaryCombustion.filter(m=>m.fuelType&&parseFloat(m.quantity)>0);if(h.length>0){const m=G5(h,e);i.stationaryCombustion={co2e_kg:m.total_co2e_kg,co2e_tonnes:m.total_co2e_tonnes,sourceCount:m.sourceCount},t+=m.total_co2e_tonnes}const d=n.scope1.mobileCombustion.filter(m=>m.vehicleType&&parseFloat(m.quantity)>0);if(d.length>0){const m=z5(d,e);i.mobileCombustion={co2e_kg:m.total_co2e_kg,co2e_tonnes:m.total_co2e_tonnes,sourceCount:m.sourceCount},t+=m.total_co2e_tonnes}const g=parseFloat(n.scope1.flaring.volume)||0;if(g>0){let m=g;n.scope1.flaring.unit==="mcf"?m=g/1e3:n.scope1.flaring.unit==="scf"&&(m=g/1e6);const L=$5(m,void 0,void 0,e);i.flaring={co2e_kg:L.co2e_kg,co2e_tonnes:L.co2e_tonnes,methodology:L.methodology},t+=L.co2e_tonnes}const y=parseFloat(n.scope2.electricity.kWh)||0;if(y>0)try{const m=km(y,n.scope2.electricity.region||"US",n.scope2.electricity.subregion||null);l.locationBased={co2e_kg:m.co2e_kg,co2e_tonnes:m.co2e_tonnes,gridFactor:m.gridFactor,region:m.region},r+=m.co2e_tonnes}catch(m){console.warn("Scope 2 calculation error:",m)}if(n.scope3.includeScope3){const m=n.scope3.category11.filter(L=>L.productType&&parseFloat(L.quantity)>0).map(L=>({...L,quantity:parseFloat(L.quantity)}));m.length>0&&(c=Fm({category11:m},e),a=c.total_co2e_tonnes)}const w=t+r+a;return{gwpVersion:e,calculatedAt:new Date().toISOString(),totals:{scope1_tonnes:t,scope2_tonnes:r,scope3_tonnes:a,total_tonnes:w},scope1:i,scope2:l,scope3:c}}function Om(){const[n,e]=Ie.useState(null);return n?u.jsx(Im,{mode:n,onChangeMode:()=>e(null)}):u.jsx(i5,{onSelectMode:e})}const lh=[{id:"energy",name:"Energy",units:[{value:"MMBtu",label:"MMBtu"},{value:"MJ",label:"MJ"},{value:"kWh",label:"kWh"},{value:"therm",label:"Therm"},{value:"GJ",label:"GJ"}],conversions:{MMBtu:{MJ:1055.06,kWh:293.07,therm:10,GJ:1.055},MJ:{MMBtu:948e-6,kWh:.278,therm:.00948,GJ:.001},kWh:{MMBtu:.00341,MJ:3.6,therm:.0341,GJ:.0036},therm:{MMBtu:.1,MJ:105.5,kWh:29.3,GJ:.1055},GJ:{MMBtu:.948,MJ:1e3,kWh:277.8,therm:9.48}}},{id:"volume",name:"Volume",units:[{value:"gallon",label:"Gallon (US)"},{value:"liter",label:"Liter"},{value:"barrel",label:"Barrel"},{value:"mcf",label:"MCF"},{value:"scf",label:"SCF"}],conversions:{gallon:{liter:3.785,barrel:.0238,mcf:.00378,scf:.134},liter:{gallon:.264,barrel:.00629,mcf:.001,scf:.0353},barrel:{gallon:42,liter:158.99,mcf:.159,scf:5.62},mcf:{gallon:264.2,liter:1e3,barrel:6.29,scf:1e3},scf:{gallon:7.48,liter:28.32,barrel:.178,mcf:.001}}},{id:"mass",name:"Mass",units:[{value:"kg",label:"Kilogram"},{value:"lb",label:"Pound"},{value:"tonne",label:"Metric Tonne"},{value:"shortTon",label:"Short Ton (US)"}],conversions:{kg:{lb:2.205,tonne:.001,shortTon:.0011},lb:{kg:.454,tonne:454e-6,shortTon:5e-4},tonne:{kg:1e3,lb:2204.6,shortTon:1.102},shortTon:{kg:907.2,lb:2e3,tonne:.907}}}],Rm=[{value:"stationaryCombustion",label:"Stationary Combustion"},{value:"mobileCombustion",label:"Mobile Combustion"},{value:"flaring",label:"Flaring"}],ch={naturalGas:"Natural Gas",distillateFuelOil:"Distillate Fuel Oil (#2)",residualFuelOil:"Residual Fuel Oil (#6)",crudeOil:"Crude Oil",lpg:"LPG",motorGasoline:"Motor Gasoline",kerosene:"Kerosene",petroleumCoke:"Petroleum Coke",propane:"Propane",butane:"Butane",gasolinePassengerCar:"Gasoline  Passenger Car",gasolineLightTruck:"Gasoline  Light Truck",dieselHeavyTruck:"Diesel  Heavy Truck",dieselEquipment:"Diesel  Off-road Equipment",jetFuel:"Jet Fuel",marineDistillate:"Marine Distillate",marineResidual:"Marine Residual"};function Tm(){const[n,e]=Ie.useState("energy"),[t,r]=Ie.useState(""),[a,i]=Ie.useState(""),[l,c]=Ie.useState(""),[h,d]=Ie.useState(null),[g,y]=Ie.useState("AR5"),[w,m]=Ie.useState("CH4_fossil"),[L,E]=Ie.useState(""),[F,C]=Ie.useState(null),[G,W]=Ie.useState(""),[D,se]=Ie.useState(""),ne=lh.find(_=>_.id===n),ae=()=>{if(!l||!t||!a)return;const _=parseFloat(l);if(isNaN(_))return;if(t===a){d(_);return}const U=ne?.conversions[t]?.[a];U&&d(_*U)},Y=Object.keys(ms[g]||{}).filter(_=>!["source","timeHorizon","default","deprecated","description"].includes(_)).map(_=>({value:_,label:_.replace(/_/g," ")})),B=()=>{const _=parseFloat(L);if(isNaN(_)||_<=0)return;const U=ms[g]?.[w];U!==void 0&&C({gas:w,mass:_,gwp:U,co2e:_*U})},Q=G&&G!=="flaring"?Object.keys(di[G]||{}).map(_=>({value:_,label:ch[_]||_})):[],S=G==="flaring"?di.flaring:G&&D&&di[G]?.[D]?di[G][D]:null;return u.jsxs("div",{className:"py-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Tools"}),u.jsx("p",{className:"text-secondary-600 mb-6",children:"Utility tools for unit conversion, GWP calculation, and emission factor lookup"}),u.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[u.jsxs(Ct,{children:[u.jsx(un,{children:"Unit Converter"}),u.jsx(Di,{children:"Convert between common energy, volume, and mass units"}),u.jsxs("div",{className:"mt-4 space-y-4",children:[u.jsx("div",{className:"flex gap-2",children:lh.map(_=>u.jsx("button",{onClick:()=>{e(_.id),r(""),i(""),d(null)},className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${n===_.id?"bg-primary-100 text-primary-700":"bg-secondary-100 text-secondary-600 hover:bg-secondary-200"}`,children:_.name},_.id))}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Et,{label:"From",options:ne?.units||[],value:t,onChange:_=>r(_.target.value),placeholder:"Select unit"}),u.jsx(Et,{label:"To",options:ne?.units||[],value:a,onChange:_=>i(_.target.value),placeholder:"Select unit"})]}),u.jsx(St,{label:"Value",type:"number",placeholder:"Enter value",value:l,onChange:_=>c(_.target.value)}),u.jsx(ht,{onClick:ae,className:"w-full",leftIcon:kd,children:"Convert"}),h!==null&&u.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-sm text-primary-600",children:"Result"}),u.jsxs("p",{className:"text-2xl font-bold text-primary-700",children:[h.toLocaleString(void 0,{maximumFractionDigits:6})," ",a]})]})]})]}),u.jsxs(Ct,{children:[u.jsx(un,{children:"GWP Calculator"}),u.jsx(Di,{children:"Convert greenhouse gas mass to CO2 equivalent"}),u.jsxs("div",{className:"mt-4 space-y-4",children:[u.jsx("div",{className:"flex gap-2",children:["AR5","AR6","AR4"].map(_=>u.jsx("button",{onClick:()=>{y(_),C(null)},className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${g===_?"bg-primary-100 text-primary-700":"bg-secondary-100 text-secondary-600 hover:bg-secondary-200"}`,children:_},_))}),u.jsx(Et,{label:"Greenhouse Gas",options:Y,value:w,onChange:_=>{m(_.target.value),C(null)},placeholder:"Select gas"}),u.jsx(St,{label:"Mass (kg)",type:"number",placeholder:"Enter mass in kg",value:L,onChange:_=>E(_.target.value)}),u.jsx(ht,{onClick:B,className:"w-full",children:"Calculate CO2e"}),F&&u.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4 text-center",children:[u.jsxs("p",{className:"text-sm text-primary-600",children:[F.mass.toLocaleString()," kg ",F.gas.replace(/_/g," "),"  GWP ",F.gwp]}),u.jsxs("p",{className:"text-2xl font-bold text-primary-700",children:[F.co2e.toLocaleString(void 0,{maximumFractionDigits:2})," kg CO2e"]}),u.jsxs("p",{className:"text-xs text-primary-500 mt-1",children:["= ",(F.co2e/1e3).toLocaleString(void 0,{maximumFractionDigits:4})," tonnes CO2e"]})]}),u.jsx("div",{className:"bg-secondary-50 rounded-lg p-3",children:u.jsxs("p",{className:"text-xs text-secondary-500",children:["Source: ",ms[g]?.source||g,". 100-year time horizon."]})})]})]}),u.jsxs(Ct,{className:"lg:col-span-2",children:[u.jsx(un,{children:"Emission Factor Lookup"}),u.jsx(Di,{children:"Search EPA emission factors by category and fuel type"}),u.jsxs("div",{className:"mt-4",children:[u.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[u.jsx(Et,{label:"Category",options:Rm,value:G,onChange:_=>{W(_.target.value),se("")},placeholder:"Select category"}),G&&G!=="flaring"&&u.jsx(Et,{label:"Fuel Type",options:Q,value:D,onChange:_=>se(_.target.value),placeholder:"Select fuel"})]}),S?u.jsx("div",{className:"bg-secondary-50 rounded-lg p-4",children:G==="flaring"?u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-medium text-secondary-900",children:"Flaring Emission Factors"}),u.jsxs("div",{className:"grid sm:grid-cols-2 gap-x-8 gap-y-1 text-sm",children:[u.jsx(hi,{label:"Default CO2 Factor",value:`${S.defaultCO2Factor} ${S.unit}`}),u.jsx(hi,{label:"Combustion Efficiency",value:`${(S.defaultCombustionEfficiency*100).toFixed(0)}%`}),u.jsx(hi,{label:"Default HHV",value:`${S.defaultHHV} ${S.defaultHHVUnit}`}),u.jsx(hi,{label:"Methodology",value:S.methodology})]})]}):u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-medium text-secondary-900",children:ch[D]||D}),u.jsxs("div",{className:"grid sm:grid-cols-2 gap-x-8 gap-y-1 text-sm",children:[u.jsx(hi,{label:"CO2",value:`${S.co2} ${S.unit}`}),u.jsx(hi,{label:"CH4",value:`${S.ch4} ${S.unit}`}),u.jsx(hi,{label:"N2O",value:`${S.n2o} ${S.unit}`}),S.hhv&&u.jsx(hi,{label:"HHV",value:`${S.hhv} ${S.hhvUnit}`})]}),u.jsxs("p",{className:"text-xs text-secondary-400 mt-2",children:["Source: ",di.metadata.source]})]})}):u.jsx("div",{className:"bg-secondary-50 rounded-lg p-4",children:u.jsxs("p",{className:"text-center text-secondary-500 flex items-center justify-center gap-2",children:[u.jsx(w1,{className:"w-4 h-4"}),"Select a category",G!=="flaring"?" and fuel type":""," above to view emission factors"]})})]})]})]})]})}function hi({label:n,value:e}){return u.jsxs("div",{className:"flex justify-between py-0.5",children:[u.jsx("span",{className:"text-secondary-600",children:n}),u.jsx("span",{className:"font-medium text-secondary-900",children:e})]})}const Bm=[{value:"US",label:"United States"},{value:"GB",label:"United Kingdom"},{value:"AU",label:"Australia"},{value:"MY",label:"Malaysia"},{value:"SG",label:"Singapore"},{value:"EU",label:"European Union"}],Dm=[{value:Al.AR5,label:"IPCC AR5 (2014) - Most Common"},{value:Al.AR6,label:"IPCC AR6 (2021) - Latest"}],qm=[{value:"metric",label:"Metric (tonnes, km, liters)"},{value:"imperial",label:"Imperial (tons, miles, gallons)"}];function Um(){const{settings:n,updateSettings:e}=ra(),{notify:t}=ia(),[r,a]=Ie.useState({eia:"",electricityMaps:""}),[i,l]=Ie.useState({eia:!1,electricityMaps:!1});Ie.useEffect(()=>{try{const y=localStorage.getItem(fi.API_KEYS);if(y){const w=JSON.parse(y);l({eia:!!w.eia?.key,electricityMaps:!!w.electricityMaps?.key})}}catch(y){console.warn("Failed to load API keys:",y)}},[]);const c=(y,w)=>{e({[y]:w}),t.success(`${y} updated successfully`)},h=(y,w)=>{try{const m=JSON.parse(localStorage.getItem(fi.API_KEYS)||"{}");w.trim()?(m[y]={key:w.trim(),addedAt:new Date().toISOString()},l(L=>({...L,[y]:!0})),t.success(`${y.toUpperCase()} API key saved. Features using this API will now use live data.`)):(delete m[y],l(L=>({...L,[y]:!1})),t.info(`${y.toUpperCase()} API key removed. Features will use fallback data.`)),localStorage.setItem(fi.API_KEYS,JSON.stringify(m)),a(L=>({...L,[y]:""})),window.dispatchEvent(new CustomEvent("apiKeyChanged",{detail:{apiName:y}}))}catch{t.error("Failed to save API key")}},d=y=>{h(y,"")},g=()=>{window.confirm("This will delete all your saved facilities, calculations, and settings. This cannot be undone. Continue?")&&(localStorage.removeItem(fi.FACILITIES),localStorage.removeItem(fi.CALCULATIONS),localStorage.removeItem(fi.SETTINGS),t.success("All data cleared successfully"),window.location.reload())};return u.jsxs("div",{className:"py-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Settings"}),u.jsx("p",{className:"text-secondary-600 mb-6",children:"Configure application preferences and API integrations"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Ct,{children:[u.jsx(un,{children:"Calculation Preferences"}),u.jsx(Di,{children:"Default settings for emission calculations"}),u.jsxs("div",{className:"mt-4 space-y-4",children:[u.jsx(Et,{label:"Default Region",options:Bm,value:n.defaultRegion,onChange:y=>c("defaultRegion",y.target.value),helperText:"Used for grid emission factors and regulatory thresholds"}),u.jsx(Et,{label:"GWP Version",options:Dm,value:n.gwpVersion,onChange:y=>c("gwpVersion",y.target.value),helperText:"Global Warming Potential values for CO2e calculations"}),u.jsx(Et,{label:"Unit System",options:qm,value:n.units,onChange:y=>c("units",y.target.value),helperText:"Display units throughout the application"})]})]}),u.jsxs(Ct,{children:[u.jsx(un,{children:"API Configuration"}),u.jsx(Di,{children:"Configure optional API keys for enhanced features"}),u.jsx(cr,{variant:"info",className:"mt-4",children:"API keys are optional. Without them, the app uses built-in fallback data. When configured, features automatically use live API data."}),u.jsxs("div",{className:"mt-4 space-y-6",children:[u.jsxs("div",{className:"border-b border-secondary-200 pb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Uc,{className:"w-4 h-4 text-secondary-500"}),u.jsx("span",{className:"font-medium",children:"EIA API"}),i.eia&&u.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 bg-green-50 px-2 py-0.5 rounded-full",children:[u.jsx(ea,{className:"w-3 h-3"})," Configured"]})]}),u.jsxs("p",{className:"text-sm text-secondary-500 mb-3",children:["US Energy Information Administration - Enhanced US energy data."," ",u.jsx("a",{href:"https://www.eia.gov/opendata/register.php",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"Get free API key"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(St,{placeholder:i.eia?"":"Enter EIA API key",type:"password",value:r.eia,onChange:y=>a({...r,eia:y.target.value}),className:"flex-1"}),u.jsx(ht,{onClick:()=>h("eia",r.eia),disabled:!r.eia.trim(),children:"Save"}),i.eia&&u.jsx(ht,{variant:"ghost",onClick:()=>d("eia"),children:u.jsx(gs,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Uc,{className:"w-4 h-4 text-secondary-500"}),u.jsx("span",{className:"font-medium",children:"ElectricityMaps API"}),i.electricityMaps&&u.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 bg-green-50 px-2 py-0.5 rounded-full",children:[u.jsx(ea,{className:"w-3 h-3"})," Configured"]})]}),u.jsxs("p",{className:"text-sm text-secondary-500 mb-3",children:["Real-time grid carbon intensity for 50+ countries."," ",u.jsx("a",{href:"https://www.electricitymaps.com/pricing",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"Get API key"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(St,{placeholder:i.electricityMaps?"":"Enter ElectricityMaps API key",type:"password",value:r.electricityMaps,onChange:y=>a({...r,electricityMaps:y.target.value}),className:"flex-1"}),u.jsx(ht,{onClick:()=>h("electricityMaps",r.electricityMaps),disabled:!r.electricityMaps.trim(),children:"Save"}),i.electricityMaps&&u.jsx(ht,{variant:"ghost",onClick:()=>d("electricityMaps"),children:u.jsx(gs,{className:"w-4 h-4"})})]})]})]})]}),u.jsxs(Ct,{children:[u.jsx(un,{children:"Data Management"}),u.jsx(Di,{children:"Manage your local data and storage"}),u.jsx("div",{className:"mt-4 space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-secondary-900",children:"Clear All Data"}),u.jsx("p",{className:"text-sm text-secondary-500",children:"Delete all saved facilities, calculations, and settings"})]}),u.jsx(ht,{variant:"danger",onClick:g,children:"Clear Data"})]})})]})]})]})}const Gm=[{question:"What is the difference between Simple and Expert mode?",answer:"Simple mode uses pre-configured emission factors and industry averages for quick estimates. Expert mode allows equipment-level inputs, custom emission factors, gas composition analysis, and detailed methodology selection."},{question:"Which GWP values should I use (AR5 vs AR6)?",answer:"AR5 (IPCC 2014) is currently the most widely used for regulatory reporting. AR6 (IPCC 2021) has the latest scientific values and is being adopted by some frameworks. Check your reporting requirements to determine which version to use."},{question:"How are flaring emissions calculated?",answer:"Flaring emissions follow 40 CFR  98.253 methodology. The default method uses a combustion efficiency of 98% and standard emission factors. Expert mode allows custom gas composition and combustion efficiency inputs."},{question:"What is the difference between location-based and market-based Scope 2?",answer:"Location-based uses average grid emission factors for your region. Market-based accounts for renewable energy certificates (RECs), power purchase agreements (PPAs), and supplier-specific emission factors."},{question:"Why is Category 11 (Use of Sold Products) so significant for O&G?",answer:"For oil and gas companies, Category 11 typically represents 70-90% of total value chain emissions because it accounts for the end-use combustion of sold petroleum products by customers."},{question:"Can I use this tool offline?",answer:"Yes, the calculator works fully offline using cached emission factors. API-dependent features like real-time grid intensity will use fallback data when offline."}],zm=[{title:"GHG Protocol",description:"Corporate Accounting and Reporting Standard",url:"https://ghgprotocol.org"},{title:"EPA GHG Emission Factors Hub",description:"US EPA emission factors and guidance",url:"https://www.epa.gov/climateleadership"},{title:"40 CFR Part 98",description:"Mandatory GHG Reporting Rule",url:"https://www.ecfr.gov/current/title-40/chapter-I/subchapter-C/part-98"},{title:"IPCC Emission Factor Database",description:"International emission factors",url:"https://www.ipcc-nggip.iges.or.jp/EFDB/main.php"},{title:"UK DESNZ Conversion Factors",description:"UK government emission factors",url:"https://www.gov.uk/government/publications/greenhouse-gas-reporting-conversion-factors-2023"}],Hm=[{title:"Scope 1 - Direct Emissions",items:["Stationary combustion (EPA Table C-1)","Mobile combustion (EPA Table C-2)","Flaring (40 CFR  98.253)","Fugitive emissions (EPA Protocol)","Process emissions (industry-specific)"]},{title:"Scope 2 - Energy Emissions",items:["Location-based (eGRID, IEA factors)","Market-based (RECs, PPAs)","Dual reporting per GHG Protocol"]},{title:"Scope 3 - Value Chain",items:["All 15 GHG Protocol categories","Category 11 combustion factors","Spend-based and activity-based methods"]}];function Wm(){const[n,e]=Ie.useState(null);return u.jsxs("div",{className:"py-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Help & Documentation"}),u.jsx("p",{className:"text-secondary-600 mb-6",children:"Learn how to use CarbonScope and understand the calculation methodologies"}),u.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs(Ct,{children:[u.jsx(un,{children:"Quick Start Guide"}),u.jsxs("div",{className:"mt-4 space-y-4",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-primary-700 font-medium",children:"1"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-secondary-900",children:"Run a Calculation"}),u.jsx("p",{className:"text-sm text-secondary-600",children:"Go to the Calculator page, choose Simple or Expert mode, then enter your activity data for Scope 1, 2, and optionally Scope 3."})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-primary-700 font-medium",children:"2"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-secondary-900",children:"Save to a Facility"}),u.jsx("p",{className:"text-sm text-secondary-600",children:'After calculating, use "Save to Facility" to store results. You can create a new facility or save to an existing one.'})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-primary-700 font-medium",children:"3"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-secondary-900",children:"View the Dashboard"}),u.jsx("p",{className:"text-sm text-secondary-600",children:"The Dashboard shows all your facilities as cards. Green badge = has calculation data, gray = empty. Click a card to view full results, generate PDF reports, or delete."})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-primary-700 font-medium",children:"4"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-secondary-900",children:"Benchmark & Export"}),u.jsx("p",{className:"text-sm text-secondary-600",children:'Use "Run Benchmark" on the Dashboard to compare facilities against industry averages. Export results as PDF, Markdown, CSV, or JSON from the Calculator results page.'})]})]})]})]}),u.jsxs(Ct,{children:[u.jsx(un,{children:"Frequently Asked Questions"}),u.jsx("div",{className:"mt-4 divide-y divide-secondary-200",children:Gm.map((t,r)=>u.jsxs("div",{className:"py-3",children:[u.jsxs("button",{onClick:()=>e(n===r?null:r),className:"w-full flex items-center justify-between text-left",children:[u.jsx("span",{className:"font-medium text-secondary-900",children:t.question}),n===r?u.jsx(Rd,{className:"w-5 h-5 text-secondary-400"}):u.jsx(Ul,{className:"w-5 h-5 text-secondary-400"})]}),n===r&&u.jsx("p",{className:"mt-2 text-sm text-secondary-600",children:t.answer})]},r))})]}),u.jsxs(Ct,{children:[u.jsx(un,{children:"Calculation Methodologies"}),u.jsx(Di,{children:"Standards and sources used for emission calculations"}),u.jsx("div",{className:"mt-4 grid sm:grid-cols-3 gap-4",children:Hm.map(t=>u.jsxs("div",{className:"bg-secondary-50 rounded-lg p-4",children:[u.jsx("h4",{className:"font-medium text-secondary-900 mb-2",children:t.title}),u.jsx("ul",{className:"space-y-1",children:t.items.map((r,a)=>u.jsxs("li",{className:"text-xs text-secondary-600",children:[" ",r]},a))})]},t.title))})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Ct,{children:[u.jsx(un,{children:"Resources"}),u.jsx("div",{className:"mt-4 space-y-3",children:zm.map(t=>u.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"block p-3 bg-secondary-50 rounded-lg hover:bg-secondary-100 transition-colors",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"font-medium text-secondary-900 text-sm",children:t.title}),u.jsx(qc,{className:"w-4 h-4 text-secondary-400"})]}),u.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:t.description})]},t.title))})]}),u.jsxs(Ct,{children:[u.jsx(un,{children:"Need Help?"}),u.jsx("p",{className:"text-sm text-secondary-600 mt-2",children:"CarbonScope is an open-source project. For issues and feature requests, please visit our GitHub repository."}),u.jsxs("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 text-primary-600 text-sm hover:underline",children:["View on GitHub",u.jsx(qc,{className:"w-4 h-4"})]})]})]})]})]})}function $m(){return u.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center py-12",children:[u.jsx("div",{className:"text-8xl font-bold text-secondary-200 mb-4",children:"404"}),u.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Page Not Found"}),u.jsx("p",{className:"text-secondary-600 mb-8 max-w-md",children:"The page you're looking for doesn't exist or has been moved."}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(ht,{variant:"outline",onClick:()=>window.history.back(),leftIcon:mh,children:"Go Back"}),u.jsx(Bi,{to:"/",children:u.jsx(ht,{leftIcon:Wl,children:"Home"})})]})]})}function Vm(){return u.jsx(md,{children:u.jsx(yd,{children:u.jsx(od,{children:u.jsx($1,{children:u.jsxs(ld,{children:[u.jsx(Mi,{path:"/",element:u.jsx(J1,{})}),u.jsx(Mi,{path:"/dashboard",element:u.jsx(t5,{})}),u.jsx(Mi,{path:"/calculator",element:u.jsx(Om,{})}),u.jsx(Mi,{path:"/tools",element:u.jsx(Tm,{})}),u.jsx(Mi,{path:"/settings",element:u.jsx(Um,{})}),u.jsx(Mi,{path:"/help",element:u.jsx(Wm,{})}),u.jsx(Mi,{path:"*",element:u.jsx($m,{})})]})})})})})}fd.createRoot(document.getElementById("root")).render(u.jsx(cd.StrictMode,{children:u.jsx(Vm,{})}));
